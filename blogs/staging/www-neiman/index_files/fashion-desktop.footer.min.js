(function(a){"use strict",a.fn.slydeshow=function(b,c){var d=this,e,f=700,g="easeOutExpo",h="fade",i=a(this).find("ul:first").width(),j=0,k=a(this).find("ul:first > li").size()-1,l=[],m,n,o=0,p=0,q=100,r,s,t,u,v,w=!0,x=!0,y=!1,z,A;d.fn={init:function(b){return this.each(function(){e=a(this),e.hasClass("slydeshow")||e.addClass("slydeshow"),b.duration&&(f=b.duration),b.easing&&(g=b.easing),b.transition&&(h=b.transition),b.arrowContainer?v=b.arrowContainer:v=e,b.touchable&&(x=!0),b.moveable&&(y=!0),b.touchTarget?z=b.touchTarget:z=e.find("ul:first"),b.clickCallback&&typeof b.clickCallback=="function"&&(d.fn.clickCallback=b.clickCallback),b.changeCallback&&typeof b.changeCallback=="function"&&(d.fn.changeCallback=b.changeCallback),a(this).find("ul:first > li").each(function(){m?h==="slide"?a(this).css({display:"block",position:"absolute",left:i,top:0}):(a(this).css({display:"none",position:"absolute",left:0,top:0}),a(this).removeClass("active-slide")):(a(this).css({display:"block",position:"absolute",left:0,top:0}),a(this).addClass("active-slide"),m=a(this)),l.push(a(this))}),d.fn.createPills(),d.fn.enable()})},clickCallback:function(a){},changeCallback:function(a){},enable:function(b){b&&b.preventDefault(),v.find(".arrow-next").on("click",d.fn.next),v.find(".arrow-prev").on("click",d.fn.prev),d.fn.makeTouchable(z),u.children().each(function(){a(this).on("click",d.fn.pillClickHandler)})},disable:function(b){b&&b.preventDefault(),v.find(".arrow-next").off("click",d.fn.next),v.find(".arrow-prev").off("click",d.fn.prev),d.fn.makeUntouchable(z),u.children().each(function(){a(this).off("click",d.fn.pillClickHandler)})},setTouchtarget:function(a){d.fn.makeUntouchable(z),z=a,d.fn.makeTouchable(z)},makeTouchable:function(b){x&&(a(b).on("touchstart",d.fn.touchstartHandler),a(b).on("touchend",d.fn.touchendHandler))},makeUntouchable:function(b){a(b).off("touchstart",d.fn.touchstartHandler),a(b).off("touchmove",d.fn.touchmoveHandler),a(b).off("touchend",d.fn.touchendHandler)},prepareSlide:function(){a(this).find("ul:first > li").css({zIndex:1}),m.css({zIndex:2})},next:function(a){a&&a.preventDefault(),w=!0,A&&n===A&&d.fn.removeInterstitial();if(!A||A===m)j+=1,j>k&&(j=0);m.each(function(){d.fn.slideAnimateOut(this,d.fn.moveNext)}),a&&d.fn.clickCallback(j)},moveNext:function(){n=m,n.removeClass("active-slide"),h==="slide"?(n.stop().animate({left:-i},{duration:f,easing:g,complete:d.fn.slideOutCallback}),m=A&&m!==A?A:l[j],d.fn.prepareSlide(),m.show().css({left:i}).each(d.fn.slideAnimateInit).stop().animate({left:0},{duration:f,easing:g,complete:d.fn.slideAnimatePlay})):(n.stop().fadeOut({duration:f,easing:g,complete:d.fn.slideOutCallback}),m=A&&m!==A?A:l[j],d.fn.prepareSlide(),m.show().fadeOut(0).each(d.fn.slideAnimateInit).stop().fadeIn({duration:f,easing:g,complete:d.fn.slideAnimatePlay})),m.addClass("active-slide"),d.fn.setPill()},prev:function(a){a&&a.preventDefault(),w=!1,A&&n===A&&d.fn.removeInterstitial();if(!A||A===m)j-=1,j<0&&(j=k);m.each(function(){d.fn.slideAnimateOut(this,d.fn.movePrev)}),a&&d.fn.clickCallback(j)},movePrev:function(){n=m,n.removeClass("active-slide"),h==="slide"?(n.stop().animate({left:i},{duration:f,easing:g,complete:d.fn.slideOutCallback}),m=A&&m!==A?A:l[j],d.fn.prepareSlide(),m.show().css({left:-i}).each(d.fn.slideAnimateInit).stop().animate({left:0},{duration:f,easing:g,complete:d.fn.slideAnimatePlay})):(n.stop().fadeOut({duration:f,easing:g,complete:d.fn.slideOutCallback}),m=A&&m!==A?A:l[j],d.fn.prepareSlide(),m.show().fadeOut(0).each(d.fn.slideAnimateInit).stop().fadeIn({duration:f,easing:g,complete:d.fn.slideAnimatePlay})),m.addClass("active-slide"),d.fn.setPill()},slideOutCallback:function(){a(this).hide(),A&&n===A&&d.fn.removeInterstitial()},slideAnimateInit:function(){a(this).find("[data-speed]").each(function(){var b=a(this).attr("data-x-start")?a(this).attr("data-x-start"):!1,c=a(this).attr("data-y-start")?a(this).attr("data-y-start"):!1,d=a(this).attr("data-opacity-start")?a(this).attr("data-opacity-start"):!1,e=a(this).attr("data-reverse")?a(this).attr("data-reverse"):!1,f={};b&&(e&&!w&&(b=-b),f.left=b+"px"),c&&(f.top=c+"px"),d&&(f.opacity=d),a(this).css(f).hide()})},slideAnimatePlay:function(){a(this).find("[data-speed]").each(function(){var b=a(this).attr("data-x-end")?a(this).attr("data-x-end"):!1,c=a(this).attr("data-y-end")?a(this).attr("data-y-end"):!1,d=a(this).attr("data-speed"),e=a(this).attr("data-opacity-end")?a(this).attr("data-opacity-end"):!1,f=a(this).attr("data-delay")?a(this).attr("data-delay"):0,g=a(this).attr("data-reverse")?a(this).attr("data-reverse"):!1,h=a(this).attr("data-easing")?a(this).attr("data-easing"):"linear",i={};b&&(g&&!w&&(b=-b),i.left=b),c&&(i.top=c),e&&(i.opacity=e),a(this).stop().show().delay(f).animate(i,{duration:d,easing:h})}),m.stop().animate({left:0},{duration:f,easing:g})},slideAnimateOut:function(b,c){o=0,p=0,a(b).find("[data-speed]").each(function(){var b=a(this).attr("data-x-out")?a(this).attr("data-x-out"):!1,e=a(this).attr("data-y-out")?a(this).attr("data-y-out"):!1,f=a(this).attr("data-speed-out")?a(this).attr("data-speed-out"):a(this).attr("data-speed"),g=a(this).attr("data-opacity-out")?a(this).attr("data-opacity-out"):!1,h=a(this).attr("data-delay-out")?a(this).attr("data-delay-out"):0,i=a(this).attr("data-reverse")?a(this).attr("data-reverse"):!1,j=a(this).attr("data-easing-out")?a(this).attr("data-easing-out"):a(this).attr("data-easing")?a(this).attr("data-easing"):"linear",k={};if(!b&&!e&&!g)return;o+=1,b&&(i&&!w&&(b=-b),k.left=b),e&&(k.top=e),g&&(k.opacity=g),a(this).stop().show().delay(h).animate(k,{duration:f,easing:j,complete:function(){d.fn.animateOutComplete(c)}})}),o===p&&c()},animateOutComplete:function(a){p+=1,p>=o&&a()},touchstartHandler:function(b){var c=b.originalEvent.touches[0]||b.originalEvent.changedTouches[0];r=(new Date).getTime(),s=c.pageX,t=c.pageY,y&&a(z).on("touchmove",d.fn.touchmoveHandler)},touchmoveHandler:function(a){var b=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0],c=b.pageX-s;return m.css({left:c}),!1},touchendHandler:function(b){var c=b.originalEvent.touches[0]||b.originalEvent.changedTouches[0],e=s-c.pageX;y&&a(z).off("touchmove",d.fn.touchmoveHandler);if(Math.abs(e)<q)y&&m.stop().animate({left:0},{duration:300,easing:"easeOutBack"});else return e>0?d.fn.next(b):d.fn.prev(b),!1},createPills:function(){var b,c;u=a('<span class="slydeshow-pills"></span>'),e.append(u);for(b=0;b<l.length;b+=1)u.append("<span></span>");a(u.children()[0]).addClass("active")},setPill:function(){a(u.children()).removeClass("active"),a(u.children()[j]).addClass("active"),d.fn.changeCallback(m)},pillClickHandler:function(b){var c=a(this).index();b&&b.preventDefault(),d.fn.gotoSlide(c),d.fn.clickCallback(c)},gotoSlide:function(a){if(a===j||a<0||a>k)return;if(j>0&&a<j){if(!A||m===A)j=a;d.fn.movePrev()}else{if(!A||m===A)j=a;d.fn.moveNext()}},addInterstitial:function(b){d.fn.removeInterstitial(),A=a("<li></li>"),A.append(b),A.hide(),e.find("ul:first").append(A)},removeInterstitial:function(){A&&(A.remove(),A=undefined)}},typeof c=="function"&&(d.fn.changeCallback=c);if(d.fn[b])return d.fn[b].apply(this,Array.prototype.slice.call(arguments,1));if(typeof b=="object"||!b)return d.fn.init.apply(this,arguments);a.error("Method "+b+" does not exist on jQuery.slydeshow")}})(jQuery),function(a,b){"use strict";var c=a.console||b,d=a.document,e=a.navigator,f=a.sessionStorage||!1,g=a.setTimeout,h=a.clearTimeout,i=a.setInterval,j=a.clearInterval,k=a.JSON,l=a.alert,m=a.History=a.History||{},n=a.history;k.stringify=k.stringify||k.encode,k.parse=k.parse||k.decode;if(typeof m.init!="undefined")throw new Error("History.js Core has already been loaded...");m.init=function(){return typeof m.Adapter=="undefined"?!1:(typeof m.initCore!="undefined"&&m.initCore(),typeof m.initHtml4!="undefined"&&m.initHtml4(),!0)},m.initCore=function(){if(typeof m.initCore.initialized!="undefined")return!1;m.initCore.initialized=!0,m.options=m.options||{},m.options.hashChangeInterval=m.options.hashChangeInterval||100,m.options.safariPollInterval=m.options.safariPollInterval||500,m.options.doubleCheckInterval=m.options.doubleCheckInterval||500,m.options.storeInterval=m.options.storeInterval||1e3,m.options.busyDelay=m.options.busyDelay||250,m.options.debug=m.options.debug||!1,m.options.initialTitle=m.options.initialTitle||d.title,m.intervalList=[],m.clearAllIntervals=function(){var a,b=m.intervalList;if(typeof b!="undefined"&&b!==null){for(a=0;a<b.length;a++)j(b[a]);m.intervalList=null}},m.debug=function(){(m.options.debug||!1)&&m.log.apply(m,arguments)},m.log=function(){var a=typeof c!="undefined"&&typeof c.log!="undefined"&&typeof c.log.apply!="undefined",b=d.getElementById("log"),e,f,g,h,i;a?(h=Array.prototype.slice.call(arguments),e=h.shift(),typeof c.debug!="undefined"?c.debug.apply(c,[e,h]):c.log.apply(c,[e,h])):e="\n"+arguments[0]+"\n";for(f=1,g=arguments.length;f<g;++f){i=arguments[f];if(typeof i=="object"&&typeof k!="undefined")try{i=k.stringify(i)}catch(j){}e+="\n"+i+"\n"}return b?(b.value+=e+"\n-----\n",b.scrollTop=b.scrollHeight-b.clientHeight):a||l(e),!0},m.getInternetExplorerMajorVersion=function(){var a=m.getInternetExplorerMajorVersion.cached=typeof m.getInternetExplorerMajorVersion.cached!="undefined"?m.getInternetExplorerMajorVersion.cached:function(){var a=3,b=d.createElement("div"),c=b.getElementsByTagName("i");while((b.innerHTML="<!--[if gt IE "+ ++a+"]><i></i><![endif]-->")&&c[0]);return a>4?a:!1}();return a},m.isInternetExplorer=function(){var a=m.isInternetExplorer.cached=typeof m.isInternetExplorer.cached!="undefined"?m.isInternetExplorer.cached:Boolean(m.getInternetExplorerMajorVersion());return a},m.emulated={pushState:!Boolean(a.history&&a.history.pushState&&a.history.replaceState&&!/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(e.userAgent)&&!/AppleWebKit\/5([0-2]|3[0-2])/i.test(e.userAgent)),hashChange:Boolean(!("onhashchange"in a||"onhashchange"in d)||m.isInternetExplorer()&&m.getInternetExplorerMajorVersion()<8)},m.enabled=!m.emulated.pushState,m.bugs={setHash:Boolean(!m.emulated.pushState&&e.vendor==="Apple Computer, Inc."&&/AppleWebKit\/5([0-2]|3[0-3])/.test(e.userAgent)),safariPoll:Boolean(!m.emulated.pushState&&e.vendor==="Apple Computer, Inc."&&/AppleWebKit\/5([0-2]|3[0-3])/.test(e.userAgent)),ieDoubleCheck:Boolean(m.isInternetExplorer()&&m.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(m.isInternetExplorer()&&m.getInternetExplorerMajorVersion()<7)},m.isEmptyObject=function(a){for(var b in a)return!1;return!0},m.cloneObject=function(a){var b,c;return a?(b=k.stringify(a),c=k.parse(b)):c={},c},m.getRootUrl=function(){var a=d.location.protocol+"//"+(d.location.hostname||d.location.host);if(d.location.port||!1)a+=":"+d.location.port;return a+="/",a},m.getBaseHref=function(){var a=d.getElementsByTagName("base"),b=null,c="";return a.length===1&&(b=a[0],c=b.href.replace(/[^\/]+$/,"")),c=c.replace(/\/+$/,""),c&&(c+="/"),c},m.getBaseUrl=function(){var a=m.getBaseHref()||m.getBasePageUrl()||m.getRootUrl();return a},m.getPageUrl=function(){var a=m.getState(!1,!1),b=(a||{}).url||d.location.href,c;return c=b.replace(/\/+$/,"").replace(/[^\/]+$/,function(a,b,c){return/\./.test(a)?a:a+"/"}),c},m.getBasePageUrl=function(){var a=d.location.href.replace(/[#\?].*/,"").replace(/[^\/]+$/,function(a,b,c){return/[^\/]$/.test(a)?"":a}).replace(/\/+$/,"")+"/";return a},m.getFullUrl=function(a,b){var c=a,d=a.substring(0,1);return b=typeof b=="undefined"?!0:b,/[a-z]+\:\/\//.test(a)||(d==="/"?c=m.getRootUrl()+a.replace(/^\/+/,""):d==="#"?c=m.getPageUrl().replace(/#.*/,"")+a:d==="?"?c=m.getPageUrl().replace(/[\?#].*/,"")+a:b?c=m.getBaseUrl()+a.replace(/^(\.\/)+/,""):c=m.getBasePageUrl()+a.replace(/^(\.\/)+/,"")),c.replace(/\#$/,"")},m.getShortUrl=function(a){var b=a,c=m.getBaseUrl(),d=m.getRootUrl();return m.emulated.pushState&&(b=b.replace(c,"")),b=b.replace(d,"/"),m.isTraditionalAnchor(b)&&(b="./"+b),b=b.replace(/^(\.\/)+/g,"./").replace(/\#$/,""),b},m.store={},m.idToState=m.idToState||{},m.stateToId=m.stateToId||{},m.urlToId=m.urlToId||{},m.storedStates=m.storedStates||[],m.savedStates=m.savedStates||[],m.normalizeStore=function(){m.store.idToState=m.store.idToState||{},m.store.urlToId=m.store.urlToId||{},m.store.stateToId=m.store.stateToId||{}},m.getState=function(a,b){typeof a=="undefined"&&(a=!0),typeof b=="undefined"&&(b=!0);var c=m.getLastSavedState();return!c&&b&&(c=m.createStateObject()),a&&(c=m.cloneObject(c),c.url=c.cleanUrl||c.url),c},m.getIdByState=function(a){var b=m.extractId(a.url),c;if(!b){c=m.getStateString(a);if(typeof m.stateToId[c]!="undefined")b=m.stateToId[c];else if(typeof m.store.stateToId[c]!="undefined")b=m.store.stateToId[c];else{for(;;){b=(new Date).getTime()+String(Math.random()).replace(/\D/g,"");if(typeof m.idToState[b]=="undefined"&&typeof m.store.idToState[b]=="undefined")break}m.stateToId[c]=b,m.idToState[b]=a}}return b},m.normalizeState=function(a){var b,c;if(!a||typeof a!="object")a={};if(typeof a.normalized!="undefined")return a;if(!a.data||typeof a.data!="object")a.data={};b={},b.normalized=!0,b.title=a.title||"",b.url=m.getFullUrl(m.unescapeString(a.url||d.location.href)),b.hash=m.getShortUrl(b.url),b.data=m.cloneObject(a.data),b.id=m.getIdByState(b),b.cleanUrl=b.url.replace(/\??\&_suid.*/,""),b.url=b.cleanUrl,c=!m.isEmptyObject(b.data);if(b.title||c)b.hash=m.getShortUrl(b.url).replace(/\??\&_suid.*/,""),/\?/.test(b.hash)||(b.hash+="?"),b.hash+="&_suid="+b.id;return b.hashedUrl=m.getFullUrl(b.hash),(m.emulated.pushState||m.bugs.safariPoll)&&m.hasUrlDuplicate(b)&&(b.url=b.hashedUrl),b},m.createStateObject=function(a,b,c){var d={data:a,title:b,url:c};return d=m.normalizeState(d),d},m.getStateById=function(a){a=String(a);var c=m.idToState[a]||m.store.idToState[a]||b;return c},m.getStateString=function(a){var b,c,d;return b=m.normalizeState(a),c={data:b.data,title:a.title,url:a.url},d=k.stringify(c),d},m.getStateId=function(a){var b,c;return b=m.normalizeState(a),c=b.id,c},m.getHashByState=function(a){var b,c;return b=m.normalizeState(a),c=b.hash,c},m.extractId=function(a){var b,c,d;return c=/(.*)\&_suid=([0-9]+)$/.exec(a),d=c?c[1]||a:a,b=c?String(c[2]||""):"",b||!1},m.isTraditionalAnchor=function(a){var b=!/[\/\?\.]/.test(a);return b},m.extractState=function(a,b){var c=null,d,e;return b=b||!1,d=m.extractId(a),d&&(c=m.getStateById(d)),c||(e=m.getFullUrl(a),d=m.getIdByUrl(e)||!1,d&&(c=m.getStateById(d)),!c&&b&&!m.isTraditionalAnchor(a)&&(c=m.createStateObject(null,null,e))),c},m.getIdByUrl=function(a){var c=m.urlToId[a]||m.store.urlToId[a]||b;return c},m.getLastSavedState=function(){return m.savedStates[m.savedStates.length-1]||b},m.getLastStoredState=function(){return m.storedStates[m.storedStates.length-1]||b},m.hasUrlDuplicate=function(a){var b=!1,c;return c=m.extractState(a.url),b=c&&c.id!==a.id,b},m.storeState=function(a){return m.urlToId[a.url]=a.id,m.storedStates.push(m.cloneObject(a)),a},m.isLastSavedState=function(a){var b=!1,c,d,e;return m.savedStates.length&&(c=a.id,d=m.getLastSavedState(),e=d.id,b=c===e),b},m.saveState=function(a){return m.isLastSavedState(a)?!1:(m.savedStates.push(m.cloneObject(a)),!0)},m.getStateByIndex=function(a){var b=null;return typeof a=="undefined"?b=m.savedStates[m.savedStates.length-1]:a<0?b=m.savedStates[m.savedStates.length+a]:b=m.savedStates[a],b},m.getHash=function(){var a=m.unescapeHash(d.location.hash);return a},m.unescapeString=function(b){var c=b,d;for(;;){d=a.unescape(c);if(d===c)break;c=d}return c},m.unescapeHash=function(a){var b=m.normalizeHash(a);return b=m.unescapeString(b),b},m.normalizeHash=function(a){var b=a.replace(/[^#]*#/,"").replace(/#.*/,"");return b},m.setHash=function(a,b){var c,e,f;return b!==!1&&m.busy()?(m.pushQueue({scope:m,callback:m.setHash,args:arguments,queue:b}),!1):(c=m.escapeHash(a),m.busy(!0),e=m.extractState(a,!0),e&&!m.emulated.pushState?m.pushState(e.data,e.title,e.url,!1):d.location.hash!==c&&(m.bugs.setHash?(f=m.getPageUrl(),m.pushState(null,null,f+"#"+c,!1)):d.location.hash=c),m)},m.escapeHash=function(b){var c=m.normalizeHash(b);return c=a.escape(c),m.bugs.hashEscape||(c=c.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),c},m.getHashByUrl=function(a){var b=String(a).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return b=m.unescapeHash(b),b},m.setTitle=function(a){var b=a.title,c;b||(c=m.getStateByIndex(0),c&&c.url===a.url&&(b=c.title||m.options.initialTitle));try{d.getElementsByTagName("title")[0].innerHTML=b.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(e){}return d.title=b,m},m.queues=[],m.busy=function(a){typeof a!="undefined"?m.busy.flag=a:typeof m.busy.flag=="undefined"&&(m.busy.flag=!1);if(!m.busy.flag){h(m.busy.timeout);var b=function(){var a,c,d;if(m.busy.flag)return;for(a=m.queues.length-1;a>=0;--a){c=m.queues[a];if(c.length===0)continue;d=c.shift(),m.fireQueueItem(d),m.busy.timeout=g(b,m.options.busyDelay)}};m.busy.timeout=g(b,m.options.busyDelay)}return m.busy.flag},m.busy.flag=!1,m.fireQueueItem=function(a){return a.callback.apply(a.scope||m,a.args||[])},m.pushQueue=function(a){return m.queues[a.queue||0]=m.queues[a.queue||0]||[],m.queues[a.queue||0].push(a),m},m.queue=function(a,b){return typeof a=="function"&&(a={callback:a}),typeof b!="undefined"&&(a.queue=b),m.busy()?m.pushQueue(a):m.fireQueueItem(a),m},m.clearQueue=function(){return m.busy.flag=!1,m.queues=[],m},m.stateChanged=!1,m.doubleChecker=!1,m.doubleCheckComplete=function(){return m.stateChanged=!0,m.doubleCheckClear(),m},m.doubleCheckClear=function(){return m.doubleChecker&&(h(m.doubleChecker),m.doubleChecker=!1),m},m.doubleCheck=function(a){return m.stateChanged=!1,m.doubleCheckClear(),m.bugs.ieDoubleCheck&&(m.doubleChecker=g(function(){return m.doubleCheckClear(),m.stateChanged||a(),!0},m.options.doubleCheckInterval)),m},m.safariStatePoll=function(){var b=m.extractState(d.location.href),c;if(!m.isLastSavedState(b))c=b;else return;return c||(c=m.createStateObject()),m.Adapter.trigger(a,"popstate"),m},m.back=function(a){return a!==!1&&m.busy()?(m.pushQueue({scope:m,callback:m.back,args:arguments,queue:a}),!1):(m.busy(!0),m.doubleCheck(function(){m.back(!1)}),n.go(-1),!0)},m.forward=function(a){return a!==!1&&m.busy()?(m.pushQueue({scope:m,callback:m.forward,args:arguments,queue:a}),!1):(m.busy(!0),m.doubleCheck(function(){m.forward(!1)}),n.go(1),!0)},m.go=function(a,b){var c;if(a>0)for(c=1;c<=a;++c)m.forward(b);else{if(!(a<0))throw new Error("History.go: History.go requires a positive or negative integer passed.");for(c=-1;c>=a;--c)m.back(b)}return m};if(m.emulated.pushState){var o=function(){};m.pushState=m.pushState||o,m.replaceState=m.replaceState||o}else m.onPopState=function(b,c){var e=!1,f=!1,g,h;return m.doubleCheckComplete(),g=m.getHash(),g?(h=m.extractState(g||d.location.href,!0),h?m.replaceState(h.data,h.title,h.url,!1):(m.Adapter.trigger(a,"anchorchange"),m.busy(!1)),m.expectedStateId=!1,!1):(e=m.Adapter.extractEventData("state",b,c)||!1,e?f=m.getStateById(e):m.expectedStateId?f=m.getStateById(m.expectedStateId):f=m.extractState(d.location.href),f||(f=m.createStateObject(null,null,d.location.href)),m.expectedStateId=!1,m.isLastSavedState(f)?(m.busy(!1),!1):(m.storeState(f),m.saveState(f),m.setTitle(f),m.Adapter.trigger(a,"statechange"),m.busy(!1),!0))},m.Adapter.bind(a,"popstate",m.onPopState),m.pushState=function(b,c,d,e){if(m.getHashByUrl(d)&&m.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(e!==!1&&m.busy())return m.pushQueue({scope:m,callback:m.pushState,args:arguments,queue:e}),!1;m.busy(!0);var f=m.createStateObject(b,c,d);return m.isLastSavedState(f)?m.busy(!1):(m.storeState(f),m.expectedStateId=f.id,n.pushState(f.id,f.title,f.url),m.Adapter.trigger(a,"popstate")),!0},m.replaceState=function(b,c,d,e){if(m.getHashByUrl(d)&&m.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(e!==!1&&m.busy())return m.pushQueue({scope:m,callback:m.replaceState,args:arguments,queue:e}),!1;m.busy(!0);var f=m.createStateObject(b,c,d);return m.isLastSavedState(f)?m.busy(!1):(m.storeState(f),m.expectedStateId=f.id,n.replaceState(f.id,f.title,f.url),m.Adapter.trigger(a,"popstate")),!0};if(f){try{m.store=k.parse(f.getItem("History.store"))||{}}catch(p){m.store={}}m.normalizeStore()}else m.store={},m.normalizeStore();m.Adapter.bind(a,"beforeunload",m.clearAllIntervals),m.Adapter.bind(a,"unload",m.clearAllIntervals),m.saveState(m.storeState(m.extractState(d.location.href,!0))),f&&(m.onUnload=function(){var a,b;try{a=k.parse(f.getItem("History.store"))||{}}catch(c){a={}}a.idToState=a.idToState||{},a.urlToId=a.urlToId||{},a.stateToId=a.stateToId||{};for(b in m.idToState){if(!m.idToState.hasOwnProperty(b))continue;a.idToState[b]=m.idToState[b]}for(b in m.urlToId){if(!m.urlToId.hasOwnProperty(b))continue;a.urlToId[b]=m.urlToId[b]}for(b in m.stateToId){if(!m.stateToId.hasOwnProperty(b))continue;a.stateToId[b]=m.stateToId[b]}m.store=a,m.normalizeStore(),f.setItem("History.store",k.stringify(a))},m.intervalList.push(i(m.onUnload,m.options.storeInterval)),m.Adapter.bind(a,"beforeunload",m.onUnload),m.Adapter.bind(a,"unload",m.onUnload));if(!m.emulated.pushState){m.bugs.safariPoll&&m.intervalList.push(i(m.safariStatePoll,m.options.safariPollInterval));if(e.vendor==="Apple Computer, Inc."||(e.appCodeName||"")==="Mozilla")m.Adapter.bind(a,"hashchange",function(){m.Adapter.trigger(a,"popstate")}),m.getHash()&&m.Adapter.onDomLoad(function(){m.Adapter.trigger(a,"hashchange")})}},m.init()}(window),function(a){a.extend(a.fn,{validate:function(b){if(!this.length){b&&b.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing");return}var c=a.data(this[0],"validator");return c?c:(this.attr("novalidate","novalidate"),c=new a.validator(b,this[0]),a.data(this[0],"validator",c),c.settings.onsubmit&&(this.validateDelegate(":submit","click",function(b){c.settings.submitHandler&&(c.submitButton=b.target),a(b.target).hasClass("cancel")&&(c.cancelSubmit=!0)}),this.submit(function(b){function d(){var d;return c.settings.submitHandler?(c.submitButton&&(d=a("<input type='hidden'/>").attr("name",c.submitButton.name).val(c.submitButton.value).appendTo(c.currentForm)),c.settings.submitHandler.call(c,c.currentForm,b),c.submitButton&&d.remove(),!1):!0}return c.settings.debug&&b.preventDefault(),c.cancelSubmit?(c.cancelSubmit=!1,d()):c.form()?c.pendingRequest?(c.formSubmitted=!0,!1):d():(c.focusInvalid(),!1)})),c)},valid:function(){if(a(this[0]).is("form"))return this.validate().form();var b=!0,c=a(this[0].form).validate();return this.each(function(){b&=c.element(this)}),b},removeAttrs:function(b){var c={},d=this;return a.each(b.split(/\s/),function(a,b){c[b]=d.attr(b),d.removeAttr(b)}),c},rules:function(b,c){var d=this[0];if(b){var e=a.data(d.form,"validator").settings,f=e.rules,g=a.validator.staticRules(d);switch(b){case"add":a.extend(g,a.validator.normalizeRule(c)),f[d.name]=g,c.messages&&(e.messages[d.name]=a.extend(e.messages[d.name],c.messages));break;case"remove":if(!c)return delete f[d.name],g;var h={};return a.each(c.split(/\s/),function(a,b){h[b]=g[b],delete g[b]}),h}}var i=a.validator.normalizeRules(a.extend({},a.validator.classRules(d),a.validator.attributeRules(d),a.validator.dataRules(d),a.validator.staticRules(d)),d);if(i.required){var j=i.required;delete i.required,i=a.extend({required:j},i)}return i}}),a.extend(a.expr[":"],{blank:function(b){return!a.trim(""+b.value)},filled:function(b){return!!a.trim(""+b.value)},unchecked:function(a){return!a.checked}}),a.validator=function(b,c){this.settings=a.extend(!0,{},a.validator.defaults,b),this.currentForm=c,this.init()},a.validator.format=function(b,c){return arguments.length===1?function(){var c=a.makeArray(arguments);return c.unshift(b),a.validator.format.apply(this,c)}:(arguments.length>2&&c.constructor!==Array&&(c=a.makeArray(arguments).slice(1)),c.constructor!==Array&&(c=[c]),a.each(c,function(a,c){b=b.replace(new RegExp("\\{"+a+"\\}","g"),c)}),b)},a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(a,b){this.lastActive=a,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(a)).hide())},onfocusout:function(a,b){!this.checkable(a)&&(a.name in this.submitted||!this.optional(a))&&this.element(a)},onkeyup:function(a,b){if(b.which===9&&this.elementValue(a)==="")return;(a.name in this.submitted||a===this.lastElement)&&this.element(a)},onclick:function(a,b){a.name in this.submitted?this.element(a):a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(b,c,d){b.type==="radio"?this.findByName(b.name).addClass(c).removeClass(d):a(b).addClass(c).removeClass(d)},unhighlight:function(b,c,d){b.type==="radio"?this.findByName(b.name).removeClass(c).addClass(d):a(b).removeClass(c).addClass(d)}},setDefaults:function(b){a.extend(a.validator.defaults,b)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function d(b){var c=a.data(this[0].form,"validator"),d="on"+b.type.replace(/^validate/,"");c.settings[d]&&c.settings[d].call(c,this[0],b)}this.labelContainer=a(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm),this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var b=this.groups={};a.each(this.settings.groups,function(c,d){typeof d=="string"&&(d=d.split(/\s/)),a.each(d,function(a,d){b[d]=c})});var c=this.settings.rules;a.each(c,function(b,d){c[b]=a.validator.normalizeRule(d)}),a(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",d).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",d),this.settings.invalidHandler&&a(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),a.extend(this.submitted,this.errorMap),this.invalid=a.extend({},this.errorMap),this.valid()||a(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var a=0,b=this.currentElements=this.elements();b[a];a++)this.check(b[a]);return this.valid()},element:function(b){b=this.validationTargetFor(this.clean(b)),this.lastElement=b,this.prepareElement(b),this.currentElements=a(b);var c=this.check(b)!==!1;return c?delete this.invalid[b.name]:this.invalid[b.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),c},showErrors:function(b){if(b){a.extend(this.errorMap,b),this.errorList=[];for(var c in b)this.errorList.push({message:b[c],element:this.findByName(c)[0]});this.successList=a.grep(this.successList,function(a){return!(a.name in b)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){a.fn.resetForm&&a(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var b=0;for(var c in a)b++;return b},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()===0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(b){}},findLastActive:function(){var b=this.lastActive;return b&&a.grep(this.errorList,function(a){return a.element.name===b.name}).length===1&&b},elements:function(){var b=this,c={};return a(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&b.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in c||!b.objectLength(a(this).rules())?!1:(c[this.name]=!0,!0)})},clean:function(b){return a(b)[0]},errors:function(){var b=this.settings.errorClass.replace(" ",".");return a(this.settings.errorElement+"."+b,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=a([]),this.toHide=a([]),this.currentElements=a([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(a){this.reset(),this.toHide=this.errorsFor(a)},elementValue:function(b){var c=a(b).attr("type"),d=a(b).val();return c==="radio"||c==="checkbox"?a('input[name="'+a(b).attr("name")+'"]:checked').val():typeof d=="string"?d.replace(/\r/g,""):d},check:function(b){b=this.validationTargetFor(this.clean(b));var c=a(b).rules(),d=!1,e=this.elementValue(b),f;for(var g in c){var h={method:g,parameters:c[g]};try{f=a.validator.methods[g].call(this,e,b,h.parameters);if(f==="dependency-mismatch"){d=!0;continue}d=!1;if(f==="pending"){this.toHide=this.toHide.not(this.errorsFor(b));return}if(!f)return this.formatAndAdd(b,h),!1}catch(i){throw this.settings.debug&&window.console&&console.log("exception occured when checking element "+b.id+", check the '"+h.method+"' method",i),i}}if(d)return;return this.objectLength(c)&&this.successList.push(b),!0},customDataMessage:function(b,c){return a(b).data("msg-"+c.toLowerCase())||b.attributes&&a(b).attr("data-msg-"+c.toLowerCase())},customMessage:function(a,b){var c=this.settings.messages[a];return c&&(c.constructor===String?c:c[b])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(arguments[a]!==undefined)return arguments[a];return undefined},defaultMessage:function(b,c){return this.findDefined(this.customMessage(b.name,c),this.customDataMessage(b,c),!this.settings.ignoreTitle&&b.title||undefined,a.validator.messages[c],"<strong>Warning: No message defined for "+b.name+"</strong>")},formatAndAdd:function(b,c){var d=this.defaultMessage(b,c.method),e=/\$?\{(\d+)\}/g;typeof d=="function"?d=d.call(this,c.parameters,b):e.test(d)&&(d=a.validator.format(d.replace(e,"{$1}"),c.parameters)),this.errorList.push({message:d,element:b}),this.errorMap[b.name]=d,this.submitted[b.name]=d},addWrapper:function(a){return this.settings.wrapper&&(a=a.add(a.parent(this.settings.wrapper))),a},defaultShowErrors:function(){var a,b;for(a=0;this.errorList[a];a++){var c=this.errorList[a];this.settings.highlight&&this.settings.highlight.call(this,c.element,this.settings.errorClass,this.settings.validClass),this.showLabel(c.element,c.message)}this.errorList.length&&(this.toShow=this.toShow.add(this.containers));if(this.settings.success)for(a=0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight)for(a=0,b=this.validElements();b[a];a++)this.settings.unhighlight.call(this,b[a],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(b,c){var d=this.errorsFor(b);d.length?(d.removeClass(this.settings.validClass).addClass(this.settings.errorClass),d.attr("generated")&&d.html(c)):(d=a("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(b),generated:!0}).addClass(this.settings.errorClass).html(c||""),this.settings.wrapper&&(d=d.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(d).length||(this.settings.errorPlacement?this.settings.errorPlacement(d,a(b)):d.insertAfter(b))),!c&&this.settings.success&&(d.text(""),typeof this.settings.success=="string"?d.addClass(this.settings.success):this.settings.success(d,b)),this.toShow=this.toShow.add(d)},errorsFor:function(b){var c=this.idOrName(b);return this.errors().filter(function(){return a(this).attr("for")===c})},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(a){return this.checkable(a)&&(a=this.findByName(a.name).not(this.settings.ignore)[0]),a},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(b){return a(this.currentForm).find('[name="'+b+'"]')},getLength:function(b,c){switch(c.nodeName.toLowerCase()){case"select":return a("option:selected",c).length;case"input":if(this.checkable(c))return this.findByName(c.name).filter(":checked").length}return b.length},depend:function(a,b){return this.dependTypes[typeof a]?this.dependTypes[typeof a](a,b):!0},dependTypes:{"boolean":function(a,b){return a},string:function(b,c){return!!a(b,c.form).length},"function":function(a,b){return a(b)}},optional:function(b){var c=this.elementValue(b);return!a.validator.methods.required.call(this,c,b)&&"dependency-mismatch"},startRequest:function(a){this.pending[a.name]||(this.pendingRequest++,this.pending[a.name]=!0)},stopRequest:function(b,c){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[b.name],c&&this.pendingRequest===0&&this.formSubmitted&&this.form()?(a(this.currentForm).submit(),this.formSubmitted=!1):!c&&this.pendingRequest===0&&this.formSubmitted&&(a(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(b){return a.data(b,"previousValue")||a.data(b,"previousValue",{old:null,valid:!0,message:this.defaultMessage(b,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(b,c){b.constructor===String?this.classRuleSettings[b]=c:a.extend(this.classRuleSettings,b)},classRules:function(b){var c={},d=a(b).attr("class");return d&&a.each(d.split(" "),function(){this in a.validator.classRuleSettings&&a.extend(c,a.validator.classRuleSettings[this])}),c},attributeRules:function(b){var c={},d=a(b);for(var e in a.validator.methods){var f;e==="required"?(f=d.get(0).getAttribute(e),f===""&&(f=!0),f=!!f):f=d.attr(e),f?c[e]=f:d[0].getAttribute("type")===e&&(c[e]=!0)}return c.maxlength&&/-1|2147483647|524288/.test(c.maxlength)&&delete c.maxlength,c},dataRules:function(b){var c,d,e={},f=a(b);for(c in a.validator.methods)d=f.data("rule-"+c.toLowerCase()),d!==undefined&&(e[c]=d);return e},staticRules:function(b){var c={},d=a.data(b.form,"validator");return d.settings.rules&&(c=a.validator.normalizeRule(d.settings.rules[b.name])||{}),c},normalizeRules:function(b,c){return a.each(b,function(d,e){if(e===!1){delete b[d];return}if(e.param||e.depends){var f=!0;switch(typeof e.depends){case"string":f=!!a(e.depends,c.form).length;break;case"function":f=e.depends.call(c,c)}f?b[d]=e.param!==undefined?e.param:!0:delete b[d]}}),a.each(b,function(d,e){b[d]=a.isFunction(e)?e(c):e}),a.each(["minlength","maxlength","min","max"],function(){b[this]&&(b[this]=Number(b[this]))}),a.each(["rangelength","range"],function(){var c;b[this]&&(a.isArray(b[this])?b[this]=[Number(b[this][0]),Number(b[this][1])]:typeof b[this]=="string"&&(c=b[this].split(/[\s,]+/),b[this]=[Number(c[0]),Number(c[1])]))}),a.validator.autoCreateRanges&&(b.min&&b.max&&(b.range=[b.min,b.max],delete b.min,delete b.max),b.minlength&&b.maxlength&&(b.rangelength=[b.minlength,b.maxlength],delete b.minlength,delete b.maxlength)),b},normalizeRule:function(b){if(typeof b=="string"){var c={};a.each(b.split(/\s/),function(){c[this]=!0}),b=c}return b},addMethod:function(b,c,d){a.validator.methods[b]=c,a.validator.messages[b]=d!==undefined?d:a.validator.messages[b],c.length<3&&a.validator.addClassRules(b,a.validator.normalizeRule(b))},methods:{required:function(b,c,d){if(!this.depend(d,c))return"dependency-mismatch";if(c.nodeName.toLowerCase()==="select"){var e=a(c).val();return e&&e.length>0}return this.checkable(c)?this.getLength(b,c)>0:a.trim(b).length>0},remote:function(b,c,d){if(this.optional(c))return"dependency-mismatch";var e=this.previousValue(c);this.settings.messages[c.name]||(this.settings.messages[c.name]={}),e.originalMessage=this.settings.messages[c.name].remote,this.settings.messages[c.name].remote=e.message,d=typeof d=="string"&&{url:d}||d;if(e.old===b)return e.valid;e.old=b;var f=this;this.startRequest(c);var g={};return g[c.name]=b,a.ajax(a.extend(!0,{url:d,mode:"abort",port:"validate"+c.name,dataType:"json",data:g,success:function(d){f.settings.messages[c.name].remote=e.originalMessage;var g=d===!0||d==="true";if(g){var h=f.formSubmitted;f.prepareElement(c),f.formSubmitted=h,f.successList.push(c),delete f.invalid[c.name],f.showErrors()}else{var i={},j=d||f.defaultMessage(c,"remote");i[c.name]=e.message=a.isFunction(j)?j(b):j,f.invalid[c.name]=!0,f.showErrors(i)}e.valid=g,f.stopRequest(c,g)}},d)),"pending"},minlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(a.trim(b),c);return this.optional(c)||e>=d},maxlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(a.trim(b),c);return this.optional(c)||e<=d},rangelength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(a.trim(b),c);return this.optional(c)||e>=d[0]&&e<=d[1]},min:function(a,b,c){return this.optional(b)||a>=c},max:function(a,b,c){return this.optional(b)||a<=c},range:function(a,b,c){return this.optional(b)||a>=c[0]&&a<=c[1]},email:function(a,b){return this.optional(b)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(a)},url:function(a,b){return this.optional(b)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)},date:function(a,b){return this.optional(b)||!/Invalid|NaN/.test((new Date(a)).toString())},dateISO:function(a,b){return this.optional(b)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(a)},number:function(a,b){return this.optional(b)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(a)},digits:function(a,b){return this.optional(b)||/^\d+$/.test(a)},creditcard:function(a,b){if(this.optional(b))return"dependency-mismatch";if(/[^0-9 \-]+/.test(a))return!1;var c=0,d=0,e=!1;a=a.replace(/\D/g,"");for(var f=a.length-1;f>=0;f--){var g=a.charAt(f);d=parseInt(g,10),e&&(d*=2)>9&&(d-=9),c+=d,e=!e}return c%10===0},equalTo:function(b,c,d){var e=a(d);return this.settings.onfocusout&&e.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){a(c).valid()}),b===e.val()}}}),a.format=a.validator.format}(jQuery),function(a){var b={};if(a.ajaxPrefilter)a.ajaxPrefilter(function(a,c,d){var e=a.port;a.mode==="abort"&&(b[e]&&b[e].abort(),b[e]=d)});else{var c=a.ajax;a.ajax=function(d){var e=("mode"in d?d:a.ajaxSettings).mode,f=("port"in d?d:a.ajaxSettings).port;return e==="abort"?(b[f]&&b[f].abort(),b[f]=c.apply(this,arguments)):c.apply(this,arguments)}}}(jQuery),function(a){a.extend(a.fn,{validateDelegate:function(b,c,d){return this.bind(c,function(c){var e=a(c.target);if(e.is(b))return d.apply(e,arguments)})}})}(jQuery),function(a){"use strict",a.fn.endlessnext=function(b,c){var d=this,e,f,g,h,i,j,k,l,m,n,o,p,q,r;d.fn={init:function(b){return this.each(function(){e=a(this),r=a.extend({numOfVisibleElems:3,transition:"slide",easing:"easeOutQuint",duration:600},b),j=e.find("ul:first"),m=j.parent(),n=m.width(),i=e.find("li").length,m.imagesLoaded(function(){a(this).off("imagesLoaded"),d.fn.prepElements(),d.fn.attachClickEvents(),j.css("left",0),o=j.position(),k=j.clone().css("left",o.left-h),p=k.position(),j.parent().append(k),m.addClass("endlessnext")}),a(window).on("resize",function(){d.fn.setBoxPosition()})})},prepElements:function(){var a,b;a=i/r.numOfVisibleElems*100+"%",b=1/i*100+"%",f=n/r.numOfVisibleElems,j.find("li").css("width",b),j.css("width",a),h=j.width(),m.height(j.height()),e.find("ul").css("height","100%")},setBoxPosition:function(){g=f,n=m.width(),f=n/r.numOfVisibleElems,h=j.width(),e.find("ul").css("height","auto"),m.height(j.height()),e.find("ul").css("height","100%"),o.left=d.fn.calPos(o.left),p&&(p.left=d.fn.calPos(p.left)),q&&(q.left=d.fn.calPos(q.left)),e.find("ul").each(function(){a(this).css("left",d.fn.calPos(a(this).position().left))})},calPos:function(a){return a/g*f},attachClickEvents:function(){e.find(r.arrowContainerClass+" .prev").on("click",d.fn.movePrev),e.find(r.arrowContainerClass+" .next").on("click",d.fn.moveNext)},movePrev:function(b){var c,e,f;b=b?b:window.event,b.preventDefault(),o=j.position(),o.left>0&&(j.css("left",k.position().left),o=j.position(),o.left+h<n&&r.transition==="slide"&&(l=j.clone(),l.css("left",o.left+h),q=l.position(),j.parent().append(l),f=d.fn.getPosition(l.position().left+n),l.stop().animate({left:f},{duration:r.duration,easing:r.easing,complete:function(){a(this).remove(),l=null}}))),k.css("left",o.left-h),p=k.position(),c=d.fn.getPosition(o.left+n),e=d.fn.getPosition(p.left+n),r.transition==="fade"?(j.stop().css({opacity:0,left:c}).animate({opacity:1},{duration:r.duration,easing:r.easing}),k.stop().css({opacity:0,left:e}).animate({opacity:1},{duration:r.duration,easing:r.easing})):(j.stop().animate({left:c},{duration:r.duration,easing:r.easing}),k.stop().animate({left:e},{duration:r.duration,easing:r.easing}))},moveNext:function(b){var c,e,f,g;b=b?b:window.event,b.preventDefault(),o=j.position(),o.left+h<n&&(j.css("left",k.position().left),o=j.position(),o.left>0&&r.transition==="slide"&&(f=j.clone(),f.css("left",o.left-h),q=f.position(),m.append(f),g=d.fn.getPosition(f.position().left-n),f.stop().animate({left:g},{duration:r.duration,easing:r.easing,complete:function(){a(this).remove(),f=null}}))),k.css("left",o.left+h),p=k.position(),c=d.fn.getPosition(o.left-n),e=d.fn.getPosition(p.left-n),r.transition==="fade"?(j.stop().css({opacity:0,left:c}).animate({opacity:1},{duration:r.duration,easing:r.easing}),k.stop().css({opacity:0,left:e}).animate({opacity:1},{duration:r.duration,easing:r.easing})):(j.stop().animate({left:c},{duration:r.duration,easing:r.easing}),k.stop().animate({left:e},{duration:r.duration,easing:r.easing}))},getPosition:function(a){var b=a%f;return b===0?a:Math.round(a/f)*f}},typeof c=="function"&&(d.fn.changeCallback=c);if(d.fn[b])return d.fn[b].apply(this,Array.prototype.slice.call(arguments,1));if(typeof b=="object"||!b)return d.fn.init.apply(this,arguments);a.error("Method "+b+" does not exist on jQuery.endlessnext")}}(jQuery),function(){function a(){}function b(a,b){for(var c=a.length;c--;)if(a[c].listener===b)return c;return-1}function c(a){return function(){return this[a].apply(this,arguments)}}var d=a.prototype,e=this,f=e.EventEmitter;d.getListeners=function(a){var b,c,d=this._getEvents();if("object"==typeof a){b={};for(c in d)d.hasOwnProperty(c)&&a.test(c)&&(b[c]=d[c])}else b=d[a]||(d[a]=[]);return b},d.flattenListeners=function(a){var b,c=[];for(b=0;a.length>b;b+=1)c.push(a[b].listener);return c},d.getListenersAsObject=function(a){var b,c=this.getListeners(a);return c instanceof Array&&(b={},b[a]=c),b||c},d.addListener=function(a,c){var d,e=this.getListenersAsObject(a),f="object"==typeof c;for(d in e)e.hasOwnProperty(d)&&-1===b(e[d],c)&&e[d].push(f?c:{listener:c,once:!1});return this},d.on=c("addListener"),d.addOnceListener=function(a,b){return this.addListener(a,{listener:b,once:!0})},d.once=c("addOnceListener"),d.defineEvent=function(a){return this.getListeners(a),this},d.defineEvents=function(a){for(var b=0;a.length>b;b+=1)this.defineEvent(a[b]);return this},d.removeListener=function(a,c){var d,e,f=this.getListenersAsObject(a);for(e in f)f.hasOwnProperty(e)&&(d=b(f[e],c),-1!==d&&f[e].splice(d,1));return this},d.off=c("removeListener"),d.addListeners=function(a,b){return this.manipulateListeners(!1,a,b)},d.removeListeners=function(a,b){return this.manipulateListeners(!0,a,b)},d.manipulateListeners=function(a,b,c){var d,e,f=a?this.removeListener:this.addListener,g=a?this.removeListeners:this.addListeners;if("object"!=typeof b||b instanceof RegExp)for(d=c.length;d--;)f.call(this,b,c[d]);else for(d in b)b.hasOwnProperty(d)&&(e=b[d])&&("function"==typeof e?f.call(this,d,e):g.call(this,d,e));return this},d.removeEvent=function(a){var b,c=typeof a,d=this._getEvents();if("string"===c)delete d[a];else if("object"===c)for(b in d)d.hasOwnProperty(b)&&a.test(b)&&delete d[b];else delete this._events;return this},d.removeAllListeners=c("removeEvent"),d.emitEvent=function(a,b){var c,d,e,f,g=this.getListenersAsObject(a);for(e in g)if(g.hasOwnProperty(e))for(d=g[e].length;d--;)c=g[e][d],c.once===!0&&this.removeListener(a,c.listener),f=c.listener.apply(this,b||[]),f===this._getOnceReturnValue()&&this.removeListener(a,c.listener);return this},d.trigger=c("emitEvent"),d.emit=function(a){var b=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,b)},d.setOnceReturnValue=function(a){return this._onceReturnValue=a,this},d._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},d._getEvents=function(){return this._events||(this._events={})},a.noConflict=function(){return e.EventEmitter=f,a},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return a}):"object"==typeof module&&module.exports?module.exports=a:this.EventEmitter=a}.call(this),function(a){function b(b){var c=a.event;return c.target=c.target||c.srcElement||b,c}var c=document.documentElement,d=function(){};c.addEventListener?d=function(a,b,c){a.addEventListener(b,c,!1)}:c.attachEvent&&(d=function(a,c,d){a[c+d]=d.handleEvent?function(){var c=b(a);d.handleEvent.call(d,c)}:function(){var c=b(a);d.call(a,c)},a.attachEvent("on"+c,a[c+d])});var e=function(){};c.removeEventListener?e=function(a,b,c){a.removeEventListener(b,c,!1)}:c.detachEvent&&(e=function(a,b,c){a.detachEvent("on"+b,a[b+c]);try{delete a[b+c]}catch(d){a[b+c]=void 0}});var f={bind:d,unbind:e};"function"==typeof define&&define.amd?define("eventie/eventie",f):a.eventie=f}(this),function(a,b){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(c,d){return b(a,c,d)}):"object"==typeof exports?module.exports=b(a,require("eventEmitter"),require("eventie")):a.imagesLoaded=b(a,a.EventEmitter,a.eventie)}(this,function(a,b,c){function d(a,b){for(var c in b)a[c]=b[c];return a}function e(a){return"[object Array]"===m.call(a)}function f(a){var b=[];if(e(a))b=a;else if("number"==typeof a.length)for(var c=0,d=a.length;d>c;c++)b.push(a[c]);else b.push(a);return b}function g(a,b,c){if(!(this instanceof g))return new g(a,b);"string"==typeof a&&(a=document.querySelectorAll(a)),this.elements=f(a),this.options=d({},this.options),"function"==typeof b?c=b:d(this.options,b),c&&this.on("always",c),this.getImages(),j&&(this.jqDeferred=new j.Deferred);var e=this;setTimeout(function(){e.check()})}function h(a){this.img=a}function i(a){this.src=a,n[a]=this}var j=a.jQuery,k=a.console,l=k!==void 0,m=Object.prototype.toString;g.prototype=new b,g.prototype.options={},g.prototype.getImages=function(){this.images=[];for(var a=0,b=this.elements.length;b>a;a++){var c=this.elements[a];"IMG"===c.nodeName&&this.addImage(c);for(var d=c.querySelectorAll("img"),e=0,f=d.length;f>e;e++){var g=d[e];this.addImage(g)}}},g.prototype.addImage=function(a){var b=new h(a);this.images.push(b)},g.prototype.check=function(){function a(a,e){return b.options.debug&&l&&k.log("confirm",a,e),b.progress(a),c++,c===d&&b.complete(),!0}var b=this,c=0,d=this.images.length;if(this.hasAnyBroken=!1,!d)return this.complete(),void 0;for(var e=0;d>e;e++){var f=this.images[e];f.on("confirm",a),f.check()}},g.prototype.progress=function(a){this.hasAnyBroken=this.hasAnyBroken||!a.isLoaded;var b=this;setTimeout(function(){b.emit("progress",b,a),b.jqDeferred&&b.jqDeferred.notify&&b.jqDeferred.notify(b,a)})},g.prototype.complete=function(){var a=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var b=this;setTimeout(function(){if(b.emit(a,b),b.emit("always",b),b.jqDeferred){var c=b.hasAnyBroken?"reject":"resolve";b.jqDeferred[c](b)}})},j&&(j.fn.imagesLoaded=function(a,b){var c=new g(this,a,b);return c.jqDeferred.promise(j(this))}),h.prototype=new b,h.prototype.check=function(){var a=n[this.img.src]||new i(this.img.src);if(a.isConfirmed)return this.confirm(a.isLoaded,"cached was confirmed"),void 0;if(this.img.complete&&void 0!==this.img.naturalWidth)return this.confirm(0!==this.img.naturalWidth,"naturalWidth"),void 0;var b=this;a.on("confirm",function(a,c){return b.confirm(a.isLoaded,c),!0}),a.check()},h.prototype.confirm=function(a,b){this.isLoaded=a,this.emit("confirm",this,b)};var n={};return i.prototype=new b,i.prototype.check=function(){if(!this.isChecked){var a=new Image;c.bind(a,"load",this),c.bind(a,"error",this),a.src=this.src,this.isChecked=!0}},i.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},i.prototype.onload=function(a){this.confirm(!0,"onload"),this.unbindProxyEvents(a)},i.prototype.onerror=function(a){this.confirm(!1,"onerror"),this.unbindProxyEvents(a)},i.prototype.confirm=function(a,b){this.isConfirmed=!0,this.isLoaded=a,this.emit("confirm",this,b)},i.prototype.unbindProxyEvents=function(a){c.unbind(a.target,"load",this),c.unbind(a.target,"error",this)},g}),function(a,b,c){function Y(c,d,e){var g=b.createElement(c);return d&&(g.id=f+d),e&&(g.style.cssText=e),a(g)}function Z(){return c.innerHeight?c.innerHeight:a(c).height()}function $(b,c){c!==Object(c)&&(c={}),this.cache={},this.el=b,this.value=function(b){var e;return this.cache[b]===undefined&&(e=a(this.el).attr("data-cbox-"+b),e!==undefined?this.cache[b]=e:c[b]!==undefined?this.cache[b]=c[b]:d[b]!==undefined&&(this.cache[b]=d[b])),this.cache[b]},this.get=function(b){var c=this.value(b);return a.isFunction(c)?c.call(this.el,this):c}}function _(a){var b=v.length,c=(N+a)%b;return c<0?b+c:c}function ba(a,b){return Math.round((/%/.test(a)?(b==="x"?w.width():Z())/100:1)*parseInt(a,10))}function bb(a,b){return a.get("photo")||a.get("photoRegex").test(b)}function bc(a,b){return a.get("retinaUrl")&&c.devicePixelRatio>1?b.replace(a.get("photoRegex"),a.get("retinaSuffix")):b}function bd(a){"contains"in o[0]&&!o[0].contains(a.target)&&a.target!==n[0]&&(a.stopPropagation(),o.focus())}function be(a){be.str!==a&&(o.add(n).removeClass(be.str).addClass(a),be.str=a)}function bf(b){N=0,b&&b!==!1&&b!=="nofollow"?(v=a("."+g).filter(function(){var c=a.data(this,e),d=new $(this,c);return d.get("rel")===b}),N=v.index(I.el),N===-1&&(v=v.add(I.el),N=v.length-1)):v=a(I.el)}function bg(c){a(b).trigger(c),H.triggerHandler(c)}function bi(c){var d;if(!R){d=a(c).data("colorbox"),I=new $(c,d),bf(I.get("rel"));if(!P){P=Q=!0,be(I.get("className")),o.css({visibility:"hidden",display:"block",opacity:""}),x=Y(U,"LoadedContent","width:0; height:0; overflow:hidden; visibility:hidden"),q.css({width:"",height:""}).append(x),J=r.height()+u.height()+q.outerHeight(!0)-q.height(),K=s.width()+t.width()+q.outerWidth(!0)-q.width(),L=x.outerHeight(!0),M=x.outerWidth(!0);var e=ba(I.get("initialWidth"),"x"),f=ba(I.get("initialHeight"),"y"),g=I.get("maxWidth"),i=I.get("maxHeight");I.w=(g!==!1?Math.min(e,ba(g,"x")):e)-M-K,I.h=(i!==!1?Math.min(f,ba(i,"y")):f)-L-J,x.css({width:"",height:I.h}),T.position(),bg(h),I.get("onOpen"),G.add(A).hide(),o.focus(),I.get("trapFocus")&&b.addEventListener&&(b.addEventListener("focus",bd,!0),H.one(l,function(){b.removeEventListener("focus",bd,!0)})),I.get("returnFocus")&&H.one(l,function(){a(I.el).focus()})}n.css({opacity:parseFloat(I.get("opacity"))||"",cursor:I.get("overlayClose")?"pointer":"",visibility:"visible"}).show(),I.get("closeButton")?F.html(I.get("close")).appendTo(q):F.appendTo("<div/>"),bl()}}function bj(){!o&&b.body&&(X=!1,w=a(c),o=Y(U).attr({id:e,"class":a.support.opacity===!1?f+"IE":"",role:"dialog",tabindex:"-1"}).hide(),n=Y(U,"Overlay").hide(),z=a([Y(U,"LoadingOverlay")[0],Y(U,"LoadingGraphic")[0]]),p=Y(U,"Wrapper"),q=Y(U,"Content").append(A=Y(U,"Title"),B=Y(U,"Current"),E=a('<button type="button"/>').attr({id:f+"Previous"}),D=a('<button type="button"/>').attr({id:f+"Next"}),C=Y("button","Slideshow"),z),F=a('<button type="button"/>').attr({id:f+"Close"}),p.append(Y(U).append(Y(U,"TopLeft"),r=Y(U,"TopCenter"),Y(U,"TopRight")),Y(U,!1,"clear:left").append(s=Y(U,"MiddleLeft"),q,t=Y(U,"MiddleRight")),Y(U,!1,"clear:left").append(Y(U,"BottomLeft"),u=Y(U,"BottomCenter"),Y(U,"BottomRight"))).find("div div").css({"float":"left"}),y=Y(U,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),G=D.add(E).add(B).add(C),a(b.body).append(n,o.append(p,y)))}function bk(){function c(a){a.which>1||a.shiftKey||a.altKey||a.metaKey||a.ctrlKey||(a.preventDefault(),bi(this))}return o?(X||(X=!0,D.click(function(){T.next()}),E.click(function(){T.prev()}),F.click(function(){T.close()}),n.click(function(){I.get("overlayClose")&&T.close()}),a(b).bind("keydown."+f,function(a){var b=a.keyCode;P&&I.get("escKey")&&b===27&&(a.preventDefault(),T.close()),P&&I.get("arrowKey")&&v[1]&&!a.altKey&&(b===37?(a.preventDefault(),E.click()):b===39&&(a.preventDefault(),D.click()))}),a.isFunction(a.fn.on)?a(b).on("click."+f,"."+g,c):a("."+g).live("click."+f,c)),!0):!1}function bl(){var b,d,e=T.prep,g,h=++V;Q=!0,O=!1,bg(m),bg(i),I.get("onLoad"),I.h=I.get("height")?ba(I.get("height"),"y")-L-J:I.get("innerHeight")&&ba(I.get("innerHeight"),"y"),I.w=I.get("width")?ba(I.get("width"),"x")-M-K:I.get("innerWidth")&&ba(I.get("innerWidth"),"x"),I.mw=I.w,I.mh=I.h,I.get("maxWidth")&&(I.mw=ba(I.get("maxWidth"),"x")-M-K,I.mw=I.w&&I.w<I.mw?I.w:I.mw),I.get("maxHeight")&&(I.mh=ba(I.get("maxHeight"),"y")-L-J,I.mh=I.h&&I.h<I.mh?I.h:I.mh),b=I.get("href"),S=setTimeout(function(){z.show()},100);if(I.get("inline")){var j=a(b);g=a("<div>").hide().insertBefore(j),H.one(m,function(){g.replaceWith(j)}),e(j)}else I.get("iframe")?e(" "):I.get("html")?e(I.get("html")):bb(I,b)?(b=bc(I,b),O=new Image,a(O).addClass(f+"Photo").bind("error",function(){e(Y(U,"Error").html(I.get("imgError")))}).one("load",function(){if(h!==V)return;setTimeout(function(){var b;a.each(["alt","longdesc","aria-describedby"],function(b,c){var d=a(I.el).attr(c)||a(I.el).attr("data-"+c);d&&O.setAttribute(c,d)}),I.get("retinaImage")&&c.devicePixelRatio>1&&(O.height=O.height/c.devicePixelRatio,O.width=O.width/c.devicePixelRatio),I.get("scalePhotos")&&(d=function(){O.height-=O.height*b,O.width-=O.width*b},I.mw&&O.width>I.mw&&(b=(O.width-I.mw)/O.width,d()),I.mh&&O.height>I.mh&&(b=(O.height-I.mh)/O.height,d())),I.h&&(O.style.marginTop=Math.max(I.mh-O.height,0)/2+"px"),v[1]&&(I.get("loop")||v[N+1])&&(O.style.cursor="pointer",O.onclick=function(){T.next()}),O.style.width=O.width+"px",O.style.height=O.height+"px",e(O)},1)}),O.src=b):b&&y.load(b,I.get("data"),function(b,c){h===V&&e(c==="error"?Y(U,"Error").html(I.get("xhrError")):a(this).contents())})}var d={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:undefined,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,rel:function(){return this.rel},href:function(){return a(this).attr("href")},title:function(){return this.title}},e="colorbox",f="cbox",g=f+"Element",h=f+"_open",i=f+"_load",j=f+"_complete",k=f+"_cleanup",l=f+"_closed",m=f+"_purge",n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H=a("<a/>"),I,J,K,L,M,N,O,P,Q,R,S,T,U="div",V=0,W={},X,bh=function(){function e(){clearTimeout(d)}function g(){if(I.get("loop")||v[N+1])e(),d=setTimeout(T.next,I.get("slideshowSpeed"))}function h(){C.html(I.get("slideshowStop")).unbind(c).one(c,l),H.bind(j,g).bind(i,e),o.removeClass(b+"off").addClass(b+"on")}function l(){e(),H.unbind(j,g).unbind(i,e),C.html(I.get("slideshowStart")).unbind(c).one(c,function(){T.next(),h()}),o.removeClass(b+"on").addClass(b+"off")}function m(){a=!1,C.hide(),e(),H.unbind(j,g).unbind(i,e),o.removeClass(b+"off "+b+"on")}var a,b=f+"Slideshow_",c="click."+f,d;return function(){a?I.get("slideshow")||(H.unbind(k,m),m()):I.get("slideshow")&&v[1]&&(a=!0,H.one(k,m),I.get("slideshowAuto")?h():l(),C.show())}}();if(a.colorbox)return;a(bj),T=a.fn[e]=a[e]=function(b,c){var d,f=this;b=b||{};if(a.isFunction(f))f=a("<a/>"),b.open=!0;else if(!f[0])return f;return f[0]?(bj(),bk()&&(c&&(b.onComplete=c),f.each(function(){var c=a.data(this,e)||{};a.data(this,e,a.extend(c,b))}).addClass(g),d=new $(f[0],b),d.get("open")&&bi(f[0])),f):f},T.position=function(b,c){function k(){r[0].style.width=u[0].style.width=q[0].style.width=parseInt(o[0].style.width,10)-K+"px",q[0].style.height=s[0].style.height=t[0].style.height=parseInt(o[0].style.height,10)-J+"px"}var d,e=0,g=0,h=o.offset(),i,j;w.unbind("resize."+f),o.css({top:-9e4,left:-9e4}),i=w.scrollTop(),j=w.scrollLeft(),I.get("fixed")?(h.top-=i,h.left-=j,o.css({position:"fixed"})):(e=i,g=j,o.css({position:"absolute"})),I.get("right")!==!1?g+=Math.max(w.width()-I.w-M-K-ba(I.get("right"),"x"),0):I.get("left")!==!1?g+=ba(I.get("left"),"x"):g+=Math.round(Math.max(w.width()-I.w-M-K,0)/2),I.get("bottom")!==!1?e+=Math.max(Z()-I.h-L-J-ba(I.get("bottom"),"y"),0):I.get("top")!==!1?e+=ba(I.get("top"),"y"):e+=Math.round(Math.max(Z()-I.h-L-J,0)/2),o.css({top:h.top,left:h.left,visibility:"visible"}),p[0].style.width=p[0].style.height="9999px",d={width:I.w+M+K,height:I.h+L+J,top:e,left:g};if(b){var l=0;a.each(d,function(a){if(d[a]!==W[a]){l=b;return}}),b=l}W=d,b||o.css(d),o.dequeue().animate(d,{duration:b||0,complete:function(){k(),Q=!1,p[0].style.width=I.w+M+K+"px",p[0].style.height=I.h+L+J+"px",I.get("reposition")&&setTimeout(function(){w.bind("resize."+f,T.position)},1),c&&c()},step:k})},T.resize=function(a){var b;P&&(a=a||{},a.width&&(I.w=ba(a.width,"x")-M-K),a.innerWidth&&(I.w=ba(a.innerWidth,"x")),x.css({width:I.w}),a.height&&(I.h=ba(a.height,"y")-L-J),a.innerHeight&&(I.h=ba(a.innerHeight,"y")),!a.innerHeight&&!a.height&&(b=x.scrollTop(),x.css({height:"auto"}),I.h=x.height()),x.css({height:I.h}),b&&x.scrollTop(b),T.position(I.get("transition")==="none"?0:I.get("speed")))},T.prep=function(c){function h(){return I.w=I.w||x.width(),I.w=I.mw&&I.mw<I.w?I.mw:I.w,I.w}function i(){return I.h=I.h||x.height(),I.h=I.mh&&I.mh<I.h?I.mh:I.h,I.h}if(!P)return;var d,g=I.get("transition")==="none"?0:I.get("speed");x.remove(),x=Y(U,"LoadedContent").append(c),x.hide().appendTo(y.show()).css({width:h(),overflow:I.get("scrolling")?"auto":"hidden"}).css({height:i()}).prependTo(q),y.hide(),a(O).css({"float":"none"}),be(I.get("className")),d=function(){function i(){a.support.opacity===!1&&o[0].style.removeAttribute("filter")}var c=v.length,d,h;if(!P)return;h=function(){clearTimeout(S),z.hide(),bg(j),I.get("onComplete")},A.html(I.get("title")).show(),x.show(),c>1?(typeof I.get("current")=="string"&&B.html(I.get("current").replace("{current}",N+1).replace("{total}",c)).show(),D[I.get("loop")||N<c-1?"show":"hide"]().html(I.get("next")),E[I.get("loop")||N?"show":"hide"]().html(I.get("previous")),bh(),I.get("preloading")&&a.each([_(-1),_(1)],function(){var c,d=v[this],f=new $(d,a.data(d,e)),g=f.get("href");g&&bb(f,g)&&(g=bc(f,g),c=b.createElement("img"),c.src=g)})):G.hide(),I.get("iframe")?(d=b.createElement("iframe"),"frameBorder"in d&&(d.frameBorder=0),"allowTransparency"in d&&(d.allowTransparency="true"),I.get("scrolling")||(d.scrolling="no"),a(d).attr({src:I.get("href"),name:(new Date).getTime(),"class":f+"Iframe",allowFullScreen:!0}).one("load",h).appendTo(x),H.one(m,function(){d.src="//about:blank"}),I.get("fastIframe")&&a(d).trigger("load")):h(),I.get("transition")==="fade"?o.fadeTo(g,1,i):i()},I.get("transition")==="fade"?o.fadeTo(g,0,function(){T.position(0,d)}):T.position(g,d)},T.next=function(){!Q&&v[1]&&(I.get("loop")||v[N+1])&&(N=_(1),bi(v[N]))},T.prev=function(){!Q&&v[1]&&(I.get("loop")||N)&&(N=_(-1),bi(v[N]))},T.close=function(){P&&!R&&(R=!0,P=!1,bg(k),I.get("onCleanup"),w.unbind("."+f),n.fadeTo(I.get("fadeOut")||0,0),o.stop().fadeTo(I.get("fadeOut")||0,0,function(){o.hide(),n.hide(),bg(m),x.remove(),setTimeout(function(){R=!1,bg(l),I.get("onClosed")},1)}))},T.remove=function(){if(!o)return;o.stop(),a.colorbox.close(),o.stop().remove(),n.remove(),R=!1,o=null,a("."+g).removeData(e).removeClass(g),a(b).unbind("click."+f).unbind("keydown."+f)},T.element=function(){return a(I.el)},T.settings=d}(jQuery,document,window),function(a,b){"use strict";var c=a.History=a.History||{},d=a.jQuery;if(typeof c.Adapter!="undefined")throw new Error("History.js Adapter has already been loaded...");c.Adapter={bind:function(a,b,c){d(a).bind(b,c)},trigger:function(a,b,c){d(a).trigger(b,c)},extractEventData:function(a,c,d){var e=c&&c.originalEvent&&c.originalEvent[a]||d&&d[a]||b;return e},onDomLoad:function(a){d(a)}},typeof c.init!="undefined"&&c.init()}(window),function(){"use strict",window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push(function(){if(window.googletag.hasOwnProperty("on")||window.googletag.hasOwnProperty("off")||window.googletag.hasOwnProperty("trigger")||window.googletag.hasOwnProperty("events"))return;var a=window.googletag.debug_log.log,b=[],c=function(a,c,d){b.push({name:a,id:c,match:d})};c("gpt-google_js_loaded",8,/Google service JS loaded/ig),c("gpt-gpt_fetch",46,/Fetching GPT implementation/ig),c("gpt-gpt_fetched",48,/GPT implementation fetched\./ig),c("gpt-page_load_complete",1,/Page load complete/ig),c("gpt-queue_start",31,/^Invoked queued function/ig),c("gpt-service_add_slot",40,/Associated ([\w]*) service with slot ([\/\w]*)/ig),c("gpt-service_add_targeting",88,/Setting targeting attribute ([\w]*) with value ([\w\W]*) for service ([\w]*)/ig),c("gpt-service_collapse_containers_enable",78,/Enabling collapsing of containers when there is no ad content/ig),c("gpt-service_create",35,/Created service: ([\w]*)/ig),c("gpt-service_single_request_mode_enable",63,/Using single request mode to fetch ads/ig),c("gpt-slot_create",2,/Created slot: ([\/\w]*)/ig),c("gpt-slot_add_targeting",17,/Setting targeting attribute ([\w]*) with value ([\w\W]*) for slot ([\/\w]*)/ig),c("gpt-slot_fill",50,/Calling fillslot/ig),c("gpt-slot_fetch",3,/Fetching ad for slot ([\/\w]*)/ig),c("gpt-slot_receiving",4,/Receiving ad for slot ([\/\w]*)/ig),c("gpt-slot_render_delay",53,/Delaying rendering of ad slot ([\/\w]*) pending loading of the GPT implementation/ig),c("gpt-slot_rendering",5,/^Rendering ad for slot ([\/\w]*)/ig),c("gpt-slot_rendered",6,/Completed rendering ad for slot ([\/\w]*)/ig),window.googletag.events=window.googletag.events||{},window.googletag.on=function(a,b,c){var d=c?b:undefined,e=c||b,f=0,g="";if(!b)return this;a=a.split(" "),e.data=d;for(g=a[f=0];f<a.length;g=a[++f])(this.events[g]=this.events[g]||[]).push(e);return this},window.googletag.off=function(a,b){a=a.split(" ");var c=0,d="",e=0,f=function(){};for(d=a[c];c<a.length;d=a[++c]){if(!this.events.hasOwnProperty(d))continue;if(!b){delete this.events[d];continue}e=this.events[d].length-1;for(f=this.events[d][e];e>=0;f=this.events[d][--e])f==b&&this.events[d].splice(e,1);this.events[d].length===0&&delete this.events[d]}return this},window.googletag.trigger=function(a,b){var c=b||[],d=0,e;if(!this.events[a]||this.events[a].length===0)return this;e=this.events[a][d];for(d,e;d<this.events[a].length;e=this.events[a][++d])if(e.apply(this,[{data:e.data}].concat(c))===!1)break;return this},window.googletag.debug_log.log=function(c,d,e,f,g){var h=Array.prototype.slice.call(arguments),i=0;if(!d&&typeof d.getMessageId()!="number")return;for(i;i<b.length;i++)b[i].id===d.getMessageId()&&window.googletag.trigger(b[i].name,h);return a.apply(this,arguments)}})}(),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(a,b,c,d,e){return jQuery.easing[jQuery.easing.def](a,b,c,d,e)},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c},easeInOutQuad:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c},easeInQuart:function(a,b,c,d,e){return d*(b/=e)*b*b*b+c},easeOutQuart:function(a,b,c,d,e){return-d*((b=b/e-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b+c:-d/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(a,b,c,d,e){return d*(b/=e)*b*b*b*b+c},easeOutQuint:function(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c},easeInOutQuint:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b*b+c:d/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInExpo:function(a,b,c,d,e){return b==0?c:d*Math.pow(2,10*(b/e-1))+c},easeOutExpo:function(a,b,c,d,e){return b==e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c},easeInOutExpo:function(a,b,c,d,e){return b==0?c:b==e?c+d:(b/=e/2)<1?d/2*Math.pow(2,10*(b-1))+c:d/2*(-Math.pow(2,-10*--b)+2)+c},easeInCirc:function(a,b,c,d,e){return-d*(Math.sqrt(1-(b/=e)*b)-1)+c},easeOutCirc:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c},easeInOutCirc:function(a,b,c,d,e){return(b/=e/2)<1?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(b==0)return c;if((b/=e)==1)return c+d;g||(g=e*.3);if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return-(h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g))+c},easeOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(b==0)return c;if((b/=e)==1)return c+d;g||(g=e*.3);if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return h*Math.pow(2,-10*b)*Math.sin((b*e-f)*2*Math.PI/g)+d+c},easeInOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(b==0)return c;if((b/=e/2)==2)return c+d;g||(g=e*.3*1.5);if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return b<1?-0.5*h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g)+c:h*Math.pow(2,-10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g)*.5+d+c},easeInBack:function(a,b,c,d,e,f){return f==undefined&&(f=1.70158),d*(b/=e)*b*((f+1)*b-f)+c},easeOutBack:function(a,b,c,d,e,f){return f==undefined&&(f=1.70158),d*((b=b/e-1)*b*((f+1)*b+f)+1)+c},easeInOutBack:function(a,b,c,d,e,f){return f==undefined&&(f=1.70158),(b/=e/2)<1?d/2*b*b*(((f*=1.525)+1)*b-f)+c:d/2*((b-=2)*b*(((f*=1.525)+1)*b+f)+2)+c},easeInBounce:function(a,b,c,d,e){return d-jQuery.easing.easeOutBounce(a,e-b,0,d,e)+c},easeOutBounce:function(a,b,c,d,e){return(b/=e)<1/2.75?d*7.5625*b*b+c:b<2/2.75?d*(7.5625*(b-=1.5/2.75)*b+.75)+c:b<2.5/2.75?d*(7.5625*(b-=2.25/2.75)*b+.9375)+c:d*(7.5625*(b-=2.625/2.75)*b+.984375)+c},easeInOutBounce:function(a,b,c,d,e){return b<e/2?jQuery.easing.easeInBounce(a,b*2,0,d,e)*.5+c:jQuery.easing.easeOutBounce(a,b*2-e,0,d,e)*.5+d*.5+c}}),function(a,b){"use strict";var c,d,e,f=b("#author-popular"),g=b("#author-recent"),h;a.AuthorPosts=function(){var i=this;return this.init=function(){h=b(".loader").clone(),h.prependTo("#author-posts").show(),a.AjaxHandler("/author-popular",c,{type:"GET",data:{author:encodeURIComponent(b("#author-name").text())}}),a.AjaxHandler("/author-recent",d,{type:"GET",data:{author:encodeURIComponent(b("#author-name").text())}})},c=function(a){f.append(a),e(f)},d=function(a){g.append(a),e(g)},e=function(a){a.children("h3").on("click",function(){b(this).parent().addClass("selected").siblings().removeClass("selected")}),h.remove()},i},b(function(){var c;b("#author-posts").length>0&&(c=new a.AuthorPosts,c.init())})}(window.app.www,jQuery),function(a,b){"use strict",a.Skins=function(){var a=this,c=b("#dynamicSidebarLeft, #dynamicSidebarRight");return this.skinResize=function(){var a=b("#content-wrapper").outerWidth(!1),d=(b(window).width()-a)/2,e=b("#content-wrapper").height();c.each(function(a,c){b(c).css({width:d+"px",height:e+"px"})})},this.init=function(){b(window).resize(function(){a.skinResize()}),a.skinResize()},a},b(function(){var b=new a.Skins;b.init()})}(window.app.www,jQuery),function(a,b){"use strict",a.Trending=function(c,d,e){var f=this,g,h,i,j;return c=c+"&site="+a.site,this.init=function(){d==="sidebar"?a.AjaxHandler(c,g,{errorHandler:j}):d==="sidebar-wide"?a.AjaxHandler(c,h,{errorHandler:j}):d==="mid-feed"&&a.AjaxHandler(c,i,{errorHandler:j})},g=function(a){var c,d,f,g=b(e).find("ul");if(a.data){f=a.data.length;for(c=0;c<f;c++)d='<li><div class="trending-img"><a title="'+a.data[c].title+'" href="'+a.data[c].url+'?rail=trending">'+'<img src="'+a.data[c].image_url.replace("large","original.210x210uc")+'" alt="'+a.data[c].title+'"></a></div>'+'<div class="title"><h5><a title="'+a.data[c].title+'" href="'+a.data[c].url+'?rail=trending">'+a.data[c].title+'<span class="caret right"></span></a></h5></div></li>',g.append(d)}},h=function(a){var c,d,f,g=b(e).find("ul"),h,i;if(a.data){f=a.data.length;for(c=0;c<f;c++)h=a.data[c].type==="crossPromote"?'<p class="cross-promote"><span>via</span> byrdie.com</p>':"",i=a.data[c].type==="gallery"?'<span class="photos">photos:</span> ':"",d='<li><div class="trending-img"><a title="'+a.data[c].title+'" href="'+a.data[c].url+'?rail=trending-wide">'+'<img src="'+a.data[c].image_url+'" alt="'+a.data[c].title+'"></a></div>'+h+'<div class="title"><h5><a title="'+a.data[c].title+'" href="'+a.data[c].url+'?rail=trending-wide">'+i+a.data[c].title+'<span class="caret right"></span></a></h5></div></li>',g.append(d)}},i=function(c){var d,f,g,h=b(e).find("ul"),i;if(c.data){g=c.data.length,a.site==="home"?i='<div class="caret right cta-arrow"><i class="fa fa-chevron-right"></i></div>':i='<div class="caret right"></div>';for(d=0;d<g;d++)f='<li><div class="trending-img"><a title="'+c.data[d].title+'" href="'+c.data[d].url+'?feed=trending">'+'<img src="'+c.data[d].image_url.replace("large","original.210x210uc")+'" alt="'+c.data[d].title+'"></a></div>'+'<h4><a title="'+c.data[d].title+'" href="'+c.data[d].url+'?feed=trending">'+c.data[d].title+"</a></h4>",f+='<div class="read-more"><a title="" href="'+c.data[d].url+'?feed=trending">See More'+i+"</a></div></li>",h.append(f)}},j=function(a){b(e).hide()},f},b(function(){var c,d;b("#sidebar-trending").length>0&&(c=new a.Trending("/parsely/request?type=popular&limit=4","sidebar","#sidebar-trending"),c.init()),b("#sidebar-trending-wide").length>0&&(c=new a.Trending("/sidebar-trending?url="+window.location.pathname,"sidebar-wide","#sidebar-trending-wide"),c.init()),b("#feed-trending").length>0&&(d=new a.Trending("/parsely/request?type=popular&limit=3","mid-feed","#feed-trending"),d.init())})}(window.app.www,jQuery),function(a,b){"use strict",a.GalleryForm=function(){var c=this,d=b("#gallery-search");return this.init=function(){c.textInit(),c.selectInit(),c.populateForm(),b("#gallery-auto-complete").css("width",b("#gallery-text").outerWidth()+"px"),b("#gallery-search").submit(function(a){c.submitForm()}),b("#search-btn").click(function(a){a.preventDefault(),b("#gallery-search").submit()})},this.populateForm=function(){var a=window.location.search.substring(1),c=window.location.pathname.split("/"),d=a.split("&"),e,f,g,h,i,j;c.length>2?j=c[2]:j="";for(e=0;e<d.length;e++)f=d[e].split("="),f[0]==="sort"?(g=decodeURI(f[1]),b("#gallery-sort").children("li:not(.init)").removeClass("selected"),i=b("#gallery-sort").find("[data-value='"+g+"']"),i.addClass("selected"),i.closest("ul").children(".init").html(i.html())):f[0]==="q"&&(h=decodeURI(f[1]),h=h.replace(/\+/g," "),b("#gallery-text").val(h));j!==""&&b("#gallery-text").val(b(".gallery-detail").find("h2:first").data("tag"))},this.submitForm=function(){var a=b("#gallery-search > input").val(),c="";b("#gallery-sort > .selected").data("value")&&(c=b("<input>").attr("type","hidden").attr("name","sort").val(b("#gallery-sort > .selected").data("value")),b("#gallery-search").append(c))},this.textInit=function(){b("#gallery-text").on("focus click input",function(){var d=b("#gallery-text").val(),e=b("#gallery-sort > .selected").data("value")||"",f=b("#gallery-category > .selected").data("value")||"",g=b("#gallery-search").data("location");a.AjaxHandler("/gallery-auto-complete",c.autocomplete,{data:{q:d,sort:e,category:f,location:g}})}),b("#gallery-text").keydown(function(a){var c,d=a.keyCode?a.keyCode:a.which;c=b("#gallery-auto-complete").children(".selected"),d===9?(b("#gallery-auto-complete").children(".selected")[0]?(b("#gallery-text").val(c.text()),b("#gallery-auto-complete").css("display","none")):(c=b("#gallery-auto-complete > li:first-child"),c.addClass("selected"),b("#gallery-text").val(c.text()),b("#gallery-auto-complete").css("display","none")),b("#gallery-search").submit()):d===13?b("#gallery-auto-complete").children(".selected")[0]&&b("#gallery-text").val(c.text()):d===40?b("#gallery-auto-complete").children(".selected")[0]?c.removeClass("selected").next().addClass("selected"):b("#gallery-auto-complete > li:first-child").addClass("selected"):d===38&&(b("#gallery-auto-complete").children(".selected")[0]?c.removeClass("selected").prev().addClass("selected"):b("#gallery-auto-complete > li:first-child").addClass("selected"))}),b("#gallery-auto-complete").on("click","li",function(){b("#gallery-text").val(b(this).text())})},this.selectInit=function(){b("#gallery-search ul").on("click",".init",function(){b(this).closest("ul").children("li:not(.init)").toggle()}),b("#gallery-search .dropdown-icon").on("click",function(){b(this).closest("ul").children("li:not(.init)").toggle()}),b("#gallery-search ul").on("click","li:not(.init)",function(){b(this).closest("ul").children("li:not(.init)").removeClass("selected"),b(this).addClass("selected"),b(this).closest("ul").children(".init").html(b(this).html()),b(this).closest("ul").children("li:not(.init)").toggle(),b("#gallery-search").submit()}),b("#gallery-search ul").mouseleave(function(){b(this).closest("ul").children("li:not(.init)").fadeOut("fast")})},this.autocomplete=function(a){var c,d="",e=a.length;for(c=0;c<10&&c<e;c++)d+="<li>"+a[c]+"</li>";b("#gallery-auto-complete").html(d).css("display","block")},c},b(document).ready(function(){var c;b("#gallery-search").length!==0&&(c=new a.GalleryForm,c.init())})}(window.app.www,jQuery),function(a,b){"use strict",b.fn.tagDropDown=function(){return this.each(function(){var a=b(this),c=a.outerHeight(),d=32,e=a.find(".tags-toggle");a.css("height",d),a.css("overflow","hidden"),c-d>10?e.click(function(b){b.preventDefault(),a.hasClass("toggle-close")?(a.removeClass("toggle-close"),a.animate({height:c},{duration:200}),a.addClass("toggle-open")):a.hasClass("toggle-open")&&(a.removeClass("toggle-open"),a.animate({height:d},{duration:200}),a.addClass("toggle-close"))}):e.css("display","none")})},b(".tags-wrapper").tagDropDown()}(window.app.www,jQuery),function(a,b){"use strict",a.SidebarGalleries=function(c,d){var e=this,f,g=b(d),h=g.find("ul"),i;return this.init=function(){a.AjaxHandler(c,f,{errorHandler:i})},i=function(a){b(d).hide()},f=function(a){var b,c,d;d=a.galleries;for(b=0;b<2;b++)c='<a title="'+d[b].name+'" href="'+d[b].url+'?rail=gallery">'+'<img src="'+d[b].coverImageUrl+'" alt="'+d[b].name+'"></a>'+'<h5><a target="_blank" title="'+d[b].name+'" href="'+d[b].url+'?rail=gallery">'+d[b].name+'<span class="caret right"></span></a></h5></li>',h.append(c)},e},b(function(){var c;b("#sidebar-photos").length>0&&(c=new a.SidebarGalleries("/photo-galleries?mode=json","#sidebar-photos"),c.init())})}(window.app.www,jQuery),function(a,b){"use strict",a.Today=function(c,d){var e=this,f,g=b(c),h=g.find("ul"),i=0,j=g.find(".today-view"),k,l,m=b(".loader").clone();return this.getFeed=function(b){a.AjaxHandler(b,f,{errorHandler:l}),m.appendTo(g).show()},l=function(a){g.hide(),m.remove()},f=function(a){var c,e,f,l,n=a.length;i++;for(c=0;c<n;c++)a[c].href.indexOf("domainehome")!==-1?(f="domaine",l="http://www.domainehome.com"):a[c].href.indexOf("byrdie")!==-1?(f="byrdie",l="http://www.byrdie.com"):a[c].href.indexOf("whowhatwear")!==-1&&(f="www",l="http://www.whowhatwear.com"),e='<li><h4><a target="_blank" href="'+l+'"><img src="/img/rss-logos/cx-'+f+'.png"></a></h4>',e+='<a target="_blank" class="today-img" title="'+a[c].title+'" href="'+a[c].href+'?ps=today">'+'<img class="'+f+'" src="'+a[c].img+'" alt="'+a[c].title+'"></a>'+'<h5><a target="_blank" title="'+a[c].title+'" href="'+a[c].href+'?ps=trending">'+a[c].title+"</a></h5></li>",h.append(e);i===d&&(j.append('<div class="today-controls"><a href="#" class="arrow-prev">&nbsp;</a><a href="#" class="arrow-next">&nbsp;</a></div>'),k=j.slydeshow({duration:1e3,transition:"slide",arrowContainer:b(".today-controls"),easing:"easeOutQuart"}),k.playInterval=setInterval(function(){k.fn.next()},5e3),g.on("mousedown",function(){clearInterval(k.playInterval),k.playInterval=undefined,g.off("mousedown")})),m.remove()},e}}(window.app.www,jQuery),function(a,b){"use strict",a.Sidebar=function(){var a=this,c=b("#sidebar-lock"),d=b("#left-column"),e,f,g,h,i=!1,j=b("#left-column").height()>b("#sidebar-lock").height(),k,l,m=b("#back-to-top").length>0,n=b("#next-story-chiclet"),o=b("#chiclet-nav"),p,q=n.length>0,r=o.length>0,s=b("#more-grid"),t=0,u=0,v=!1,w=!1,x,y,z=50,A=0;return this.init=function(){m&&(x=b("#back-to-top"),b("#more-btn").length>0?y=b("#more-btn"):y=b("#footer"),b("#back-to-top a").click(function(){return b("#back-to-top").stop(!0,!0).fadeOut("slow"),b("body,html").animate({scrollTop:0},300,a.toggleBackToTopButton),!1})),q&&(p=parseInt(n.css("bottom"),10)),b(window).resize(a.scrollHandler),b(window).on("scroll touchstart touchmove touchend",a.scrollHandler),a.scrollHandler(),b("#left-column").imagesLoaded(a.scrollHandler)},this.toggleBackToTopButton=function(){b("#back-to-top").is(":animated")||(A=Math.round(y.offset().top-z),b(window).scrollTop()<200||b(window).scrollTop()+b(window).height()>A?b("#back-to-top").stop(!0,!0).fadeOut("fast"):b("#back-to-top").stop(!0,!0).fadeIn("slow"))},this.toggleNavHeaderChiclet=function(){o.is(":animated")||(j?w||(o.stop(!0,!0).animate({width:"toggle"},350),w=!0):(u=Math.round(s.offset().top),b(window).scrollTop()+b(window).height()>u&&!w&&(o.stop(!0,!0).animate({width:"toggle"},350),w=!0)))},this.toggleChiclet=function(){n.is(":animated")||(t=Math.round(s.offset().top)+p,b(window).scrollTop()+b(window).height()>t&&!v?(n.stop(!0,!0).animate({width:"toggle"},350),v=!0):b(window).scrollTop()+b(window).height()<t&&v&&(n.stop(!0,!0).animate({width:"toggle"},350),v=!1))},this.scrollHandler=function(){k=window.scrollY||window.pageYOffset,i||(i=!0,clearTimeout(l),l=setTimeout(function(){j&&typeof c!="undefined"&&c.length!==0&&a.setupLock(),m&&a.toggleBackToTopButton(),q&&a.toggleChiclet(),!j&&r&&a.toggleNavHeaderChiclet(),i=!1},100)),j&&a.setPosition()},this.setupLock=function(){g=c.outerHeight(!0),h=d.outerHeight(!0),b("#sidebar").css({position:"relative",height:h}),e=d.offset().top,f=d.outerHeight(!0)-e},this.setPosition=function(){if(c.css("position")==="fixed")h+e+10<=c.offset().top+g?c.css({position:"absolute",bottom:0,top:"auto"}):k-e<g-b(window).height()&&c.css({position:"static"});else if(c.css("position")==="absolute"){var d=c.offset().top+g-k-b(window).height();d>=0&&c.css({position:"fixed",top:"auto",bottom:0})}else k-e>g-b(window).height()&&(r&&a.toggleNavHeaderChiclet(),c.css({position:"fixed",top:"auto",bottom:0}))},this.toggleSidebarFacebook=function(){b("#sidebar-fb h3").html("<span>NOW, WE'RE OFFICIAL</span>"),b("#fb-bg").delay(1e3).fadeOut("slow",function(){b("#fb-action").hide(),b("#twitter-action").css({visibility:"visible","margin-top":"45px"}),b("#sidebar-fb h3").html("<span>STAY A STEP AHEAD</span>")})},this.toggleSidebarTwitter=function(){b("#twitter-bg").delay(1e3).fadeOut("slow",function(){b("#twitter-action").hide(),b("#sidebar-fb h3").html("<span>THANKS!</span>").css("margin-top","25px")})},a},b(window).load(function(){var c;b("#sidebar-lock").length!==0&&(c=new a.Sidebar,c.init())})}(window.app.www,jQuery),function(a,b){"use strict",a.AjaxHandler=function(a,c,d){var e,f,g=new Date,h;h=g.getMonth()+1+"-"+g.getDate()+"-"+g.getFullYear()+"h"+g.getHours(),e=function(a){console.log(a.status+": "+a.statusText)},f=b.extend({type:"GET",dataType:"json",timeout:6e4,errorHandler:e,cache:!0,data:{}},d),f.data.ts=h,b.ajax({type:f.type,url:a,datatype:f.dataType,timeout:f.timeout,cache:f.cache,data:f.data}).done(c).fail(f.errorHandler)}}(window.app.www,jQuery),function(a,b){"use strict",a.Debug=function(){var c=this;return c.content="",c.log=function(b){a.displayDebug===1&&(c.content.length>0&&(c.content+="\r"),c.content+=b,c.render())},c.clear=function(){a.displayDebug===1&&(c.content="",c.render())},c.render=function(){var d;a.displayDebug===1&&(b("#consoleWin").length===0&&(d='<style type="text/css">.consoleButton a { padding:5px 10px; background:#666; -webkit-border-radius: 3px; -moz-border-radius: 3px; border-radius: 3px; } .consoleButton a:hover { background: #FFF; text-decoration:none; color:#000; }</style>',d+='<div style="position:fixed; right:10px; top:10px; z-index:10000; color:#000;"><div id="consoleHide" class="consoleButton"><a href="#" onclick="$(\'#consoleWin\').hide(\'fast\');$(\'#consoleHide\').hide();$(\'#consoleShow\').show();return false;">–</a></div><div id="consoleShow" class="consoleButton" style="display:none;">'+"<a href=\"#\" onclick=\"$('#consoleWin').show('fast');$('#consoleHide').show();$('#consoleShow').hide();return false;\">+</a></div></div>",d+='<pre id="consoleWin" style="position:fixed; z-index:10000; max-width: 1000px; max-height: 400px; overflow: auto; right:10px; top:40px; background-color:rgba(255, 255, 255, 0.8); color:#000;"><div></div></pre>',b("body").append(d)),b("#consoleWin > div").html(c.content),b("#consoleWin").scrollTop(b("#consoleWin > div").height()-b("#consoleWin").height()))},c},a.debug=new a.Debug}(window.app.www,jQuery),function(a,b){"use strict",a.Search=function(){var a=this,c=18,d=0,e=0,f=1,g=!0,h="stories",i=window.History,j=!0,k,l=!1,m,n,o,p=!1,q=!1;return a.init=function(){var c=!1,o;k=a.getQuery(),b("#search-form").submit(function(){var d=b.trim(b("#search-term-input").val());return d&&(f=1,q=!1,p=!1,h="stories",a.resetView(),a.writeHistory(h),a.search(d),c=!0),!1}),c===!1&&b("#search-term-input").val().length&&(o=b.trim(b("#search-term-input").val()),"page"in k&&(f=k.page),"filter"in k&&(h=k.filter),a.writeHistory(h),a.search(o)),b(".filter-nav-links").on("click",function(){var c=b(this).attr("id"),d=c.split("-"),e=b.trim(b("#search-term-input").val());return h=d[1],f=1,a.resetView(),a.writeHistory(h),a.search(e),!1}),i.enabled&&i.Adapter.bind(window,"statechange",function(){var c=i.getState(),d=a.parseQuery(c.hash);j&&("page"in d&&(f=d.page),b(".filter-nav-links").removeClass("active"),"filter"in d&&(h=d.filter,b("#filter-"+h).addClass("active")),"q"in d&&(a.resetView(),a.search(d.q))),j=!0}),b(window).resize(function(){a.resizePhotos()}),b(window).scroll(function(){var c;l||(l=!0,m=setInterval(function(){b(window).scrollTop()>=b("#search-results")[0].scrollHeight-800&&g&&e>d&&(c=b.trim(b("#search-term-input").val()),f++,a.writeHistory(h),a.search(c))},100)),clearTimeout(n),n=setTimeout(function(){l=!1,clearInterval(m)},100)})},a.writeHistory=function(a){var c=window.location.href,d=Object.keys(k),e=b.trim(b("#search-term-input").val()),g,h;k.q=e,k.filter=a,c=c+"&filter="+k.filter;if("page"in k){k.page=f,c=window.location.origin+window.location.pathname+"?";for(g=0;g<d.length;g++)h=d[g],c=c+h+"="+k[h],g<d.length-1&&(c=c+"&")}else k.page=f,c+="&page="+k.page;b(".filter-nav-links").removeClass("active"),b("#filter-"+k.filter).addClass("active"),j=!1,i.enabled&&i.pushState(null,null,c)},a.getQuery=function(){var b=location.href,c=a.parseQuery(b);return c},a.parseQuery=function(a){var b=a.substring(a.indexOf("?")+1).split("&"),c,d;for(c=0,d={};c<b.length;c++)b[c]=b[c].split("="),d[b[c][0]]=decodeURIComponent(b[c][1]);return d},a.createGalleryPreview=function(a){b("#gallery-preview").html(a.html).show()},a.search=function(d){var e=f>1?f*c-c:0;b(".search-loader").css("display","block"),q?a.ajaxSearch(d,e,k.filter):b.when(a.getHeaderRelatedGalleries(d)).then(function(b){q=!0,window.scrollTo(0,0),a.ajaxSearch(d,e,k.filter)})},a.getHeaderRelatedGalleries=function(c){var d=new Date,e=d.getMonth()+1+"-"+d.getDate()+"-"+d.getFullYear()+":"+d.getHours();return b.ajax({dataType:"json",type:"GET",url:"/galleries-ajax",data:{ts:e,q:c},cache:!0,success:function(d){d?(o=d.slug,d.term=c,a.createGalleryPreview(d)):b("#gallery-preview").hide()}})},a.ajaxSearch=function(f,h,i){var j=new Date,l=j.getMonth()+1+"-"+j.getDate()+"-"+j.getFullYear()+":"+j.getHours(),m="/search-ajax",n;i==="photos"&&(m="/photo-galleries/"+f),b.ajax({dataType:"json",type:"GET",url:m,data:{q:f,start:h,limit:c,ts:l,mode:"json"},cache:!0,beforeSend:function(){g=!1},success:function(g){var j,m;g.error?i==="stories"&&!p?(p=!0,b("#filter-photos").trigger("click")):a.noResults(g.error):(j=g.results.length!==undefined?g.results.length:0,m=k.page*c,i==="stories"&&j<=6&&!p?(n=g,p=!0,a.checkPhotoResults(f,h,l).done(function(c){c.error||c.totalResults<j?a.completedSearch(n.results,i,f):(b(".filter-nav-links").removeClass("active"),b("#filter-photos").addClass("active"),a.completedSearch(c.results,i,f))})):(e=g.totalResults,d+=j,m>e&&(d=e),a.completedSearch(g.results,i,f)))},complete:function(){g=!0}})},a.checkPhotoResults=function(a,d,e){return b.ajax({dataType:"json",type:"GET",url:"/photo-galleries/"+a,data:{q:a,start:d,limit:c,ts:e,mode:"json"},cache:!0})},a.noResults=function(a){b(".search-loader").css("display","none"),b("#no-results").css("display","block").html(a)},a.completedSearch=function(a,c,d){var e="",f,g,h="",i,j,k;b(".search-loader").css("display","none"),b("#no-results").css("display","none");if(a===null||a.length===0)return;for(i=0;i<a.length;i++)f=a[i],f.image&&(f.image.indexOf("original.jpg")!==-1?g=f.image.replace("original.jpg","original.300x300uc.jpg"):g=f.image,h="<img src='"+g+"'>"),c==="photos"?(f.title=f.subtitle?f.subtitle:f.title,o?f.url=f.url+"?gallery="+o+"&search="+d:f.url=f.url+"?search="+d):f.url=f.url+"?search="+d,e+="<li><div class='img-contain'><a href='"+f.url+"'>"+h+"</a></div>"+"<div class='date-contain'>"+f.pubdate+"</div>"+"<div class='title-contain'><a href='"+f.url+"'>"+f.title+"</a></div></li>";b("#"+c+"-container").css("display","inline-block"),b("#"+c+"-results ul").append(e)},a.resizePhotos=function(){b(".img-contain").height(b(".img-contain").width())},a.resetView=function(){c=18,d=0,e=0,b("#stories-results").html("<ul></ul>"),b("#stories-container").css("display","none"),b("#photos-results").html("<ul></ul>"),b("#photos-container").css("display","none")},a},b(function(){b("#search-form").length>0&&(a.search=new a.Search,a.search.init())})}(window.app.www,jQuery),function(a,b){"use strict",a.GalleryGrid=function(){var c=this;return this.init=function(b,d){a.AjaxHandler("/gallery-related/"+b,c.success,{data:{mode:"json",pages:d}})},this.html=function(a){var b,c,d,e;c="";if(a.galleries.length>0){d=a.galleries,e=d.length,c='<section class="gallery"><h2 class="gallery">Recommended Galleries</h2>';for(b=0;b<e;b++){b%2===0&&(c+='<ul class="grid two-column">'),c+='<li class="list-item"><div class="list-image"><a href="'+d[b].url+'" title="'+d[b].name+'">'+'<img width="100%" src="'+d[b].coverImageUrl+'" alt="'+d[b].name+'" />'+'</a></div><div class="list-content gallery"><h2>'+'<a href="'+d[b].url+'" title="'+d[b].name+'">'+d[b].name+'</a></h2><div class="read-more"><a href="'+d[b].url+'" title="'+d[b].name+'">'+"SEE GALLERY"+'<div class="caret right"></div></a></div></div></li>';if(b%2===1||b===e-1)c+="</ul>"}c+="</section>"}return c},this.success=function(a){b("#left-column").append(c.html(a))},c},b(function(){var c,d;b(".default-galleries").length!==0&&(c=new a.GalleryGrid,d=b("#gallery-detail-title").attr("data-slug"),c.init(d,0))})}(window.app.www,jQuery),function(a,b){"use strict",a.JoinBox=function(){var c=this,d=b("#join-box"),e=b("#newsletter-signup-other"),f=b("#newsletter-signup-followup");return this.init=function(){b("#top-nav .join").on("click",function(a){a.preventDefault(),d.slideToggle("fast")}),e.find(".decline").on("click",function(a){a.preventDefault(),d.slideToggle("fast")}),b("#nl-top-insider").find('input[name="email"]').on("focusout",function(){var a=b("#nl-top-insider").find('input[name="email"]').val();b("#email-hidden").val(a)}),b("#nl-top-insider").submit(function(c){var d;d=function(){b("#join-cta").hide(),e.css("display","block")},a.formHelper.processForm(b(this).attr("action"),b(this),d,"nav_email_icon"),c.preventDefault()}),e.find(".checkbox").click(function(a){var c=b(this).data("value"),d=b(this).attr("id")+"-hidden";c===1?(b(this).data("value",0),b("#"+d).val(0),b(this).css("color","#fff")):(b(this).data("value",1),b("#"+d).val(1),b(this).css("color","#000")),a.preventDefault()}),e.find(".submit").click(function(b){b.preventDefault();var c=function(a){d.html('<div class="response">thanks for joining!</div>'),setTimeout(function(){d.fadeOut()},1500)};a.formHelper.processForm(f.attr("action"),f,c,"nav_email_icon")})},c},b(function(){var c;b("#join-box").length>0&&(c=new a.JoinBox,c.init())})}(window.app.www,jQuery),function(a,b){"use strict",a.AjaxFormHelper=function(){var a=this,c,d,e,f=b("div.loader").clone(),g={email:{regex:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,inputClassName:"email",errorMessage:"A valid email address is required."}};this.processForm=function(c,h,i,j){h.find("label.error").remove(),d=h.find("input."+g.email.inputClassName),e=d.val(),a.isFilled(e)&&a.isValidEmail(e)?(f.appendTo(h.parent()).show(),a.sendForm(c,h,i,j)):b('<label for="email" class="error">'+g.email.errorMessage+"</label>").insertBefore(d)},this.sendForm=function(d,e,f,g){var h=a.getGaData();c=b.post(d,e.serialize()+"&mode=ajax&reference_page="+encodeURIComponent(window.location.pathname)+"&widgetLocation="+encodeURIComponent(g)+h),c.done(function(a){typeof f=="function"&&f(a)}),c.fail(function(a,b){console.log(b)}),c.always(function(){b(".loader").remove()})},this.getGaData=function(){var b="";return a.getUrlParameter("utm_source")&&(b+="&gaSource="+a.getUrlParameter("utm_source")),a.getUrlParameter("utm_campaign")&&(b+="&gaName="+a.getUrlParameter("utm_campaign")),a.getUrlParameter("utm_medium")&&(b+="&gaMedium="+a.getUrlParameter("utm_medium")),a.getUrlParameter("utm_content")&&(b+="&gaContent="+a.getUrlParameter("utm_content")),a.getUrlParameter("utm_term")&&(b+="&gaTerm="+a.getUrlParameter("utm_term")),b},this.isValidEmail=function(a){return g.email.regex.test(a)},this.isFilled=function(a){return a!==""},this.getUrlParameter=function(a){var b=window.location.search.substring(1),c=b.split("&"),d,e;for(d=0;d<c.length;d++){e=c[d].split("=");if(e[0]===a)return e[1]}}},a.formHelper=new a.AjaxFormHelper}(window.app.www,jQuery),function(a,b){function f(a,e){this.element=a,this.options=b.extend(!0,{},d,e),this.options.share=e.share,this.myDefaults=d,this.myName=c,this.init()}"use strict";var c="social",d={className:"sharrre",share:{googlePlus:!1,facebook:!1,twitter:!1,digg:!1,delicious:!1,stumbleupon:!1,linkedin:!1,pinterest:!1,heartThreshold:100},shareTotal:0,title:"",url:document.location.href,text:document.title,urlCurl:"/sharrre/sharrre",count:{},total:0,shorterTotal:!0,enableHover:!0,enableCounter:!0,enableTracking:!1,hover:function(){},hide:function(){},click:function(){},render:function(){},buttons:{googlePlus:{url:"",urlCount:!1,size:"medium",lang:"en-US",annotation:""},facebook:{url:"",urlCount:!1,action:"like",layout:"button_count",width:"",send:"false",faces:"false",colorscheme:"",font:"",lang:"en_US"},twitter:{url:"",urlCount:!1,count:"horizontal",hashtags:"",via:"",related:"",lang:"en"},digg:{url:"",urlCount:!1,type:"DiggCompact"},delicious:{url:"",urlCount:!1,size:"medium"},stumbleupon:{url:"",urlCount:!1,layout:"1"},linkedin:{url:"",urlCount:!1,counter:""},pinterest:{url:"",media:"",description:"",layout:"horizontal"}}},e={googlePlus:"",facebook:"https://graph.facebook.com/fql?q=SELECT%20url,%20normalized_url,%20share_count,%20like_count,%20comment_count,%20total_count,commentsbox_count,%20comments_fbid,%20click_count%20FROM%20link_stat%20WHERE%20url=%27{url}%27&callback=?",twitter:"http://cdn.api.twitter.com/1/urls/count.json?url={url}&callback=?",digg:"http://services.digg.com/2.0/story.getInfo?links={url}&type=javascript&callback=?",delicious:"http://feeds.delicious.com/v2/json/urlinfo/data?url={url}&callback=?",stumbleupon:"",linkedin:"http://www.linkedin.com/countserv/count/share?format=jsonp&url={url}&callback=?",pinterest:"http://api.pinterest.com/v1/urls/count.json?url={url}&callback=?"};f.prototype.init=function(){var a=this,c,d=b(".native-social .social-comments"),f=100;a.options.total=0,this.options.urlCurl!==""&&(e.googlePlus=this.options.urlCurl+"?url={url}&type=googlePlus",e.stumbleupon=this.options.urlCurl+"?url={url}&type=stumbleupon"),b(this.element).addClass(this.options.className),typeof b(this.element).data("title")!="undefined"&&(this.options.title=b(this.element).attr("data-title")),typeof b(this.element).data("url")!="undefined"&&(this.options.url=b(this.element).data("url")),typeof b(this.element).data("text")!="undefined"&&(this.options.text=b(this.element).data("text")),b.each(this.options.share,function(b,c){c===!0&&(a.options.shareTotal+=1)}),a.options.enableCounter===!0&&b.each(this.options.share,function(b,c){if(c===!0)try{a.getSocialJson(b)}catch(d){}}),d.length>0&&(c=d.first().attr("data-href"),b.getJSON("https://graph.facebook.com/fql?q=SELECT%20commentsbox_count%20FROM%20link_stat%20WHERE%20url=%27"+c+"%27",function(a){var b=a.data[0].commentsbox_count;b>0&&(b=b!==1?b+" comments":b+" comment",d.find(".comment-label").text(b))}),d.find(".comment-label").click(function(){return b("html, body").animate({scrollTop:b(".comments-cta").offset().top-f},500),!1}))},f.prototype.getSocialJson=function(a){var c=this,d=0,f=e[a].replace("{url}",encodeURIComponent(this.options.url));this.options.buttons[a].urlCount===!0&&this.options.buttons[a].url!==""&&(f=e[a].replace("{url}",this.options.buttons[a].url)),f!==""&&c.options.urlCurl!==""?b.getJSON(f,function(b){var e;typeof b.count!="undefined"?(e=b.count+"",e=e.replace("Â ",""),d+=parseInt(e,10)):b.data&&b.data.length>0&&typeof b.data[0].total_count!="undefined"?(d+=parseInt(b.data[0].total_count,10),typeof b.data[0].commentsbox_count!="undefined"&&(d+=parseInt(b.data[0].commentsbox_count,10))):typeof b.shares!="undefined"?d+=parseInt(b.shares,10):typeof b[0]!="undefined"&&(d+=parseInt(b[0].total_posts,10)),c.options.count[a]=d,d>0&&(c.options.total+=d),c.renderer()}).error(function(){c.options.count[a]=0}):c.renderer()},f.prototype.renderer=function(){var a=parseInt(this.options.total,10),c;this.options.shorterTotal===!0&&(a=this.shorterTotal(a)),c="<span><span class='icon-heart'></span>"+a+"</span>",b(this.element).addClass("social-rendered").find(".total").html(c),a<this.options.share.heartThreshold?b(this.element).addClass("social-rendered").find(".total").addClass("hidden"):b(this.element).addClass("social-rendered").find(".total").removeClass("hidden")},f.prototype.shorterTotal=function(a){return a>=1e6?a=(a/1e6).toFixed(2)+"M":a>=1e3&&(a=(a/1e3).toFixed(1)+"k"),a},b.fn[c]=function(a){var d=arguments;if(a===undefined||typeof a=="object")return this.each(function(){b.data(this,"plugin_"+c)||b.data(this,"plugin_"+c,new f(this,a))});if(typeof a=="string"&&a[0]!=="_"&&a!=="init")return this.each(function(){var e=b.data(this,"plugin_"+c);e instanceof f&&typeof e[a]=="function"&&e[a].apply(e,Array.prototype.slice.call(d,1))})},a.Social=function(){var a=this,c=!1,d=b(".social-fixed"),e,f,g=0;return a.init=function(c){var e={share:{facebook:!0,twitter:!0,pinterest:!0,heartThreshold:100}};d.length>0&&(b(window).on("scroll",a.scrollHandler),b(window).on("resize",a.resizeHandler),a.resizeHandler()),b("#salvattore").length>0&&(e.share.heartThreshold=5),b("#home-carousel").length>0&&(e.share.heartThreshold=20),arguments.length>0?c.find(".social-count").each(function(){b(this).hasClass("social-rendered")||b(this).social(e)}):b(".social-count").each(function(){b(this).hasClass("social-rendered")||b(this).social(e)})},this.resizeHandler=function(){var a=Math.round((b(window).height()-d.height())/2);d.css("top",a)},this.toggleFixedSocialIcons=function(){b(".social-fixed").is(":animated")||(b(".content-social").length>0?g=Math.round(b(".content-social").offset().top):b("#more-btn").length>0?g=Math.round(b("#more-btn").offset().top):g=Math.round(b("#footer").offset().top),b(window).scrollTop()<100||b(window).scrollTop()>=g?b(".social-fixed").stop(!0,!0).fadeOut("fast"):b(".social-fixed").stop(!0,!0).fadeIn("slow"))},this.scrollHandler=function(){c||(c=!0,e=setInterval(function(){a.toggleFixedSocialIcons()},100)),clearTimeout(f),f=setTimeout(function(){c=!1,clearInterval(e)},100)},a},b(".social-count").length>0&&(a.social=new a.Social,a.social.init())}(window.app.www,jQuery),function(a,b){"use strict",a.Menu=function(){var a=this,c=b("#second-nav"),d=b("#drop-down-nav"),e=b("#drop-down-nav-border"),f=b("#top-logo"),g=b("#main-menu"),h=!1,i=!1,j=c.height();return this.init=function(){b(window).scroll(a.navToggle),b("#menu-btn").click(function(b){b.preventDefault(),a.hamburgerToggle()}),b("#main-menu .caret").click(function(a){var c;a.preventDefault(),c=b(this).closest("li").find("ul"),c.hasClass("visible")?c.removeClass("visible").css("display","none"):c.addClass("visible").css("display","block")}),b("#main-menu").mouseleave(function(){g.stop(!0,!0).fadeOut("slow"),i=!1}),b(".nav li").mouseleave(function(){var a=b(this).find("ul");a.hasClass("visible")&&a.removeClass("visible").stop(!0,!0).fadeOut()}),b("#main-wrapper").click(function(b){i&&a.hamburgerToggle()})},this.navToggle=function(){b(window).scrollTop()>j?!h&&!i&&(d.stop(!0,!0).slideDown("slow"),e.stop(!0,!0).slideDown("slow"),f.stop(!0,!0).fadeIn(),h=!0):h&&(d.stop(!0,!0).slideUp("slow"),e.stop(!0,!0).slideUp("slow"),f.stop(!0,!0).fadeOut(),h=!1)},this.hamburgerToggle=function(){i?(g.stop(!0,!0).fadeOut(),i=!1):(h&&(d.stop(!0,!0).slideUp("fast"),e.stop(!0,!0).slideUp("fast"),h=!1),g.stop(!0,!0).fadeIn(),i=!0)},a},b(document).ready(function(){var b=new a.Menu;b.init()})}(window.app.www,jQuery),function(a,b,c){"use strict",a.Video=function(){var a=this,d=b(".video-container");return this.init=function(){d.each(function(){b(this).find(".poster-image").length>0?b(this).on("click",a.startVideo):b(this).find(".video-embed").show()}),window.location.href.indexOf("autoplay=1")!==-1&&setTimeout(function(){d.first().trigger("click")},100)},this.startVideo=function(a){var d=b(this).find(".video-embed"),e=b(this).find(".poster-image"),f=d.find("iframe"),g=function(a,b){b=b.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var c=new RegExp("[\\?&]"+b+"=([^&#]*)"),d=c.exec(a);return d!==null?!0:!1},h=function(a){return a===c?!1:a.indexOf("?")>=0},i=function(a,b,c){if(!g(a,b)){var d=c!=null?b+"="+c:b,e=h(a)?"&":"?";return a+e+d}return a},j=function(){var a=f.attr("src");a=i(a,"autoplay",1),f.attr("src",a)};j(),e.fadeOut("fast",function(){e.off("click").remove(),d.fadeIn("fast")})},a},b(function(){var c;b(".video-embed").length>0&&(c=new a.Video,c.init())})}(window.app.www,jQuery),function(a,b){"use strict",a.Contact=function(){var c,d,e=b("#select-contact-form");b("#contact-form #select-state option:first").attr("disabled","disabled"),b("#contact-form #select-country option:first").attr("disabled","disabled"),b("#contact-form #select-state").val(""),b("#contact-form #select-country").val(""),b.validator.addMethod("zip",function(a){return a===""?!0:/^((\d{5}-\d{4})|(\d{5})|([A-Z]\d[A-Z]\s\d[A-Z]\d))$/.test(a)},"Please enter a valid US zip code."),b.validator.addMethod("phone",function(a){return a===""?!0:/^[01]?[\- .]?\(?[2-9]\d{2}\)?[\- .]?\d{3}[\- .]?\d{4}$/.test(a)},"Please enter a valid phone number."),b("#contact-form #general-form").validate({invalidHandler:function(a,c){b("ul.errors").hide()}}),b("#contact-form #advertising-form").validate({invalidHandler:function(a,c){b("ul.errors").hide()}}),b("#contact-form #select-country").change(function(){var a=b(this).val();a!=="US"?(b("#contact-form #select-state").val(""),b("#contact-form #select-state").removeClass("required"),b("#contact-form #select-state").attr("disabled","disabled")):(b("#contact-form #select-state").hasClass("required")||b("#contact-form #select-state").addClass("required"),b("#contact-form #select-state").removeAttr("disabled"))}),e.find('input[type="radio"]').change(function(){var a=b(this).val();window.location.hash=a,a==="advertising"?(b("#contact-form #general-form").filter(":visible").hide(),b("#contact-form #advertising-form").filter(":hidden").show()):(b("#contact-form #advertising-form").filter(":visible").hide(),b("#contact-form #general-form").filter(":hidden").show()),b('#contact-form input[name="type"]').val(a),e.find("label").removeClass(),b(this).prop("checked")===!0&&b(this).next().addClass("selected")}),a.Contact.onhashchange=function(){c=window.location.hash.replace("#",""),(c==="advertising"||c==="careers"||c==="editorial"||c==="support"||c==="general")&&c!==b("#contact-form #select-contact").val()&&(b("#input-"+c).prop("checked",!0),b("#input-"+c).change())},b(window).on("hashchange",a.Contact.onhashchange),a.Contact.onhashchange()},b(function(){var c;b("#contact-form").length>0&&(c=new a.Contact)})}(window.app.www,jQuery),function(a,b){"use strict",a.Paginator=function(){var c=this,d=window.History,e="",f=!1,g=!0,h,i=1,j,k=!1;return c.lastPageCallback="",c.pageLoaded=1,c.isDisabled=!1,c.autoScroll=!0,c.pages=3,b(".gallery-detail").length>0&&(c.pages=10),c.init=function(){b("#more-btn.pagination-disabled").length>0&&(c.isDisabled=!0),b("footer").on("click",function(){c.autoScroll=!1,c.enable()}),b(".pagination-grid").length!==0&&b(".pagination-grid").imagesLoaded(function(){b("#more-btn a").fadeIn()}),b(window).on("scroll",function(){b("#more-btn").length>0&&b("#more-btn").offset().top<b(window).height()+b(window).scrollTop()&&!c.isDisabled&&c.autoScroll&&(c.pageLoaded<c.pages&&c.disable(),c.loadPage())})},c.parseUrl=function(){var a=window.location.href.split("/"),b,d,g;for(d=0;d<a.length;d+=1){if(a[d]==="page"){i=c.pageLoaded=parseInt(a[d+1],10);break}if(a[d]===""&&d===a.length-1)break;if(a[d].indexOf("search?")!==-1){f=!0,e+=a[d],b=a[d].substring(a[d].indexOf("?")+1,a[d].length).split("&");for(g=0;g<b.length;g+=1)if(b[g].indexOf("page")!==-1){i=c.pageLoaded=parseInt(b[g].substring(b[g].indexOf("=")+1,b[g].length),10);break}b=e.split("&");if(b.length>1){e=b[0];for(g=1;g<b.length;g+=1){if(b[g].indexOf("page")!==-1)continue;e+="&"+b[g]}}}else e+=a[d].split("?")[0]+"/"}e.substr(e.length-2,2)==="//"&&(e=e.substr(0,e.length-1))},c.parseUrl(),b("#more-btn:not(.pagination-disabled)").on("click",function(a){c.next(a)}),c.next=function(a){a.preventDefault(),k?c.showNextPage():(c.disable(),c.loadPage())},c.loadPage=function(){var a,d,e,f="",l="all",m,n=new Date,o;o=n.getMonth()+1+"-"+n.getDate()+"-"+n.getFullYear()+"h"+n.getHours();if(i>c.pageLoaded)return;i+=1;if(b("#more-btn a").length>0)a=b("#more-btn a").attr("href");else{a=b(h).attr("href");if(a===undefined)return}d=a.split("?");if(d.length>1){d=d[1].split("&");for(m=0;m<d.length;m+=1)e=d[m].split("="),e[0]==="q"&&(f=e[1]),e[0]==="filter"&&(l=e[1])}b.ajax({type:"GET",url:a,data:{page:i,q:f,filter:l,mode:"ajax",ts:o},dataType:"json",cache:!0,success:function(a){j=b(a.html.toString()),k=!0,g=a.more,c.isDisabled&&c.showNextPage()},error:function(a){console.log("status:"+a.status+"-"+a.statusText),b("#more-btn").fadeOut()}})},c.showNextPage=function(){var g=!1,h=".pagination-list",l,m,n,o;f?m=e+"&page="+i:m=e+"page/"+i,window._gaq.push(["_trackPageview",m]),window.COMSCORE.beacon({c1:"2",c2:"13554700"}),d.enabled&&b(".no-history").length===0&&d.pushState(null,window.document.title,m),c.pageLoaded+=1,window.googletag.rotate("SLIDESHOW"),b("#salvattore").length>0?(o=document.querySelector("#salvattore"),j.css("opacity",0),window.salvattore.append_elements(o,j.toArray()),a.gallery.init(),j.imagesLoaded(function(){j.each(function(){var a=b(this);setTimeout(function(){a.animate({opacity:1},700)},Math.floor(Math.random()*1e3+1))}),k=!1,c.enable()})):g?(j.css("opacity",0),j.imagesLoaded(function(){b(document).scrollTop()<b(h).height()&&b("body,html").animate({scrollTop:b(h).height()},500),b(h).append(j).masonry("appended",j,!0),j.each(function(){var a=b(this);setTimeout(function(){a.animate({opacity:1},700)},Math.floor(Math.random()*1e3+1))}),k=!1,c.enable()})):(j.css("opacity",0),b(h).append(j),b(".tags-wrapper").length>0&&j.find(".tags-wrapper").tagDropDown(),l=0,j.each(function(){var a=b(this);l+=100,setTimeout(function(){a.animate({opacity:1},300)},l)}),setTimeout(c.enable,100),k=!1),b(".social-count").length>0&&a.social.init(),n=jQuery.Event("showNextPage"),b(document).trigger(n)},c.disable=function(){c.isDisabled=!0,h=b("#more-btn").html(),b("#more-btn").html('<span class="more-label loading" title="Loading">&nbsp;</span>'),b("#more-btn").off("click"),b("#more-btn").on("click",function(a){a.preventDefault()})},c.enable=function(){c.isDisabled=!1,b("#more-btn").off("click"),g?(b("#more-btn").on("click",function(a){c.next(a)}),b("#more-btn").html(h)):(typeof c.lastPageCallback=="function"&&c.lastPageCallback(c.pageLoaded),b("#more-btn").fadeOut())},c},b("#more-btn").length!==0&&b(".pagination-grid").length!==0&&b("#more-btn a").hide(),b(function(){b("#more-btn").length!==0&&(a.paginator=a.Paginator(),b(".gallery-detail").length!==0&&(a.paginator.lastPageCallback=function(c){var d=new a.GalleryGrid,e=b("#gallery-detail-title").attr("data-slug");d.init(e,c)}),a.paginator.init())})}(window.app.www,jQuery),function(a,b){"use strict",a.BloggerFeed=function(c,d,e,f){function n(b){var c=function(a){var c=a.length;for(m=0;m<c;m++)p(o(a[m],b))};a.AjaxHandler("/get-feeds?",c,{errorHandler:l,data:b})}function o(a,b){function c(b,c){return a[c]}return a.name=b.name,a.logo=b.logo,a.site=b.site,a.classname=b.classname,e.replace(/\{\{(\w*)\}\}/g,c)}function p(a){k.push(a);if(k.length===j){k=s(k);for(m=0;m<j;m++)i.append(k[m]);h.on("click",".carousel-view a",function(a){window._gaq.push(["_trackEvent","blogger-midfeed",b(this).closest("li").prop("class"),b(this).prop("title")])}),h.imagesLoaded(function(){q()})}}function q(){h.find(".blogger-img img").each(function(){var a=b(this).height(),c=b(this).width();a>c?b(this).addClass("high"):(b(this).addClass("wide"),b(this).css("left","-"+(c-a)/a/2*100+"%"))}).promise().done(function(){r()})}function r(){h.endlessnext({duration:600,arrowContainerClass:".carousel-controls",numOfVisibleElems:2})}function s(a){var b,c,d;for(b=a.length-1;b>=0;b--)c=Math.floor(Math.random()*(b+1)),d=a[b],a[b]=a[c],a[c]=d;return a}var g=this,h=b(d),i=h.find("ul"),j=f,k=[],l,m;return this.init=function(){var a=c.length;for(m=0;m<a;m++)n(c[m])},l=function(a){j-=2},g}}(window.app.www,jQuery),function(a,b){"use strict",a.Welcome=function(){function d(){return c.offset().top-66+"px"}var a=this,c=b("#gallery-text");return this.init=function(){var a='<div id="gallery-welcome"><h2><span>Welcome</span><em> to our photo galleries</em></h2><h3><i class="icon-hint-arrow"></i>Search for your favorite trends, celebrities, items, or whatever you want.</h3></div>';b.cookie("gallery-welcome")||(b.colorbox({closeButton:!1,transition:"fade",html:a,escKey:!1,fixed:!0,open:!0,opacity:.7,top:d(),left:c.offset().left-50+"px",width:b("#content-wrapper").width(),height:"100%"}),window.googletag.cmd.push(function(){window.googletag.on("gpt-page_load_complete",function(){b("#colorbox").css("top",d())})}),b(document).on("cbox_closed",function(){b.cookie("gallery-welcome",!1,{expires:30,path:"/"})}),setTimeout(function(){b.colorbox.close()},6e3))},a},b(function(){b("#gallery-landing").length>0&&(a.welcome=new a.Welcome,a.welcome.init())})}(window.app.www,jQuery),function(a,b){"use strict";var c;a.Newsletter=function(){var c=this;return this.init=function(){var c=b("#footer-newsletter-tall"),d=b("#footer-newsletter-wide");if(b.cookie("newsletter-footer")==="off")return;b.cookie("newsletter-footer")?b.cookie("newsletter-footer")==="wide"?d.show():b.cookie("newsletter-footer")==="tall"&&c.show():b.cookie("__utma")?b.cookie("newsletter-footer","wide",{path:"/",expires:30}):b.cookie("newsletter-footer","tall",{path:"/",expires:30}),b(".close-newsletter-footer").on("click",function(a){b.cookie("newsletter-footer","off",{path:"/",expires:30}),c.hide(),d.hide(),a.preventDefault()}),b('#newsletter-signup-wide input[name="email"], #newsletter-signup-tall input[name="email"]').focusout(function(a){var c=b(this).val();b(".email-footer").val(c)}),b("#newsletter-signup-wide, #newsletter-signup-tall").submit(function(e){var f,g=b(this).find('input[name="widgetLocation"]').val();f=function(){b.cookie("newsletter-footer","off",{path:"/",expires:365}),c.is(":visible")?(c.find(".newsletter-step1").hide(),c.find(".newsletter-step2").show()):(d.find(".newsletter-step1").hide(),d.find(".newsletter-step2").show())},a.formHelper.processForm(b(this).attr("action"),b(this),f,g),e.preventDefault()}),b("#footer-newsletter-step2-form .checkbox-square, #footer-newsletter-wide-step2-form .checkbox-square").click(function(a){var c=b(this).find("span"),d=b(this).attr("data-id");c.toggleClass("checked"),c.hasClass("checked")?(c.text("x"),b("."+d+"-footer-hidden").val(1)):(c.text(""),b("."+d+"-footer-hidden").val(0)),a.preventDefault()}),b("#footer-newsletter-step2-form, #footer-newsletter-wide-step2-form").submit(function(e){var f,g=b(this).find('input[name="widgetLocation"]').val();e.preventDefault(),f=function(a){c.is(":visible")?(c.find(".newsletter-step2").hide(),c.find(".newsletter-step3").show()):(d.find(".newsletter-step2").hide(),d.find(".newsletter-step3").show()),setTimeout(function(){c.fadeOut(),d.fadeOut()},1500)},a.formHelper.processForm(b(this).attr("action"),b(this),f,g)})},c},b(function(){b("#footer-newsletter-tall").length!==0&&(c=new a.Newsletter,c.init())})}(window.app.www,jQuery),function(a,b){"use strict",a.Scroll=function(){function n(){var a=l?"HOMEPAGE":"SLIDESHOW";k||(window.googletag.rotate(a),k=!0,j=setTimeout(function(){k=!1},500))}function o(a){var b;l||(b=d+a,window._gaq.push(["_trackPageview",b]),window._qevents.push({qacct:"p-659UZw3_sg3Sg",event:"refresh"}),window.COMSCORE.beacon({c1:"2",c2:"13554700"}),window.optimizely=window.optimizely||[],window.optimizely.push(["trackEvent","slidePageview"]),c.enabled&&!m&&c.replaceState(null,window.document.title,b))}function p(a){var c=a.split("/"),d=c[c.length-1].split("?")[0].split("#")[0].replace("slide","");d===parseInt(d,10).toString()&&b(window).scrollTop(b("#slide"+d).offset().top)}function q(){var a=l?b(".list-item"):b(".slide, .transitional"),c=b(window).scrollTop()-i,d=c+b(window).height();a.each(function(a){var e,f="slide"+(a+1);e=b(this).offset();if(e.top>d)return!1;if(e.top>c&&e.top<d)return f!==h&&(h=f,n(),!l&&b(this).hasClass("slide")&&o(b(this).attr("id"))),!1})}var a=this,c=window.History,d,e=b(".slides"),f,g=window.location.href,h="slide1",i=200,j,k=!1,l=b(".homepage").length>0,m=b(".gallery-detail").length>0;return this.init=function(){l||(d=b('link[rel="canonical"]').prop("href"),d.slice(-1)!=="/"&&(d=d+"/"),e.length>0&&(f=e.prop("id"),g.indexOf(f+"/slide")>-1&&(p(g),b("body").imagesLoaded(function(){p(g)})))),b(window).on("scroll",q),b(window).on("touchstart",q)},a},b(function(){var c;if(b(".slideshow-detail .slide").length>0||b(".homepage").length>0)c=new a.Scroll,c.init()})}(window.app.www,jQuery),function(a,b){"use strict";var c=function(){return Math.floor(Math.random()*10)<5?0:1};a.takeovers={rows:[{name:"SyncAd",value:"TK_ADV1"},{name:"SyncAd",value:"TK_ADV2"}],index:c()},a.takeoverTargeting=function(){var b;a.takeovers.rows.length>0?(a.takeovers.index+=1,a.takeovers.index>=a.takeovers.rows.length&&(a.takeovers.index=0),b=a.takeovers.rows[a.takeovers.index],a.target(b.name,b.value)):a.target("SyncAd","")},a.rotate=function(b){var c=null;a.closeExpandableAd(),a.closePushdownAd(),a.gptsections[b]&&(c=a.gptsections[b]()),a.takeoverTargeting(),a.pubads().refresh(c)},a.target=function(b,c){a.cmd.push(function(){a.pubads().setTargeting(b,c)})},a.debugData=function(){var b=a.debug_log.getAllEvents(),c=0,d="<ul>";for(c=0;c<b.length;c+=1)d+="<li>"+b[c].Ea+"</li>\n";return d+="</ul>",d+='<a href="#" onClick="googletag.showDebug(); return false;">Refresh</a>',d},a.showDebug=function(){window.jQuery("#dynamicSidebarLeft").html(a.debugData())},a.closeExpandableAd=function(){clearTimeout(a.expandAdTimeout),b("#expandable-slot").slideUp({duration:300,easing:"easeOutCubic",complete:function(){b("#expandable-slot").html("")}})},a.expandableAd=function(c){c.hasOwnProperty("content")&&c.content!==""?(b("#expandable-slot").hide().html(c.content),a.expandAdTimeout=0,b("#expandable-slot").slideDown({duration:300,easing:"easeOutCubic"}),b("#expandable-slot .close-button").on("click",a.closeExpandableAd)):b.ajax({type:"GET",url:"/ads/expandable/index.php",data:c,success:function(a){b("#expandable-slot").hide().html(a)}})},a.closePushdownAd=function(){b("#pushdown-slot").slideUp({duration:300,easing:"easeOutCubic",complete:function(){b("#pushdown-slot").html("")}})},a.pushdownAd=function(c){c.hasOwnProperty("content")&&c.content!==""?(b("#pushdown-slot").hide().html(c.content),b("#pushdown-slot").slideDown({duration:300,easing:"easeOutCubic"}),b(".close-button").on("click",a.closePushdownAd)):b.ajax({type:"GET",url:"/ads/expandable/index.php",data:c,success:function(a){b("#pushdown-slot").hide().html(a)}})},a.modalAd=function(a){var c,d;if(a.hasOwnProperty("content")&&a.content!==""){b.colorbox({transition:"fade",html:a.content,width:a.width,height:a.height,escKey:!1,fixed:!0,open:!0});if(a.scripts&&a.scripts.length>0)for(c=0;c<a.scripts.length;c++)d=document.createElement("script"),d.type="text/javascript",a.scripts[c].src?d.src=a.scripts[c].src:d.innerHTML=a.scripts[c].content,document.getElementById("cboxContent").appendChild(d)}},a.welcomeAd=function(a){a.target=a.target||"_blank",a.width!==undefined&&a.width!==0?b.colorbox({transition:"fade",html:'<a href="'+a.url+'" target="'+a.target+'"><img src="'+a.image+'"></a>',width:a.width,height:a.height,escKey:!1,fixed:!0,open:!0}):b.colorbox({transition:"fade",html:'<a href="'+a.url+'" target="'+a.target+'"><img src="'+a.image+'"></a>',escKey:!1,fixed:!0,open:!0})},a.takeoverTargeting()}(googletag,jQuery),function(a,b){"use strict";var c;a.FooterGrid=function(){var a=this;return this.init=function(){var c=window.location.pathname.replace("/","");b.ajax({type:"GET",url:"/footer-grid?period=3&publish=3",data:{slug:c},datatype:"html",timeout:"20000",success:a.createFooterGrid,error:function(a){console.log(a.status+": "+a.statusText)}})},this.createFooterGrid=function(a){b("#footer-grid").html(a)},a},b("#footer-grid").length!==0&&(c=new a.FooterGrid,c.init())}(window.app.www,jQuery),function(a,b){"use strict",b.fn.productCarousel=function(){return this.each(function(){var a=b(this);a.find('.carousel-view:not(".endlessnext")').length>0&&a.endlessnext({duration:300,arrowContainerClass:".carousel-controls",transition:"slide"})})},b(function(){b(".gallery-detail").length>0?b(".gallery-detail").on("click","button.shop-btn",function(){var a=b(this).next(),c;c=a.find(".carousel-view"),c.length>0&&c.hasClass("endlessnext")!==!0?(a.css("visibility","hidden").removeClass("hide"),a.endlessnext({duration:300,arrowContainerClass:".carousel-controls",transition:"slide"}),a.css("visibility","visible")):a.hasClass("hide")!==!0?a.addClass("hide"):(a.css("visibility","hidden").removeClass("hide"),a.css("visibility","visible"),b(window).resize()),b(this).find(".products-toggle").toggleClass("plus-rotate")}):b(".carousel-view").length>0&&b(".related-products .carousel-view").closest(".products-wrapper").productCarousel()})}(window.app.www,jQuery),function(a,b){"use strict",a.GaParser=function(){var a=this;this.counter=0,this.execute=function(){a.parse()&&a.populateInputs()},this.parse=function(){var b,c;return b=a.getCookie("__utmz"),!b||b.length<1?(a.counter+=1,a.counter<4&&setTimeout(a.execute,1e3),!1):(c=a.splitLimit(b,".",4),a.domain_hash=c[0],a.timestamp=c[1],a.session_number=c[2],a.campaign_number=c[3],a.campaign_data=c[4],a.campaign_source=a.getQueryVariable(a.campaign_data,"utmcsr","|"),a.campaign_name=a.getQueryVariable(a.campaign_data,"utmccn","|"),a.campaign_medium=a.getQueryVariable(a.campaign_data,"utmcmd","|"),a.campaign_term=a.getQueryVariable(a.campaign_data,"utmctr","|"),a.campaign_content=a.getQueryVariable(a.campaign_data,"utmcct","|"),!0)},this.populateInputs=function(){b("input[name=gaName]").val(a.campaign_name),b("input[name=gaSource]").val(a.campaign_source),b("input[name=gaContent]").val(a.campaign_content),b("input[name=gaMedium]").val(a.campaign_medium),b("input[name=gaTerm]").val(a.campaign_term)},this.getCookie=function(a){var b,c,d,e,f=document.cookie.split(";");for(b=0;b<f.length;b+=1){e=f[b],c=e.indexOf("=");if(c>=0){d=e.substring(0,c).replace(" ","");if(d===a)return e.substring(c+1,e.length)}}},this.splitLimit=function(a,b,c){var d,e;return d=a.split(b,c),e=d.join(b),a.length>e.length&&d.push(a.substring(e.length+1,a.length)),d},this.getQueryVariable=function(a,b,c){var d,e,f;c=typeof c=="undefined"?"&":c,f=a.split(c);for(d=0;d<f.length;d+=1){e=f[d].split("=");if(decodeURIComponent(e[0])===b)return decodeURIComponent(e[1])}return}},b(function(){var b=new a.GaParser;b.execute()})}(window.app.www,jQuery),function(a,b){"use strict";var c;a.HomeCarousel=function(){var c=this,d,e,f=0;return this.init=function(){b("#home-carousel > ul").fadeOut(0),a.AjaxHandler("/parsely-popular",c.createSlideList,{errorHandler:this.errorHandler,timeout:2e4,data:{type:"posts",period:3,publish:3,limit:6}})},this.createSlideList=function(a){b.each(a,function(a,c){var d="";c.contentType==="advertorial"&&(c.publishDate="Sponsored",d='<span class="sponsored">sponsored</span>'),c.image=c.image.replace(".original.",".original.500x0."),b("#home-carousel > ul").append('<li class="list-item social-count" data-url="'+c.url+'">'+'  <div class="list-image" style="display:block; width:50%;">'+'    <a href="'+c.url+'" title="'+c.title+'">'+'      <img width="100%" src="'+c.image+'" alt="'+c.title+'" />'+"    </a>"+"  </div>"+'  <div class="list-content">'+'    <div class="post-meta">'+'      <div class="pub-date">'+c.publishDate+"</div>"+"    </div><!--.post-meta-->"+'    <h2><a href="'+c.url+'" title="'+c.title+'">'+c.title+"</a></h2>"+'    <h3><a href="'+c.url+'" title="'+c.text+'">'+c.text+"</a></h3>"+'    <div class="read-more">'+'      <a href="'+c.url+'" title="'+c.cta+'">'+c.cta+'<div class="caret right"></div></a>'+"    </div>"+d+"  </div><!--/post-content-->"+"</li>")}),c.initSlideshow(),b("#home-carousel > ul").imagesLoaded(function(){b("#home-carousel #home-carousel-placeholder > .placeholder .loader").fadeOut("fast"),b("#home-carousel > ul").fadeIn("fast")})},this.initSlideshow=function(){d=b("#home-carousel").slydeshow({duration:600,arrowContainer:b(".control-container"),clickCallback:function(a){window._gaq.push(["_trackPageview",window.location.href]),window._qevents.push({qacct:"p-659UZw3_sg3Sg",event:"refresh"}),window.COMSCORE.beacon({c1:"2",c2:"13554700"}),clearTimeout(e),e=setTimeout(function(){window.googletag.rotate("HOMEPAGE")},500)}}),d.playInterval=setInterval(function(){d.fn.next()},6500),b("#home-carousel").on("mousedown",function(){clearInterval(d.playInterval),d.playInterval=undefined,b("#home-carousel").off("mousedown")})},this.errorHandler=function(a){console.log(a.status+": "+a.statusText),f+=1,f<3&&c.init()},c},b("#home-carousel").length!==0&&(c=new a.HomeCarousel,c.init())}(window.app.www,jQuery),function(a,b){"use strict",a.PinterestGallery=function(c,d){var e=this,f,g,h,i=b(d),j=b(".loader").clone();return this.init=function(){a.AjaxHandler(c,f,{errorHandler:h}),j.appendTo(i).show()},f=function(a){var b,c=a.length,d,e,f=i.find("ul"),h=f.eq(0),k=f.eq(1),l=f.eq(2);for(b=0;b<c;b++)d='<li><a href="'+a[b].href+'" target="_blank" title="'+a[b].description+'">',d+='<img src="'+a[b].image+'"></a></li>',e=g([h.outerHeight(!0),k.outerHeight(!0),l.outerHeight(!0)]),f.eq(e).append(d);j.remove()},g=function(a){var b,c=a.length,d=0;for(b=1;b<c;b++)a[b]<a[d]&&(d=b);return d},h=function(a){j.remove(),b(d).hide()},e},b(function(){var c;b("#pin-gallery").length>0&&(c=new a.PinterestGallery("/get-feeds?feedurl=http%3A%2F%2Fwww.pinterest.com%2Fwhowhatwear%2Ffeed.rss&feedcount=24","#pin-gallery"),c.init())})}(window.app.www,jQuery),function(a,b){"use strict",b(function(){var c,d="/content-exchange-feed?mode=json&feedurl=http%3A%2F%2Fwww.domainehome.com%2Fcontent-exchange%2F%3Fjson%3Dtrue&maxfeed=1",e="/content-exchange?site=beauty&maxfeed=1&maxtitle=75",f=b("#nav-search-input"),g,h;b("#sidebar-today").length>0&&(c=new a.Today(b("#sidebar-today"),2),c.getFeed(d),c.getFeed(e)),b("#nav-search-icon").click(function(){return b("#nav-search-contain").css("display","inline-block"),f.hasClass("active")?b.trim(f.val())?b("#nav-search-contain form").submit():(f.toggleClass("active"),b("#nav-search-contain").css("display","none")):f.toggleClass("active").focus(),!1}),f.keypress(function(a){if(a.which===13)return b.trim(f.val())&&b("#nav-search-contain form").submit(),!1}),b("#nl-desktop-hamburger").submit(function(c){var d=function(){b("#menu-newsletter-signup").html("<span>Thank you for subscribing</span>")};a.formHelper.processForm(b(this).attr("action"),b(this),d,"desktop_hamburger_nav"),c.preventDefault()}),b("#aas-form").submit(function(c){var d;c.preventDefault(),d=function(a){b("#aas-form").html('<span class="response">Thank you your question has been submitted to our stylists!</span>')},a.formHelper.processForm(b(this).attr("action"),b(this),d,"aas_form")}),b("#left-column").on("click",".social-popup > a",function(a){var c="status=yes,resizable=yes,scrollbars=yes,personalbar=yes,directories=yes,location=yes,toolbar=no,menubar=no,width=632,height=270,left=0,top=0";a.preventDefault(),window.open(b(this).prop("href"),"social"+(new Date).getTime(),c)})})}(window.app.www,jQuery),function(a,b){"use strict",b(function(){var c,d,e;b("#feed-bloggers").length>0&&(d=[{name:"Le Fashion",classname:"le-fashion",logo:"/img/desktop/bloggers/le_fashion.png",site:"http://lefashionimage.blogspot.com",feedurl:"http://lefashionimage.blogspot.com/feeds/posts/default",feedcount:2,maxtitle:100},{name:"Because I'm Addicted",classname:"because-im-addicted",logo:"/img/desktop/bloggers/because_i_am_addicted.png",site:"http://becauseimaddicted.net",feedurl:"http://becauseimaddicted.net/feed",feedcount:2,maxtitle:100},{name:"Atlantic Pacific",classname:"le-fashion",logo:"/img/desktop/bloggers/atlantic_pacific.png",site:"http://www.atlantic-pacific.blogspot.com",feedurl:"http://atlantic-pacific.blogspot.com/feeds/posts/default",feedcount:2,maxtitle:100},{name:"Natalie Off Duty",classname:"natalie-off-duty",logo:"/img/desktop/bloggers/natalie_off_duty.png",site:"http://www.natalieoffduty.com/",feedurl:"http://www.natalieoffduty.com/feeds/posts/default",feedcount:2,maxtitle:100},{name:"Peace Love Shea",classname:"peace-love-shea",logo:"/img/desktop/bloggers/peace_love_shea.png",site:"http://peaceloveshea.com",feedurl:"http://peaceloveshea.com/feed/",feedcount:2,maxtitle:100},{name:"Song of Style",classname:"song-of-style",logo:"/img/desktop/bloggers/song_of_style.png",site:"http://songofstyle.com",feedurl:"http://www.songofstyle.com/feed",feedcount:2,maxtitle:100},{name:"The Glamourai",classname:"glamourai",logo:"/img/desktop/bloggers/glamourai.png",site:"http://www.theglamourai.com",feedurl:"http://www.theglamourai.com/feed",feedcount:2,maxtitle:100}],e='<li class="{{classname}}"><h4><a target="_blank" href="{{site}}"><img src="{{logo}}" alt="{{name}}"></a></h4><a target="_blank" class="blogger-img" title="{{title}}" href="{{href}}"><img src="{{image}}" alt="{{title}}"></a><h5><a target="_blank" title="{{title}}" href="{{href}}">{{title}}</a></h5><div class="read-more"><a href="{{href}}" title="">See More<div class="caret right"></div></a></div></li>',c=new a.BloggerFeed(d,b("#feed-bloggers"),e,14),c.init())})}(window.app.www,jQuery)