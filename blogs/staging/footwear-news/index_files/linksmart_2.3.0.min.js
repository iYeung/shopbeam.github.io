var LinkSmart=function(){String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});Array.prototype.indexOf||(Array.prototype.indexOf=function(b,a){for(var d=a||0,c=this.length;d<c;d++)if(this[d]===b)return d;return-1});var b={class2type:{},type:function(v){return null==v?String(v):"object"===typeof v||"function"===typeof v?b.class2type[Object.prototype.toString.call(v)]||"object":typeof v},isWindow:function(b){return null!=b&&b===b.window},isArraylike:function(v){var a=
v.length,d=b.type(v);return b.isWindow(v)?!1:1===v.nodeType&&a?!0:"array"===d||"function"!==d&&(0===a||"number"===typeof a&&0<a&&a-1 in v)},each:function(v,a){try{var d,c=0;if(void 0!==v&&null!=v)if(b.isArraylike(v))for(;c<v.length&&(d=a.call(v[c],c,v[c]),!1!==d);c++);else for(c in v)if(d=a.call(v[c],c,v[c]),!1===d)break}catch(f){throw f;}},filter:function(v,a){if(void 0!==Array.prototype.filter)return v.filter(a);var d=[];b.is.empty(v)||b.each(v,function(b,f){a(f,b,v)&&d.push(f)});return d},compareFilter:function(v,
a){return b.is.empty(v)?null:b.filter(v,function(d,c,f){var p=!0;b.each(f,function(b,c){if(d!=c&&!a(d,c))return p=!1});return p})},prefetchLogos:function(){(new Image).src=s.lsIconSmPng;(new Image).src=s.lsIconSmSvg},isIE7:function(){return-1!=navigator.appVersion.indexOf("MSIE 7.")},isIE8:function(){return-1!=navigator.appVersion.indexOf("MSIE 8.")},_keywordEscapeRegEx:/[\-\[\]{}()*+?.\\\^$#]/g,_keywordPhraseMultiSpace:/[ ]/g,_keywordPuncuationWithPossibeSpaces:/[,|;:]/g,createKeywordRegex:function(v){v=
v.replace(b._keywordEscapeRegEx,"\\$\x26");v=v.replace(b._keywordPhraseMultiSpace,"[\\s\\u00a0]+");v=v.replace(b._keywordPuncuationWithPossibeSpaces,"[\\s\\u00a0]*$\x26");return RegExp("(^|[\\s\\u00a0\\(\\[\\{\x3c\"`'])("+v+")(?:[\\s\\u00a0\\.,?!:;\\)\\]\\}\x3e\"`]|'(?!s|re|ve|d|m|t)|$)","gim")},decodeQueryString:function(v){v=v.substr(1);if(!v)return{};v=v.split("\x26");var a={};b.each(v,function(b,c){c=c.split("\x3d");a[decodeURIComponent(c[0])]=decodeURIComponent(c[1])});return a},genUUIDv4:function a(b){return b?
(b^16*Math.random()>>b/4).toString(16):([1E7]+-1E3+-4E3+-8E3+-1E11).replace(/[018]/g,a)},obj:{clone:function(a){null!==a&&void 0!==a||die("obj is undefined!");var b=function(){};b.prototype=a;b=new b;b._original=a;return b},copy:function(a){null!==a&&void 0!==a||die("obj is undefined!");var b={},c;for(c in a)b[c]=a[c];return b},extend:function(){for(var a=Array.prototype.slice.call(arguments),b=a.shift(),c,f,p=0;p<a.length;p++)for(f in c=a[p],c)b[f]=c[f];return b}},is:{blank:function(a){return""===
a||null===a||void 0===a},present:function(a){return!b.is.blank(a)},empty:function(a){return void 0!==a&&null!=a&&0<a.length?!1:!0},within:function(a,b){return void 0!==a&&null!=a&&0<a.length?0<=a.indexOf(b):!1}},parseDomain:function(a){var b=document.createElement("a");b.href=a;return b.hostname},defaultRT:{blank:function(a,d){return b.is.blank(a)?d:a}},elem:{autoBlacklistedElements:["script","iframe","a","noscript","img"],blockTypeElements:"p li div h1 h2 h3 h4 h5 h6 section nav article aside header footer main address dt dd th td ol ul dl".split(" "),
parent:function(a){return null!=a?a.parentNode||a.parentElement:null},children:function(a){return null!=a?a.childNodes:null},getParentBlockElement:function(a){if(null!=a){if(b.elem.is.blockType(a))return a;a=b.elem.parent(a);return b.elem.getParentBlockElement(a)}return null},addEventListener:function(a,b,c){a.addEventListener?a.addEventListener(b,c):a.attachEvent?a.attachEvent("on"+b,c):element["on"+type]=handler},removeEventListener:function(a,b,c){a.removeEventListener?a.removeEventListener(b,
c):a.detachEvent?a.detachEvent("on"+b,c):element["on"+type]=null},is:{blockType:function(a){a=a.nodeName.toLowerCase();return b.is.within(b.elem.blockTypeElements,a)},textNode:function(a){return null!=a?a.nodeType==Node.TEXT_NODE:!1},blacklisted:function(a,d,c){var f=a.nodeName.toLowerCase();return b.is.within(b.elem.autoBlacklistedElements,f)&&!0!==c||b.is.within(d.getBlacklistElements(),a)||b.elem.is.parents(a,d.getBlacklistElements())},parent:function(a,d){return a.parentNode?a.parentNode==d?!0:
b.elem.is.parent(a.parentNode,d):!1},parents:function(a,d){var c=!1;b.is.empty(d)||b.each(d,function(d,p){if(b.elem.is.parent(a,p))return c=!0,!1});return c}}},event:{preventDefault:function(a){a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)}},script:{load:function(a,b){var c=document.createElement("script"),f;c.onload=c.onerror=c.onreadystatechange=function(){c.readyState&&!/^c|loade/.test(c.readyState)||f||(c.onload=c.onreadystatechange=null,f=!0,b())};c.async=!0;c.src=a;K.insertBefore(c,
K.firstChild)}},evalXPathManyMatches:function(a,d){if(!b.is.blank(a)){for(var c=document.evaluate(a,d,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE,null),f=[],p;p=c.iterateNext();)f.push(p);if(0<f.length)return f}return null},evalXPath:function(a,d){if(!b.is.blank(a)){var c=document.evaluate(a,d,null,9,null);if(void 0!==c.singleNodeValue&&null!=c.singleNodeValue)return c.singleNodeValue}return null},evalXPaths:function(a){var d=[];if(!b.is.empty(a)){var c=[];b.each(a,function(a,d){b.is.blank(d)||c.push(d)});
if(!b.is.empty(c))try{var f=document.evaluate(c.join("|"),document,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null),p=f.snapshotLength;for(a=0;a<p;a++)d.push(f.snapshotItem(a))}catch(h){}}return d},JSONify:function(a){var d=[];b.each(a,function(a,b){d.push(b.getJSONObj())});return d}};b.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,d){b.class2type["[object "+d+"]"]=d.toLowerCase()});(function(a){var d=function(b){f=!1;d.isReady=!1;"function"===typeof b&&
(p=b);b=!1;if(!f)if(f=!0,"loading"!==c.readyState&&r(),c.addEventListener)c.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1);else if(c.attachEvent){c.attachEvent("onreadystatechange",h);a.attachEvent("onload",h);try{b=null==a.frameElement}catch(e){}c.documentElement.doScroll&&b&&s()}},c=a.document,f=!1,p=function(){},h=function(){c.addEventListener?c.removeEventListener("DOMContentLoaded",h,!1):c.detachEvent("onreadystatechange",h);r()},r=function(){if(!d.isReady){if(!c.body)return setTimeout(r,
1);d.isReady=!0;p()}},s=function(){if(!d.isReady){try{c.documentElement.doScroll("left")}catch(a){setTimeout(s,1);return}r()}};d.isReady=!1;b.$=d})(window);var t=function(a,b){var c=1E5*Math.random();return{getAddress:function(){return"https:"==document.location.protocol?b.replace("#RND#",c):a.replace("#RND#",c)}}},L=function(a){var d="",c="",f="",p="existing",h=!1,r="",s="",x=0,e=0,z=null,w="",B="",y=null;return{getKeywordSequenceId:function(){return r},setKeywordSequenceId:function(a){r=a},getImpressionId:function(){return s},
setImpressionId:function(a){s=a},getKeyword:function(){return a},setDestination:function(a){d=a},getDestination:function(){return d},setPhrase:function(a){c=a},getPhrase:function(){return c},setWhitelistID:function(a){f=a},setType:function(a){p=a},getType:function(){return p},isInjected:function(){return 0<x},incrInjected:function(){x++},getInjected:function(){return x},setInternal:function(a){h=a},isInternal:function(){return h},getJSONObj:function(){return{name:a,destination_uri:d,whitelist_id:f,
injected:0<x,injected_count:x,phrase:c,meta:w}},getRegEx:function(){null==y&&(y=b.createKeywordRegex(a));return y},getTracker:function(){return B},setTracker:function(a){B=a},setMeta:function(a){w=a},getScore:function(){return e},setScore:function(a){e=a},getWidgetImage:function(){return z},setWidgetImage:function(a){z=a}}},D=function(a,b){var c=null,f=null;return{getXPath:function(){return a},getBlacklist:function(){return b},setContentElement:function(a){c=a},setBlacklistElements:function(a){f=
a},getContentElement:function(){return c},getBlacklistElements:function(){return f}}};"object"!==typeof LS_JSON&&(LS_JSON={});(function(){function a(a){return 10>a?"0"+a:a}function b(a){p.lastIndex=0;return p.test(a)?'"'+a.replace(p,function(a){var b=s[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function c(a,f){var w,B,y,I,J=h,G,u=f[a];u&&"object"===typeof u&&"function"===typeof u.toLSJSON&&(u=u.toLSJSON(a));"function"===typeof x&&(u=x.call(f,
a,u));switch(typeof u){case "string":return b(u);case "number":return isFinite(u)?String(u):"null";case "boolean":case "null":return String(u);case "object":if(!u)return"null";h+=r;G=[];if("[object Array]"===Object.prototype.toString.apply(u)){I=u.length;for(w=0;w<I;w+=1)G[w]=c(w,u)||"null";y=0===G.length?"[]":h?"[\n"+h+G.join(",\n"+h)+"\n"+J+"]":"["+G.join(",")+"]";h=J;return y}if(x&&"object"===typeof x)for(I=x.length,w=0;w<I;w+=1)"string"===typeof x[w]&&(B=x[w],(y=c(B,u))&&G.push(b(B)+(h?": ":":")+
y));else for(B in u)Object.prototype.hasOwnProperty.call(u,B)&&(y=c(B,u))&&G.push(b(B)+(h?": ":":")+y);y=0===G.length?"{}":h?"{\n"+h+G.join(",\n"+h)+"\n"+J+"}":"{"+G.join(",")+"}";h=J;return y}}"function"!==typeof Date.prototype.toLSJSON&&(Date.prototype.toLSJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},String.prototype.toLSJSON=Number.prototype.toLSJSON=
Boolean.prototype.toLSJSON=function(){return this.valueOf()});var f=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,p=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,h,r,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},x;"function"!==typeof LS_JSON.stringify&&(LS_JSON.stringify=function(a,b,w){var d;r=h="";if("number"===typeof w)for(d=
0;d<w;d+=1)r+=" ";else"string"===typeof w&&(r=w);if((x=b)&&"function"!==typeof b&&("object"!==typeof b||"number"!==typeof b.length))throw Error("LS_JSON.stringify");return c("",{"":a})});"function"!==typeof LS_JSON.parse&&(LS_JSON.parse=function(a,b){function c(a,d){var e,f,u=a[d];if(u&&"object"===typeof u)for(e in u)Object.prototype.hasOwnProperty.call(u,e)&&(f=c(u,e),void 0!==f?u[e]=f:delete u[e]);return b.call(a,d,u)}var d;a=String(a);f.lastIndex=0;f.test(a)&&(a=a.replace(f,function(a){return"\\u"+
("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return d=eval("("+a+")"),"function"===typeof b?c({"":d},""):d;throw new SyntaxError("LS_JSON.parse");})})();var s={ms:t("//mp.linksmart.com","//mp.linksmart.com"),mis:t("//mp.linksmart.com","//mp.linksmart.com"),cdn:t("//cdn.linksmart.com","//cdn.linksmart.com"),
thirdPartyPixels:[t("//pixel.quantserve.com/pixel/p-VvcjNjXe1AqjN.gif?r\x3d#RND#","//pixel.quantserve.com/pixel/p-VvcjNjXe1AqjN.gif?r\x3d#RND#")],popupLogoLink:"http://www.linksmart.com/info/about-marketplace-links"};s.lsIconSmPng=s.cdn.getAddress()+"/ls_icon_sm.png";s.lsIconSmSvg=s.cdn.getAddress()+"/ls_icon_sm.svg";var K=document.getElementsByTagName("head")[0];(new Date).getTime();var M=!1,P={},t={},T={},U=function(){return{getUserID:function(){var a=this.get("_lsd0");a.length||(a=b.genUUIDv4(),
this.set("_lsd0",a));return a},set:function(a,b){var c=new Date;c.setFullYear(parseInt(c.getFullYear(),10)+5,0,1);document.cookie=a+"\x3d"+b+"; expires\x3d"+c.toUTCString()+"; path\x3d/"},get:function(a){if(0<document.cookie.length){var b=document.cookie.indexOf(a+"\x3d");if(-1!==b){b=b+a.length+1;a=[];var c=document.cookie.indexOf(";",b);0<c&&a.push(c);c=document.cookie.indexOf("|",b);0<c&&a.push(c);a=a.length?Math.min.apply(null,a):document.cookie.length;return b=document.cookie.substring(b,a)}}return""},
getCurrentViewCount:function(){var a=this.get("_lsvc0");b.is.blank(a)?a={date:new Date,count:0}:(a=a.split("~"),a={date:new Date(parseInt(a[0])),count:isNaN(a[1])?0:parseInt(a[1])});this.isViewCountTimeFrameReached(a)&&(a={date:new Date,count:0});a.count++;this.setCurrentViewCount(a);return a.count},setCurrentViewCount:function(a){a=a.date.getTime()+"~"+a.count;this.set("_lsvc0",a)},isViewCountTimeFrameReached:function(a){return 864E5<(new Date).getTime()-a.date.getTime()}}}(),N=N||function(a,b){var c=
{},f=c.lib={},p=function(){},h=f.Base={extend:function(a){p.prototype=this;var b=new p;a&&b.mixIn(a);b.hasOwnProperty("init")||(b.init=function(){b.$super.init.apply(this,arguments)});b.init.prototype=b;b.$super=this;return b},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},
r=f.WordArray=h.extend({init:function(a,c){a=this.words=a||[];this.sigBytes=c!=b?c:4*a.length},toString:function(a){return(a||x).stringify(this)},concat:function(a){var b=this.words,c=a.words,w=this.sigBytes;a=a.sigBytes;this.clamp();if(w%4)for(var d=0;d<a;d++)b[w+d>>>2]|=(c[d>>>2]>>>24-d%4*8&255)<<24-(w+d)%4*8;else if(65535<c.length)for(d=0;d<a;d+=4)b[w+d>>>2]=c[d>>>2];else b.push.apply(b,c);this.sigBytes+=a;return this},clamp:function(){var b=this.words,c=this.sigBytes;b[c>>>2]&=4294967295<<32-
c%4*8;b.length=a.ceil(c/4)},clone:function(){var a=h.clone.call(this);a.words=this.words.slice(0);return a},random:function(b){for(var c=[],d=0;d<b;d+=4)c.push(4294967296*a.random()|0);return new r.init(c,b)}}),s=c.enc={},x=s.Hex={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],d=0;d<a;d++){var w=b[d>>>2]>>>24-d%4*8&255;c.push((w>>>4).toString(16));c.push((w&15).toString(16))}return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;d<b;d+=2)c[d>>>3]|=parseInt(a.substr(d,2),16)<<
24-d%8*4;return new r.init(c,b/2)}},e=s.Latin1={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],d=0;d<a;d++)c.push(String.fromCharCode(b[d>>>2]>>>24-d%4*8&255));return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;d<b;d++)c[d>>>2]|=(a.charCodeAt(d)&255)<<24-d%4*8;return new r.init(c,b)}},z=s.Utf8={stringify:function(a){try{return decodeURIComponent(escape(e.stringify(a)))}catch(b){throw Error("Malformed UTF-8 data");}},parse:function(a){return e.parse(unescape(encodeURIComponent(a)))}},
w=f.BufferedBlockAlgorithm=h.extend({reset:function(){this._data=new r.init;this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=z.parse(a));this._data.concat(a);this._nDataBytes+=a.sigBytes},_process:function(b){var c=this._data,d=c.words,w=c.sigBytes,e=this.blockSize,f=w/(4*e),f=b?a.ceil(f):a.max((f|0)-this._minBufferSize,0);b=f*e;w=a.min(4*b,w);if(b){for(var B=0;B<b;B+=e)this._doProcessBlock(d,B);B=d.splice(0,b);c.sigBytes-=w}return new r.init(B,w)},clone:function(){var a=h.clone.call(this);
a._data=this._data.clone();return a},_minBufferSize:0});f.Hasher=w.extend({cfg:h.extend(),init:function(a){this.cfg=this.cfg.extend(a);this.reset()},reset:function(){w.reset.call(this);this._doReset()},update:function(a){this._append(a);this._process();return this},finalize:function(a){a&&this._append(a);return this._doFinalize()},blockSize:16,_createHelper:function(a){return function(b,c){return(new a.init(c)).finalize(b)}},_createHmacHelper:function(a){return function(b,c){return(new B.HMAC.init(a,
c)).finalize(b)}}});var B=c.algo={};return c}(Math);(function(a){function b(a,c,d,e,f,h,p){a=a+(c&d|~c&e)+f+p;return(a<<h|a>>>32-h)+c}function c(a,b,c,d,e,f,h){a=a+(b&d|c&~d)+e+h;return(a<<f|a>>>32-f)+b}function f(a,b,c,d,e,f,h){a=a+(b^c^d)+e+h;return(a<<f|a>>>32-f)+b}function p(a,b,c,d,e,f,h){a=a+(c^(b|~d))+e+h;return(a<<f|a>>>32-f)+b}for(var h=N,r=h.lib,s=r.WordArray,x=r.Hasher,r=h.algo,e=[],z=0;64>z;z++)e[z]=4294967296*a.abs(a.sin(z+1))|0;r=r.MD5=x.extend({_doReset:function(){this._hash=new s.init([1732584193,
4023233417,2562383102,271733878])},_doProcessBlock:function(a,h){for(var y=0;16>y;y++){var r=h+y,z=a[r];a[r]=(z<<8|z>>>24)&16711935|(z<<24|z>>>8)&4278255360}var y=this._hash.words,r=a[h+0],z=a[h+1],s=a[h+2],u=a[h+3],x=a[h+4],t=a[h+5],E=a[h+6],O=a[h+7],D=a[h+8],A=a[h+9],H=a[h+10],q=a[h+11],Q=a[h+12],R=a[h+13],C=a[h+14],F=a[h+15],g=y[0],k=y[1],l=y[2],n=y[3],g=b(g,k,l,n,r,7,e[0]),n=b(n,g,k,l,z,12,e[1]),l=b(l,n,g,k,s,17,e[2]),k=b(k,l,n,g,u,22,e[3]),g=b(g,k,l,n,x,7,e[4]),n=b(n,g,k,l,t,12,e[5]),l=b(l,n,
g,k,E,17,e[6]),k=b(k,l,n,g,O,22,e[7]),g=b(g,k,l,n,D,7,e[8]),n=b(n,g,k,l,A,12,e[9]),l=b(l,n,g,k,H,17,e[10]),k=b(k,l,n,g,q,22,e[11]),g=b(g,k,l,n,Q,7,e[12]),n=b(n,g,k,l,R,12,e[13]),l=b(l,n,g,k,C,17,e[14]),k=b(k,l,n,g,F,22,e[15]),g=c(g,k,l,n,z,5,e[16]),n=c(n,g,k,l,E,9,e[17]),l=c(l,n,g,k,q,14,e[18]),k=c(k,l,n,g,r,20,e[19]),g=c(g,k,l,n,t,5,e[20]),n=c(n,g,k,l,H,9,e[21]),l=c(l,n,g,k,F,14,e[22]),k=c(k,l,n,g,x,20,e[23]),g=c(g,k,l,n,A,5,e[24]),n=c(n,g,k,l,C,9,e[25]),l=c(l,n,g,k,u,14,e[26]),k=c(k,l,n,g,D,20,
e[27]),g=c(g,k,l,n,R,5,e[28]),n=c(n,g,k,l,s,9,e[29]),l=c(l,n,g,k,O,14,e[30]),k=c(k,l,n,g,Q,20,e[31]),g=f(g,k,l,n,t,4,e[32]),n=f(n,g,k,l,D,11,e[33]),l=f(l,n,g,k,q,16,e[34]),k=f(k,l,n,g,C,23,e[35]),g=f(g,k,l,n,z,4,e[36]),n=f(n,g,k,l,x,11,e[37]),l=f(l,n,g,k,O,16,e[38]),k=f(k,l,n,g,H,23,e[39]),g=f(g,k,l,n,R,4,e[40]),n=f(n,g,k,l,r,11,e[41]),l=f(l,n,g,k,u,16,e[42]),k=f(k,l,n,g,E,23,e[43]),g=f(g,k,l,n,A,4,e[44]),n=f(n,g,k,l,Q,11,e[45]),l=f(l,n,g,k,F,16,e[46]),k=f(k,l,n,g,s,23,e[47]),g=p(g,k,l,n,r,6,e[48]),
n=p(n,g,k,l,O,10,e[49]),l=p(l,n,g,k,C,15,e[50]),k=p(k,l,n,g,t,21,e[51]),g=p(g,k,l,n,Q,6,e[52]),n=p(n,g,k,l,u,10,e[53]),l=p(l,n,g,k,H,15,e[54]),k=p(k,l,n,g,z,21,e[55]),g=p(g,k,l,n,D,6,e[56]),n=p(n,g,k,l,F,10,e[57]),l=p(l,n,g,k,E,15,e[58]),k=p(k,l,n,g,R,21,e[59]),g=p(g,k,l,n,x,6,e[60]),n=p(n,g,k,l,q,10,e[61]),l=p(l,n,g,k,s,15,e[62]),k=p(k,l,n,g,A,21,e[63]);y[0]=y[0]+g|0;y[1]=y[1]+k|0;y[2]=y[2]+l|0;y[3]=y[3]+n|0},_doFinalize:function(){var b=this._data,c=b.words,d=8*this._nDataBytes,e=8*b.sigBytes;c[e>>>
5]|=128<<24-e%32;var f=a.floor(d/4294967296);c[(e+64>>>9<<4)+15]=(f<<8|f>>>24)&16711935|(f<<24|f>>>8)&4278255360;c[(e+64>>>9<<4)+14]=(d<<8|d>>>24)&16711935|(d<<24|d>>>8)&4278255360;b.sigBytes=4*(c.length+1);this._process();b=this._hash;c=b.words;for(d=0;4>d;d++)e=c[d],c[d]=(e<<8|e>>>24)&16711935|(e<<24|e>>>8)&4278255360;return b},clone:function(){var a=x.clone.call(this);a._hash=this._hash.clone();return a}});h.MD5=x._createHelper(r);h.HmacMD5=x._createHmacHelper(r)})(Math);var V=function(){var a=
null;return{getValue:function(){if(null==a){for(var b="res:"+(window.screen.width+"x"+window.screen.height+"x"+window.screen.pixelDepth),c="tz:"+String((new Date).getTimezoneOffset()),f=[],p=window.navigator.plugins,h=0;h<p.length;h++){var r=p[h];f.push(r.name+r.filename+r.description+r.version)}f.sort();f="plugin:"+f.join("\n");p=[];h=window.navigator.mimeTypes;for(r=0;r<h.length;r++){var s=h[r];p.push(s.description+s.suffixes+s.type)}p.sort();p=p.join("\n");a=String(N.MD5([b,c,f,"mimes:"+p,"agent:"+
String(window.navigator.userAgent),"app_version:"+String(window.navigator.appVersion),"app_name:"+String(window.navigator.appName),"platform:"+String(window.navigator.platform),"cookies:"+String(window.navigator.cookieEnabled),"track:"+String(window.navigator.doNotTrack)].join("/")))}return a}}}(),E=function(){function a(a){var c=[];a.client_timestamp=""+(new Date).getTime();b.each(a,function(a,d){null!==d&&void 0!==d&&("string"!=b.type(d)&&(d=LS_JSON.stringify(d)),c.push([encodeURIComponent(a),encodeURIComponent(d)].join("\x3d")))});
return c.join("\x26")}function d(){var a=s.mis.getAddress()+"/page/iframe#mis_url\x3d"+s.mis.getAddress();h=document.createElement("iframe");h.setAttribute("id",p);h.setAttribute("name",p);h.setAttribute("height","0px");h.setAttribute("width","0px");h.setAttribute("frameborder","0");h.setAttribute("style","display:none");document.body.appendChild(h);b.elem.addEventListener(window,"message",function(a){t||"ls_ready"!=a.data||(t=!0,b.each(x,function(a,b){c(b)}),x=[])});h.src?h.src=a:null!==h.contentWindow&&
null!==h.contentWindow.location?h.contentWindow.location=a:h.setAttribute("src",a)}function c(a){t?h.contentWindow.postMessage(a,location.protocol+s.mis.getAddress()):(x.push(a),d())}function f(a){return function(b){var c=!1;"object"==typeof b&&(c=b);c&&a(c)}}var p="ls_statefull_iframe",h,r=0,t=!1,x=[],e={user:"",site_guid:"",pub_id:"",uri:"",view_count:"",f:""};return{getParams:function(a){return b.obj.extend({},e,a)},jsonpRequest:function(b,c,d){r++;var e="LS_JSONCB_"+r;window[e]=f(d);c=this.getParams(c);
c.jsoncallback=e;b=b+"?"+a(c);e=document.createElement("SCRIPT");e.async=!0;e.src=b;K.appendChild(e)},iframePost:function(b){b=this.getParams(b);c(a(b))},init:function(a,b){e.user=U.getUserID();e.uri=document.location.href;e.view_count=U.getCurrentViewCount();e.f=V.getValue();this.setIDs(b,a)},setIDs:function(a,c){b.is.blank(a)||(e.site_guid=a);b.is.blank(c)||(e.pub_id=c)},buildQueryString:a,addUrlParam:function(a,b,c){b=b.replace("?","");c=c.replace("?","");c=b+"\x3d"+c;var d="?"+c;a=a.split("?");
var e="?"+(2==a.length?a[1]:"");1<e.length&&((b=RegExp("[?\x26]"+b+"[^\x26]*").exec(e))?"\x26"==b[0].charAt(0)?d=e.replace(b,"\x26"+c):"?"==b[0].charAt(0)&&(d=e.replace(b,"?"+c)):d=e+"\x26"+c);return a[0]+d}}}(),W=function(a,d,c){var f=!1,p=0,h=function(a,c){c.isInternal()||(a.setAttribute("rel","nofollow"),a.setAttribute("target","_blank"));b.elem.addEventListener(a,"mousedown",function(b){b=b||window.event;2==b.button||a.getAttribute("data-ls-clicked")||(a.setAttribute("data-ls-clicked","1"),b=
new String(a.href),"marketplace"==c.getType()||"related"==c.getType()?a.href=r(b,c,!0).url:(b=r(b,c,!1),E.jsonpRequest(b.url,b.params,null)))})},r=function(a,b,c){b={impression_id:b.getImpressionId(),keyword_sequence_id:b.getKeywordSequenceId(),type:b.getType(),keyword:b.getJSONObj(),keywords_count:p};return c?(b.destination=a,b.uri="",a=E.getParams(b),{url:s.ms.getAddress()+"/page/click_proxy?"+E.buildQueryString(a),params:b}):{url:s.ms.getAddress()+"/page/click",params:b}},t=function(a){var c="";
b.is.blank(a.getTracker())?a.isInternal()&&(c="lc\x3dint_mb_1001"):c=a.getTracker();if(!b.is.blank(c)){var q=a.getDestination();b.each(c.split("\x26"),function(a,c){if(!b.is.blank(c)){var d=c.split("\x3d");2==d.length&&(q=E.addUrlParam(q,d[0],d[1]))}});return q}return a.getDestination()},x=function(a,c){var q=function(){var b="";return{mouseover:function(q){b=a.style.cssText;try{a.style.cssText+=c.linkHoverAdditionalStyles}catch(d){}},mouseout:function(c){try{a.style.cssText=b}catch(q){}}}};if(b.is.present(c.linkAdditionalStyles))try{a.style.cssText+=
c.linkAdditionalStyles}catch(d){}b.is.present(c.linkHoverAdditionalStyles)&&(q=q(),b.elem.addEventListener(a,"mouseover",q.mouseover),b.elem.addEventListener(a,"mouseout",q.mouseout))},e=function(a,b){b.linkLogoEnabled&&(a.style.cssText+="background-image:  url('"+s.lsIconSmPng+"');",a.style.cssText+="background-image:  none, url('"+s.lsIconSmSvg+"');",a.style.cssText+="background-repeat: no-repeat; background-attachment: left;",a.style.cssText+="padding-left: "+(16).toString()+"px;")},z=function(a,
c,q){var d=function(){var b={proxy:r(c.getDestination(),c,!0).url,keyword:a,phrase:c.getPhrase(),destination:c.getDestination()};return s.popupLogoLink+"?"+E.buildQueryString(b)},f={reset:{text:function(a){a.style.padding="0px";a.style.margin="0px";a.style.fontSize="100%";a.style.fontWeight="normal";return a},img:function(a){a.style.border="0px";a.style.padding="0px";a.style.margin="0px";return a},link:function(a){a.style.textDecoration="none";return a}},borderRadius:function(a,b){var c=!1;void 0!==
a.style.MozBorderRadius&&(a.style.MozBorderRadius=b,c=!0);void 0!==a.style.WebkitBorderRadius&&(a.style.WebkitBorderRadius=b,c=!0);void 0!==a.style.borderRadius&&(a.style.borderRadius=b,c=!0);return c},boxShadow:function(a,b){var c=!1;void 0!==a.style.MozBoxShadow&&(a.style.mozBoxShadow=b,c=!0);void 0!==a.style.WebkitBoxShadow&&(a.style.WebkitBoxShadow=b,c=!0);void 0!==a.style.boxShadow&&(a.style.boxShadow=b,c=!0);a.style.borderCollapse="separate";return c},logoMedium:function(a){a.style.cssText+=
"background-color: #ffffff;";a.style.cssText+="background-repeat: no-repeat;";a.style.cssText+="background-position: left center;";a.style.cssText+="background-image:  url('"+s.lsIconSmPng+"');";a.style.cssText+="background-image:  none, url('"+s.lsIconSmSvg+"');"},flt:function(a,b){a.style.styleFloat=b;a.style.cssFloat=b}},C=function(b){var q=document.createElement("a");q.setAttribute("data-ls-seen","1");b?q.style.textDecoration="none":q.appendChild(document.createTextNode(a));q.href=t(c);"whitelist"==
c.getType()?q.setAttribute("class","mandelbrot_refrag"):"marketplace"==c.getType()&&q.setAttribute("class","linksmart_marketplace");h(q,c);return q},F=function(){var a=document.createElement("span");"whitelist"==c.getType()?a.setAttribute("class","mandelbrot_refrag"):"marketplace"==c.getType()&&a.setAttribute("class","linksmart_marketplace");a.style.position="relative";a.style.display="inline-block";return a}(),g=C(!1);x(g,q);e(g,q);var k=function(a,c,g,k,e,H){var h=function(){var a=document.createElement("a");
a.setAttribute("href",d());a.setAttribute("target","_blank");f.reset.link(a);f.logoMedium(a);a.style.width="16px";a.style.minHeight="16px";a.style.marginBottom="-4px";a.style.border="0px";a.style.textDecoration="none";a.style.display="inline-block";a.style.marginRight="3px";return a};c=function(){var a=C(!0);a.appendChild(document.createTextNode(k));a.style.background="#fff";a.style.fontSize="11px";a.style.color="#808080";a.style.lineHeight="10px";a.style.padding="0px 5px 2px 6px";a.style.fontStyle=
"normal";f.flt(a,"left");a.style.clear="both";f.borderRadius(a,"0 0 3px 3px");f.boxShadow(a,"0px 3px 3px rgba(0, 0, 0, .50)")||(a.style.border="1px solid gray",a.style.borderTop="0px",a.style.marginTop="-1px");return a};var A=function(){var a=document.createElement("span");a.setAttribute("class","ls_ext_ovl");f.reset.text(a);a.style.color="#06a";a.style.display="none";a.style.position="fixed";a.style.cursor="pointer";a.style.whiteSpace="nowrap";f.flt(a,"none");a.style.zIndex="2147483647";return a}();
g=function(){var a=document.createElement("span");a.setAttribute("class","ls_extra");a.style.background="#fff";a.style.padding="1px 6px 1px 6px";a.style.marginTop="-2px";f.flt(a,"left");f.borderRadius(a,"2px 2px 2px 0px");f.boxShadow(a,"1px 1px 7px rgba(0, 0, 0, .90)")||(a.style.border="1px solid gray");return a}();A.appendChild(g);q.hoverLogoEnabled&&(h=h(),g.appendChild(h));h=C(!0);x(h,q);var F=function(a){var b=e.toLowerCase().search(H.toLowerCase());a.appendChild(document.createTextNode(e.substr(0,
b)));var c=document.createElement("b");c.style.fontWeight="bold";c.appendChild(document.createTextNode(H));a.appendChild(c);a.appendChild(document.createTextNode(e.substr(b+H.length,e.length)));return c}(h);g.appendChild(h);q.hoverDomainEnabled&&b.is.present(k)&&(c=c(),A.appendChild(c));var p=function(){var b=0;q.linkLogoEnabled&&(b-=16);var c=a.getBoundingClientRect();A.style.top=c.top+"px";A.style.left=c.left+"px";var d=c.left,g=A.getBoundingClientRect().width+d,b=F.getBoundingClientRect().left-
d+b,k=Math.min(document.documentElement.clientWidth,window.innerWidth||0),g=g-b;k<g&&(b=b+(g-k)+10);0>d-b&&(b=d-10);A.style.left=(c.left-b).toString()+"px"};b.elem.addEventListener(a,"mouseover",function(a){b.elem.addEventListener(window,"scroll",p);A.style.display="block";p()});b.elem.addEventListener(a,"mouseout",function(a){A.style.display="none";b.elem.removeEventListener(window,"scroll",p)});return A}(F,g,!0,b.parseDomain(c.getDestination()),c.getPhrase(),a);F.appendChild(k);F.appendChild(g);
return F},w=function(a,c,q,d){var e=function(a,b,c){a=document.createElement(a);if(b)for(var q in b)b.hasOwnProperty(q)&&("css"===q?0<b[q].length&&(a.style.cssText=b[q].join(";")+";"):"class"===q?a.className=b[q]:a.setAttribute(q,b[q]));if(c)for(b=0;b<c.length;b++)a.appendChild(c[b]);return a};d=function(a){var c=["margin: 0px","padding: 0px","font-size: 100%","font: inherit","vertical-align: baseline"],d=function(a){for(var c=!0,q=0;q<a.length;q++)c=c&&b.is.present(a[q].getWidgetImage());return c}(a),
g=function(a,b){var c=document.createElement("a");c.setAttribute("data-ls-seen","1");c.appendChild(a);c.href=t(b);c.setAttribute("class","linksmart_marketplace");h(c,b);return c},k=function(a,k){var l=function(b,d,k){b=g(e("p",{css:c.concat(["font-family: Helvetica, Arial, sans-serif"]).concat(d)},[document.createTextNode(b)]),a);b.style.cssText=k?q.linkAdditionalStyles:"text-decoration:none;color:#6d6d6d;"+q.textAdditionalStyles;return b},f=[];d&&f.push(g(e("img",{src:a.getWidgetImage(),css:c}),
a));f.push(l(function(a){var b=a;140<a.length&&(b=a.substring(0,140)+"...");return b}(a.getKeyword()),["font-weight: bold","font-size: 16px","line-height: 18px"],!0));q.phraseEnabled&&a.getPhrase()!==a.getKeyword()&&f.push(l(a.getPhrase(),["font-weight: normal","font-size: 10px","line-height: 12px"]));q.domainEnabled&&f.push(l(b.parseDomain(a.getDestination()),["font-weight: normal","font-size: 10px","line-height: 12px"]));l=[];q.vertical&&1==k&&(l=l.concat(["margin-left: 16px"]));q.vertical||(l=
["float:left","width:"+(100/q.numDests-1).toString()+"%","margin-right:1%","overflow: hidden"]);return e("div",{css:l},f)},l=function(a){q.sponsoredListingsText||(q.sponsoredListingsText=1<a.length?"related articles":"related article");1<a.length&&-1<q.sponsoredListingsText.indexOf("$domain")&&(q.sponsoredListingsText="related articles");return q.sponsoredListingsText.replace("$domain",b.parseDomain(a[0].getDestination()))},f=function(a){var d=[];q.logoEnabled&&(d=d.concat(["background-image: url('"+
s.lsIconSmPng+"')","background-image: none, url('"+s.lsIconSmSvg+"')","background-repeat: no-repeat","background-attachment: left","padding-left: "+(16).toString()+"px;"]));logoLinkStyles=c.concat("display:block;float:left;margin-top:5px;margin-right:1%;font-size:12px;line-height:16px;text-decoration: none;color:#6d6d6d;font-weight:bold".split(";")).concat(d).concat(b.is.present(q.textAdditionalStyles)?q.textAdditionalStyles.split(";"):[]);d=null;1==a.length?(d=a[0],d={proxy:r(d.getDestination(),
d,!0).url,keyword:d.getKeyword(),phrase:d.getPhrase(),destination:d.getDestination()},d=s.popupLogoLink+"?"+E.buildQueryString(d),d=e("a",{href:d,target:"_blank",css:logoLinkStyles})):d=e("span",{css:logoLinkStyles});q.sponsoredListingsTextEnabled&&d.appendChild(document.createTextNode(l(a)));return d},n=function(a){for(var b=[],d=0;d<a.length;d++){var q=a[d];b.push(e("li",{css:c.concat(["margin-left: 1em","padding-top: 3px","color: #6d6d6d"])},[q]))}return[e("ul",{css:c.concat(["list-style: square outside none"])},
b)]},A=[];(q.logoEnabled||q.sponsoredListingsTextEnabled)&&A.push(f(a));A.push(e("br",{css:["clear:both"]}));f=function(a){for(var b=[],c=0;c<a.length;c++)b.push(k(a[c],a.length));return b}(a);q.vertical&&!d&&1<a.length&&(f=n(f));A=A.concat(f);A.push(e("hr",{css:["clear:both","visibility:hidden"]}));return e("div",{css:["width: 100%","margin: 5px 0px","clear: both"],"class":"linksmart-relevant-content-container"},A)};var f=function(b,c,d){return c>=a.length||0>c?!1:(c=a[c].getElement())?(d?c.appendChild(b):
c.parentNode.insertBefore(b,c.nextSibling),!0):!1},F=function(a){for(var b=0;b<a.length;b++)a[b].incrInjected()};if(null!==c&&0<c.length){c.sort(function(a,b){return b.getScore()-a.getScore()});for(var g=b.evalXPathManyMatches(q.injectionPath,document),k=0,l=0;l<c.length&&!(0<q.maxInjections&&k>=q.maxInjections);l+=q.numDests){var n=c.slice(l,l+q.numDests);if(0<n.length){var p=d(n);(g?f(p,k,!0):f(p,k*q.distribution+q.distribution-1,!1))&&F(n);k++}}}},B=function(a,c){var d=[];b.each(a.getContentElement().getElementsByTagName("a"),
function(e,f){if(!f.getAttribute("data-ls-seen")&&!b.is.blank(f.href)&&!b.elem.is.blacklisted(f,a,!0)){var C=(f.innerText||f.textContent||"").trim(),F=f.getAttribute("href").toLowerCase();0==F.indexOf("#")||0==F.indexOf("javascript:")||b.is.blank(C)||(C=L(C),C.setDestination(f.href),C.incrInjected(),C.setWhitelistID(null),C.setInternal(!0),C.setType("existing"),C.setKeywordSequenceId(c.keyword_sequence_id),C.setImpressionId(c.impression_id),d.push(C),f.setAttribute("data-ls-seen","1"),h(f,C))}});
return d},y=function(){var a=null,b=[];return{getElement:function(){return a},setElement:function(b){a=b},getTextNodes:function(){return b},addTextNode:function(a){b.push(a)},setTextNodes:function(a){b=a}}},I=function(a,c){var d=c;return{extendMatches:function(a){b.is.empty(a)||(d=d.concat(a))},setMatches:function(a){d=a},addMatch:function(a){d.push(a)},getMatches:function(){return d},getTextNode:function(){return a}}},J=function(a,b,c,d){return{getKeyword:function(){return a},getStartIndex:function(){return b},
getEndIndex:function(){return c},getLinkText:function(){return d}}},G=function(){var a={};return{getFreq:function(b){var c=a[b];if(void 0===c||null==c)c=0,this.setFreq(b,c);return c},setFreq:function(b,c){a[b]=c}}},u={OverlapFavor:{Longest:0,Whitelist:1,Marketplace:2},util:{iterateBlocksToTextNodes:function(a,c,d,e,f,h){b.is.empty(a)||b.each(a,function(a,g){if(null!=c&&!1===c(g))return!1;b.is.empty(g.getTextNodes())||b.each(g.getTextNodes(),function(a,c){if(null!=d&&!1===d(g,c))return!1;b.is.empty(c.getMatches())||
b.each(c.getMatches(),function(a,b){if(null!=e&&!1===e(g,c,b))return!1});if(null!=f&&!1===f(g,c))return!1});if(null!=h&&!1===h(g))return!1})},isKeywordWithinBlocks:function(a,b){var c=!1,d=function(a,b){return!c},e=function(a){return!c};this.iterateBlocksToTextNodes(b,e,d,function(b,d,g){if(a==g.getKeyword().getKeyword())return c=!0,!1},d,e);return c}},matchFiltering:{findTextNodes:function(a,c){var d=[],e=this;if(!b.is.empty(c)){var f=function(h){b.is.empty(h)||b.each(h,function(h,g){if(!b.elem.is.blacklisted(g,
a))if(b.elem.is.textNode(g)){var k=I(g,[]);d.push(k);b.each(c,function(a,c){var d=e._findMatches(g,c);b.is.empty(d)||k.extendMatches(d)})}else f(b.elem.children(g))})};f(b.elem.children(a.getContentElement()))}return d},_findMatches:function(a,b){for(var c=[],d=a.nodeValue,e=b.getRegEx();m=e.exec(d);){m.index==e.lastIndex&&e.lastIndex++;var f=m[2],h=m.index+(m[1]||"").length;c.push(J(b,h,h+f.length-1,f))}return c},_findBlockByElement:function(a,c){var d=null,e=b.elem.getParentBlockElement(c);null!=
e&&(b.each(a,function(a,b){if(b.getElement()==e)return d=b,!1}),null==d&&(d=y(),d.setElement(e),a.push(d)));return d},groupTextNodesByBlock:function(a){if(!b.is.empty(a)){var c=[],d=this;b.each(a,function(a,b){var e=d._findBlockByElement(c,b.getTextNode());null!=e&&e.addTextNode(b)});return c}return null},_findBlockByElementRelated:function(a,c){var d={LI:!0,DD:!0,DT:!0},e={H1:!0,H2:!0,H3:!0,H4:!0,H5:!0,H6:!0},f=function(a){if(null!=a){if(b.elem.is.blockType(a)&&!d.hasOwnProperty(a.tagName))return a;
a=b.elem.parent(a);return f(a)}return null},h=null,p=f(c);null==p||e.hasOwnProperty(p.tagName)||(b.each(a,function(a,b){if(b.getElement()==p)return h=b,!1}),null==h&&(h=y(),h.setElement(p),a.push(h)));return h},groupTextNodesByBlockRelated:function(a){if(!b.is.empty(a)){var c=[],d=this;b.each(a,function(a,b){var e=d._findBlockByElementRelated(c,b.getTextNode());null!=e&&e.addTextNode(b)});return c}return null},filterEmptyTextNodes:function(a){return b.is.empty(a)?null:b.filter(a,function(a,c,d){return!b.is.empty(a.getMatches())})},
filterBlankTextNodes:function(a){if(!b.is.empty(a))return b.filter(a,function(a,b,c){return null===a.getTextNode().nodeValue.match(/^\s*$/)})},filterOverlaps:function(a,c){var d=this;b.is.empty(a)||b.each(a,function(a,e){var f=b.compareFilter(e.getMatches(),function(a,b){return 1==d._compareTextNodeMatch(a,b,c)?!1:!0});e.setMatches(f)});return a},_compareTextNodeMatch:function(a,b,c){if(a.getStartIndex()<=b.getStartIndex()&&a.getEndIndex()>=b.getStartIndex()||b.getStartIndex()<=a.getStartIndex()&&
b.getEndIndex()>=a.getStartIndex()){var d=a.getLinkText().length>=b.getLinkText().length;a=a.getKeyword().getType();b=b.getKeyword().getType();if(a==b)return d?-1:1;if(c==u.OverlapFavor.Whitelist)return"whitelist"==a?-1:1;if(c==u.OverlapFavor.Marketplace)return"marketplace"==a?-1:1}else return-1},applyBlockFreqs:function(a,c){var d=this,e=G(),f;u.util.iterateBlocksToTextNodes(a,function(a){f=[]},function(a,d){var g=b.filter(d.getMatches(),function(a,d,g){d=!0;a=a.getKeyword().getKeyword();b.is.within(f,
a)?d=!1:(f.push(a),g=e.getFreq(a),g>=c?d=!1:g++,e.setFreq(a,g));return d});d.setMatches(g)},null,null,function(a){var b=d.filterEmptyTextNodes(a.getTextNodes());a.setTextNodes(b)})}},pageKeywordFilters:{largestKeyword:function(a,c,d){if(!b.is.empty(a)&&!b.is.empty(c)){c.sort(function(a,b){return a.getKeyword().length>b.getKeyword().length?-1:a.getKeyword().length<b.getKeyword().length?1:0});var e=[];b.each(c,function(b,c){var f=c.getKeyword();if(u.util.isKeywordWithinBlocks(f,a)&&(e.push(f),e.length==
d))return!1});u.util.iterateBlocksToTextNodes(a,null,function(a,c){var d=b.filter(c.getMatches(),function(a,c,d){return b.is.within(e,a.getKeyword().getKeyword())});c.setMatches(d)},null,null,null)}}},injection:{_swapTextNode:function(a,c){if(!b.is.empty(c)){var d=a.getTextNode();if(null!=d){var e=b.elem.parent(d);null!=e&&(b.each(c,function(a,b){if(null!=e)e.insertBefore(b,d);else return!1}),null!=e&&e.removeChild(d))}}},inject:function(a,c){var d=this,f=[],p,r,s=function(a){var c=null;null==a?(c=
p.substring(r),r=p.length):(c=p.substring(r,a),r=a+1);b.is.empty(c)||f.push(document.createTextNode(c))};u.util.iterateBlocksToTextNodes(a,null,function(a,c){p=c.getTextNode().nodeValue;f=[];r=0;b.is.empty(c.getMatches())||c.getMatches().sort(function(a,b){return a.getStartIndex()<b.getStartIndex()?-1:a.getStartIndex()>b.getStartIndex()?1:0})},function(a,b,d){a=d.getKeyword();s(d.getStartIndex());if(c.hoverEnabled&&"marketplace"==a.getType())link=z(d.getLinkText(),a,c);else{var q=d.getLinkText();
b=document.createElement("a");b.setAttribute("data-ls-seen","1");b.appendChild(document.createTextNode(q));b.href=t(a);q=document.createElement("span");q.appendChild(b);"whitelist"==a.getType()?(q.setAttribute("class","mandelbrot_refrag"),b.setAttribute("class","mandelbrot_refrag")):"marketplace"==a.getType()&&(q.setAttribute("class","linksmart_marketplace"),b.setAttribute("class","linksmart_marketplace"),x(b,c),e(b,c));h(b,a);link=q}f.push(link);r=d.getEndIndex()+1;a.incrInjected()},function(a,c){b.is.empty(f)||
(s(null),d._swapTextNode(c,f))},null)}}},K=function(a,c,d,e,f,h,r,g){var k=0,l=0,n=[],s=[],u=[],w=[],t=function(a,b){k++;if(b.isInjected()){l+=b.getInjected();for(var c=0;c<b.getInjected();c++)a.push(b)}};b.each(e,function(a,b){t(n,b)});b.each(f,function(a,b){t(s,b)});b.each(h,function(a,b){t(u,b)});b.each(r,function(a,b){t(w,b)});p=l;c={target_html:c,xpath:d,keywords:b.JSONify(s),marketplace_keywords:b.JSONify(u),marketplace_related:b.JSONify(w),existing_keywords:b.JSONify(n),keywords_count:l,keywords_total:k};
null!=g&&(c.xpath_used=g.getXPath());E.iframePost(b.obj.extend(c,a))},M=function(a){var c=null,d=0;try{b.each(a,function(a,e){var f=b.evalXPath(e.getXPath(),document);null!=f&&(0===d||f.innerHTML.length<d)&&(e.setContentElement(f),d=f.innerHTML.length,c=e)})}catch(e){}return c},N=function(a){var c=[];b.each(a,function(a,d){b.is.blank(d.xpath)||c.push(D(d.xpath,d.blacklisted_xpaths))});return c},S=function(a,c,d){var e=[],f=[];b.each(a,function(a,h){if("existing"!=h.keyword_type&&!b.is.within(f,h.name)){f.push(h.name);
var g=L(h.name);g.setDestination(h.destination_uri);g.setWhitelistID(h.whitelist_id);g.setType(c);g.setInternal(h.internal);g.setKeywordSequenceId(d.keyword_sequence_id);g.setImpressionId(d.impression_id);g.setScore(h.score);h.hasOwnProperty("phrase")&&b.is.present(h.phrase)?g.setPhrase(h.phrase):g.setPhrase(h.name);b.is.blank(h.meta)||g.setMeta(h.meta);b.is.blank(h.tracker)||g.setTracker(h.tracker);e.push(g)}});return e},P=function(a){var c=function(){f=!0;a()};f||null!=document.evaluate?c():b.script.load(s.cdn.getAddress()+
"/xpath.js",c)};return{fetchPageData:function(){var e={referrer:document.referrer,href:location.href,user_vars:E.buildQueryString(a)},f=s.ms.getAddress()+"/page/data";E.jsonpRequest(f,e,function(a){P(function(){E.setIDs(a.site_guid,a.pub_id);var e=!1,f="",h=null,p=null,g=null,k=null,l=null,n={impression_id:b.defaultRT.blank(a.impression_id,""),keyword_sequence_id:b.defaultRT.blank(a.keyword_sequence_id,""),valid:b.defaultRT.blank(a.valid,!0),ab_mode:b.defaultRT.blank(a.ab_mode,0),word_count:b.defaultRT.blank(a.word_count,
0),ab_injected:b.defaultRT.blank(a.ab_injected,0),should_execute:b.defaultRT.blank(a.should_execute,0)},r=b.obj.extend({hoverEnabled:a.on_hover_enabled,hoverLogoEnabled:a.on_hover_logo_enabled&&!b.isIE7()&&!b.isIE8(),hoverDomainEnabled:a.on_hover_domain_enabled,linkLogoEnabled:a.link_logo_enabled&&!b.isIE7()&&!b.isIE8(),linkAdditionalStyles:a.link_additional_styles,linkHoverAdditionalStyles:a.link_hover_additional_styles},d),s=b.obj.extend({enabled:a.widget_enabled||!1,numDests:a.widget_num_destinations||
1,logoEnabled:a.widget_logo_enabled,sponsoredListingsTextEnabled:a.widget_sponsored_listings_text_enabled,sponsoredListingsText:a.widget_sponsored_listings_text,injectionPath:a.widget_injection_path||'//*[contains(concat(" ", normalize-space(@class), " "), " linksmart-relevant-content ")]',vertical:a.widget_vertical,domainEnabled:a.widget_domain_enabled,phraseEnabled:a.widget_phrase_enabled,textAdditionalStyles:a.widget_text_additional_styles,linkAdditionalStyles:a.widget_link_additional_styles,distribution:a.widget_distribution||
2,maxInjections:a.widget_max_injections||10},c);(r.link_logo_enabled||r.on_hover_logo_enabled||s.enabled)&&b.prefetchLogos();var t=null;if(!a.page_blacklisted&&(b.is.empty(a.xpaths)||!a.instrument&&1!=a.should_execute||(t=M(N(a.xpaths)),null!=t&&t.setBlacklistElements(b.evalXPaths(t.getBlacklist()))),null!=t&&a.instrument?(e=!0,f=t.getContentElement().innerHTML,h=t.getXPath()):a.discover&&(f=document.body.parentNode.innerHTML,h=null),null!=t&&1==a.should_execute)){var e=!0,p=B(t,n),g=S(a.keywords,
"whitelist",n),k=S(a.marketplace_keywords,"marketplace",n),l=S(a.marketplace_related,"related",n),x=t,y=l,z=a.keyword_count,A=a.keyword_frequency,D=a.overlap,G=g.concat(k),H=u.matchFiltering.findTextNodes(x,G);if(s.enabled){var I=u.matchFiltering.filterBlankTextNodes(H),I=u.matchFiltering.groupTextNodesByBlockRelated(I);w(I,y,s,x)}H=u.matchFiltering.filterEmptyTextNodes(H);H=u.matchFiltering.filterOverlaps(H,D);s=u.matchFiltering.groupTextNodesByBlock(H);u.matchFiltering.applyBlockFreqs(s,A);u.pageKeywordFilters.largestKeyword(s,
G,z);u.injection.inject(s,r)}e&&K(n,f,h,p,g,k,l,t)})})}}}(P,t,T);blockThirdParty=["285","68","0e6b0b2fa408d259231b9f7639383940a1d66434ced1bcdb6d816181d1f05295"];openInjectedNew=["285"];onhoverLimits=["261"];try{/enableLinkSmartConnect/.test(window.location.href)&&(t.hoverEnabled=!0,t.hoverDomainEnabled=!0),/enableLinkSmartConnectLogo/.test(window.location.href)&&(t.hoverEnabled=!0,t.hoverDomainEnabled=!0,t.hoverLogoEnabled=!0)}catch(Y){}!0==/iphone|ipod|ipad|android|windows phone|blackberry|fennec/.test(navigator.userAgent.toLowerCase())&&
(t.hoverEnabled=!1);var X=function(){var a;try{a="undefined"!==typeof _mb_site_guid&&-1<blockThirdParty.indexOf(_mb_site_guid)||"undefined"!==typeof _ls_pub_id&&-1<blockThirdParty.indexOf(_ls_pub_id)?!1:!0}catch(d){a=!1}a&&b.each(s.thirdPartyPixels,function(a,b){(new Image).src=b.getAddress()})};return{hasFired:function(){return M},paginate:function(a){a={referrer:document.referrer,href:location.href};url=s.ms.getAddress()+"/page/view";E.jsonpRequest(url,a,null)},initWhenReady:function(){var a=this;
b.$(function(){a.init()})},init:function(a,b){M||(M=!0,a=a?a:window._ls_pub_id?window._ls_pub_id:"",b=b?b:window._mb_site_guid?window._mb_site_guid:"",null==window.Node&&(window.Node={TEXT_NODE:3}),X(),E.init(a,b),W.fetchPageData())},enabledMarketplace:function(a){this.postUserVariable("mp_enabled",a?"1":"0")},postUserVariable:function(a,b){a instanceof String&&b instanceof String&&(P[a]=b)},popupOptions:t,widgetOptions:T}}();LinkSmart.initWhenReady();
function LinkSmart_paginate(){"undefined"!=typeof LinkSmart&&(LinkSmart.paginate(document.location),void 0!==typeof _ls_pub_id&&"285"==_ls_pub_id&&Linksmart_hearst(400))}
function LinkSmart_registerPaginationEvent(b,t,L){if(null!=b&&null!=t){t=document.body.getElementsByTagName(t);for(var D=0;D<t.length;D++){var s=document.all?t[D].className:t[D].getAttribute("class");s&&RegExp(b).test(s)&&(t[D].addEventListener?t[D].addEventListener(L,function(b){LinkSmart_paginate()},!0):t[D].attachEvent&&t[D].attachEvent("on"+L,function(b){LinkSmart_paginate()}))}}}
try{void 0!==typeof _mb_site_guid&&"47ccd4d859728f71380a2280162f599d2f091bc0f9eb76b04bdf8d804324fb14"==_mb_site_guid&&(LinkSmart_registerPaginationEvent("wx-next-media","div","click"),LinkSmart_registerPaginationEvent("wx-prev-media","div","click"),LinkSmart_registerPaginationEvent("wx-next-immersive","div","click"),LinkSmart_registerPaginationEvent("wx-prev-immersive","div","click"),LinkSmart_registerPaginationEvent("wx-slide","li","click"))}catch(e$$9){}
try{if(void 0!==typeof _ls_pub_id&&"285"==_ls_pub_id){!1==LinkSmart.hasFired()&&document.readyState&&"complete"==document.readyState&&LinkSmart.init();LinkSmart_registerPaginationEvent("prev","a","click");LinkSmart_registerPaginationEvent("next","a","click");LinkSmart_registerPaginationEvent("fbPrev","a","click");LinkSmart_registerPaginationEvent("fbNext","a","click");LinkSmart_registerPaginationEvent("votebtn","a","click");LinkSmart_registerPaginationEvent("fb_thumbimg","img","click");LinkSmart_registerPaginationEvent("next button",
"img","click");LinkSmart_registerPaginationEvent("prev button","img","click");LinkSmart_registerPaginationEvent("fb_bflair","div","click");/townandcountrymag/.test(window.location.host)&&(LinkSmart_registerPaginationEvent("chvbtn next","div","click"),LinkSmart_registerPaginationEvent("chvbtn prev","div","click"));var Linksmart_hearst=function(b){setTimeout(function(){/townandcountrymag/.test(window.location.host)&&LinkSmart_registerPaginationEvent("fb_bflair","div","mousedown")},b)}}Linksmart_hearst(0)}catch(e$$10){};