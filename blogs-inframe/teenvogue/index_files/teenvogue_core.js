this.Response=function(a7,ap){var aC,a1;function a0(){return a4.clientWidth}function aZ(){return a4.clientHeight}function aY(f){throw"Error using Response."+(f||"")}function az(f){return"string"===typeof f?f.split(i):ao(f)?f:[]}function a(f){return f.replace(an,"$1").replace(aS,function(h,j){return j.toUpperCase()})}function ay(f){return"data-"+(f?f.replace(an,"$1").replace(aG,"$1-$2").toLowerCase():f)}function ax(f){return !f?!1:1===f.nodeType?f:f[0]&&1===f[0].nodeType?f[0]:!1}function am(h,f,m){for(var l=[],k=-1,j=h.length;k++<j;){k in h&&(l[k]=f.call(m,h[k]))}return l}function a3(h,f){var k,j=h.length;for(k=0;k<j;k++){k in h&&f(h[k],k,h)}return h}function al(h,f,l){for(var k=[],j=h.length,f=f||"",l=l||"";j&&j--;){j in h&&(k[j]=f+h[j]+l)}return k}function aX(h,f,m){var l=-1,k=[],j=h.length;if(f){for(m=!!m;l++<j;){m===!f(h[l],l)&&k.push(h[l])}}else{for(;l++<j;){h[l]&&k.push(h[l])}}return k}function aK(h){var f;return !h||"string"===typeof h?h:"true"===h?!0:"false"===h?!1:"undefined"===h?ap:"null"===h?null:aW(f=parseFloat(h))?f:h}function ak(h,f,l){if(h&&f){var k,j=f.length;if(!aW(j)||"function"===typeof f){for(k in j=!!f.hasOwnProperty,f){if((!j||f.hasOwnProperty(k))&&(l||f[k])){h[k]=f[k]}}}else{for(k=0;k<j;k++){if(k in f&&(l||f[k])){h[k]=f[k]}}}}return h}function aw(h,f){return h&&"object"===typeof h&&"number"===typeof h.length?a3(h,f):f(h)}function av(f){return function(h,k){var j=f(),h=j>=(h||0);return !k?h:h&&j<=k}}function aV(h,f){var n=arguments.length,m=ax(this),l={},k=!1,j;if(n){ao(h)&&(k=!0,h=h[0]);if("string"===typeof h){h=ay(h);if(1===n){return l=m.getAttribute(h),k?aK(l):l}if(this===m||2>(j=this.length||1)){m.setAttribute(h,f)}else{for(;j--;){j in this&&aV.apply(this[j],arguments)}}}else{if(h instanceof Object){for(j in h){h.hasOwnProperty(j)&&aV.call(this,j,h[j])}}}return this}if(m.dataset&&DOMStringMap){return m.dataset}a3(m.attributes,function(o){if(o&&(j=(""+o.name).match(an))){l[a(j[1])]=o.value}});return l}function aD(f){this&&"string"===typeof f&&(f=az(f),aw(this,function(h){a3(f,function(j){j&&h.removeAttribute(ay(j))})}));return this}function au(h,f,j){return aV.apply(h,ad.call(arguments,1))}function aj(){return a7.pageXOffset||a4.scrollLeft}function ai(){return a7.pageYOffset||a4.scrollTop}function ah(h,f){var j=h.getBoundingClientRect?h.getBoundingClientRect():{},f="number"===typeof f?f:0;return{top:(j.top||0)-f,left:(j.left||0)-f,bottom:(j.bottom||0)+f,right:(j.right||0)+f}}function af(h,f){var j=ah(ax(h),f);return 0<=j.bottom&&j.top<=ai()+aZ()&&0<=j.right&&j.left<=aj()+a0()}function aT(h){var f=a7.devicePixelRatio;if(!arguments.length){return f||(aT(2)?2:aT(1.5)?1.5:aT(1)?1:0)}if(!aW(h)){return !1}if(f){return f>=h}h="only all and (min--moz-device-pixel-ratio:"+h+")";return !at?!1:at(h).matches||at(h.replace("-moz-","")).matches}function b(h){var f={img:1,input:1,source:3,embed:3,track:3,iframe:5,audio:5,video:5,script:5}[h.tagName.toLowerCase()]||-1;return 4>f?f:"string"===typeof h.getAttribute("src")?5:-5}function aM(h,f,l){h&&f||aY("store");var k,j=h.length,l=!!l;if(j){for(;j--;){if(j in h&&(k=h[j],l||!au(k,f))){au(k,f,0<b(k)?k.getAttribute("src"):a6(k).html()||"")}}}return a5}function ae(h){for(var f=[],j=h.length;j&&j--;){h[j]&&(f[j]="["+ay(h[j].replace(ac,"").replace(".","\\."))+"]")}return f.join()}function ab(h,f){return h&&f&&f.length?am(az(f),aV,h):[]}function g(h,f){var j="resize",j=!f?j:aR(j,f);aQ.on(j,h);return a5}function aE(f){aw(f,function(h){h===Object(h)||aY("create @args");var n=d(e).configure(h),m,l=n.verge,h=n.breakpoints,k=aR("scroll"),j=aR("resize");h.length&&(m=h[0]||h[1]||!1,ar(function(){function p(){n.reset();a3(n.$e,function(t,s){n[s].decideValue().updateDOM()}).trigger(r)}function o(){a3(n.$e,function(t,s){af(n[s].$e,l)&&n[s].updateDOM()})}var r=aC,q=!!n.lazy;a3(n.target().$e,function(t,s){n[s]=d(n).prepareData(t);(!q||af(n[s].$e,l))&&n[s].updateDOM()});n.dynamic&&m<aP&&g(p,j);q&&(aQ.on(k,o),n.$e.one(r,function(){aQ.off(k,o)}))}))});return a5}function aU(h,f){a3(["inX","inY","inViewport"],function(j){f[j]=function(k,l){return h(aX(this,function(m){return m&&!l===a5[j](m,k)}))}})}function c(h,f){c.on||(f=f||a6.fn,h=h||a6,f.dataset=aV,f.deletes=aD,aU(h,f),c.on=1);return a5}var a5,aq=a7.document,a4=aq.documentElement,a6=a7.jQuery||a7.Zepto||a7.ender,ar=a6.domReady||a6,aQ=a6(a7),ad=[].slice,aN=a7.screen,aI=Math.max,aW=a7.isFinite,e,aB,aL={},a2={},aA={all:[]},a8=aN.width,aJ=aN.height,aP=aI(a8,aJ),aH=a8+aJ-aP,aO=function(){return a8},aF=function(){return aJ},ag=/[^a-z0-9_\-\.]/gi,aG=/([a-z])([A-Z])/g,aS=/-(.)/g,an=/^data-(.+)$/,i=/\s+/,ac=/^[\W\s]+|[\W\s]+$|/g,at=a7.matchMedia||a7.msMatchMedia||function(){return{}},ao=Array.isArray||function(f){return f instanceof Array},d=Object.create||function(h){function f(){}f.prototype=h;return new f},aR=function(h,f){f=f||"Response";return h.replace(ac,"")+"."+f.replace(ac,"")};aC=aR("allLoaded");a1=aR("crossover");aN=av(a0);aB=av(aZ);aL.band=av(aO);aL.wave=av(aF);e=function(){function h(k){return"string"===typeof k?k.toLowerCase().replace(ag,""):""}var f=[],j=Math.min;return{e:0,$e:0,mode:0,breakpoints:0,prefix:0,prop:"width",keys:[],dynamic:0,values:[],fn:0,verge:ap,newValue:0,currValue:1,aka:0,lazy:0,i:0,selector:0,valid8:function(l,k,m){l=this.breakpoints;ao(l)?(l=aX(l,aW).sort(function(o,n){return o-n}),l.length||aY("create @breakpoints")):(m={width:[0,320,481,641,961,1025,1281],height:[0,481],ratio:[1,1.5,2]},k=this.prop,l=m[k]||m[k.split("-").pop()]||aY("create @prop"));this.breakpoints=aX(l,function(n){return n<=aP})},reset:function(){var k=this.breakpoints,m=k.length,l=0;for(f=[!0];!l&&m--;){this.memoize(k[m])&&(l=m)}l!==this.i&&(aQ.trigger(a1).trigger(this.prop+a1),this.i=l||0);return this},memoize:function(k){var l=f[k];l!==!!l&&(f[k]=l=!!this.fn(k));return l},configure:function(k){var m,l;ak(this,k,!0);this.verge=aW(this.verge)?this.verge:j(aP,500);this.fn=a2[this.prop]||aY("create @fn");0===this.dynamic&&(this.dynamic="device"!==this.prop.substring(0,6));m=this.prefix?aX(am(az(this.prefix),h)):["min-"+this.prop+"-"];k=1<m.length?m.slice(1):0;this.prefix=m[0];this.valid8();this.keys=al(this.breakpoints,this.prefix);this.aka=ap;if(k){l=[];for(m=k.length;m--;){l.push(al(this.breakpoints,k[m]))}this.aka=l}aA[this.prop]=k=[].concat.apply(this.keys,this.aka||[]);aA.all=aA.all.concat(k);this.selector=ae(k);return this},target:function(){this.$e=a6(this.selector);aM(this.$e,"iResponse");this.keys.push("iResponse");return this},decideValue:function(){for(var l=0,k=this.breakpoints,n=k.length,m=n;!l&&m--;){this.memoize(k[m])&&(l=this.values[m])}this.newValue=l||this.values[n];return this},prepareData:function(k){this.e=k;this.$e=a6(k);this.mode=b(this.e);this.values=ab(this.$e,this.keys);if(this.aka){for(k=this.aka.length;k--;){this.values=ak(this.values,ab(this.$e,this.aka[k]))}}return this.decideValue()},updateDOM:function(){if(this.currValue===this.newValue){return this}this.currValue=this.newValue;0<this.mode?this.e.setAttribute("src",this.newValue):this.$e.html(this.newValue);return this}}}();a2.width=aN;a2.height=aB;a2["device-width"]=aL.band;a2["device-height"]=aL.wave;a2["device-pixel-ratio"]=aT;a5={deviceMin:function(){return aH},deviceMax:function(){return aP},sets:function(f){return a6(ae(aA[f]||aA.all))},chain:c,create:aE,addTest:function(h,f){"string"===typeof h&&"function"===typeof f&&(a2[h]=f);return a5},datatize:ay,camelize:a,render:aK,store:aM,access:ab,target:function(f){return a6(ae(az(f)))},overflowX:function(){var f=a4,f=aI(f.offsetWidth,f.scrollWidth,aq.body.scrollWidth)-a0();return 0<f?f:0},overflowY:function(){var f=a4,f=aI(f.offsetHeight,f.scrollHeight,aq.body.scrollHeight)-aZ();return 0<f?f:0},object:d,crossover:function(h,f){aQ.on(f?f+a1:a1,h);return a5},action:function(f){aw(f,function(h){ar(h);g(h)});return a5},resize:g,ready:ar,affix:al,sift:aX,dpr:aT,deletes:function(h,f){return aD.call(h,f)},scrollX:aj,scrollY:ai,deviceW:aO,deviceH:aF,device:aL,inX:function(h,f){var j=ah(ax(h),f);return 0<=j.right&&j.left<=aj()+a0()},inY:function(h,f){var j=ah(ax(h),f);return 0<=j.bottom&&j.top<=ai()+aZ()},route:aw,merge:ak,media:at,wave:aB,band:aN,map:am,each:a3,inViewport:af,dataset:au,viewportH:aZ,viewportW:a0};ar(function(f){if(f=au(aq.body,"responsejs")){f=a7.JSON&&JSON.parse?JSON.parse(f):a6.parseJSON?a6.parseJSON(f):{},f.create&&aE(f.create)}a4.className=a4.className.replace(/(^|\s)(no-)?responsejs(\s|$)/,"$1$3")+" responsejs "});return a5}(window);window.innerShiv=function(){function b(j,h,g){return/^(?:area|br|col|embed|hr|img|input|link|meta|param)$/i.test(g)?j:h+"></"+g+">"}var i,f=document,a,d="abbr article aside audio canvas datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video".split(" ");return function(j,g){if(!i&&(i=f.createElement("div"),i.innerHTML="<nav></nav>",a=i.childNodes.length!==1)){for(var c=f.createDocumentFragment(),h=d.length;h--;){c.createElement(d[h])}c.appendChild(i)}j=j.replace(/^\s\s*/,"").replace(/\s\s*$/,"").replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/(<([\w:]+)[^>]*?)\/>/g,b);i.innerHTML=(c=j.match(/^<(tbody|tr|td|col|colgroup|thead|tfoot)/i))?"<table>"+j+"</table>":j;c=c?i.getElementsByTagName(c[1])[0].parentNode:i;if(g===!1){return c.childNodes}for(var h=f.createDocumentFragment(),e=c.childNodes.length;e--;){h.appendChild(c.firstChild)}return h}}();(function(b,a){var c=b(a);b.fn.lazyload=function(d){var f=this;var g;var e={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:a,data_attribute:"original",skip_invisible:true,appear:null,load:null};function h(){var i=0;f.each(function(){var j=b(this);if(e.skip_invisible&&!j.is(":visible")){return}if(b.abovethetop(this,e)||b.leftofbegin(this,e)){}else{if(!b.belowthefold(this,e)&&!b.rightoffold(this,e)){j.trigger("appear")}else{if(++i>e.failure_limit){return false}}}})}if(d){if(undefined!==d.failurelimit){d.failure_limit=d.failurelimit;delete d.failurelimit}if(undefined!==d.effectspeed){d.effect_speed=d.effectspeed;delete d.effectspeed}b.extend(e,d)}g=(e.container===undefined||e.container===a)?c:b(e.container);if(0===e.event.indexOf("scroll")){g.bind(e.event,function(i){return h()})}this.each(function(){var i=this;var j=b(i);i.loaded=false;j.one("appear",function(){if(!this.loaded){if(e.appear){var k=f.length;e.appear.call(i,k,e)}b("<img />").bind("load",function(){j.hide().attr("src",j.data(e.data_attribute))[e.effect](e.effect_speed);i.loaded=true;var l=b.grep(f,function(n){return !n.loaded});f=b(l);if(e.load){var m=f.length;e.load.call(i,m,e)}}).attr("src",j.data(e.data_attribute))}});if(0!==e.event.indexOf("scroll")){j.bind(e.event,function(k){if(!i.loaded){j.trigger("appear")}})}});c.bind("resize",function(i){h()});h();return this};b.belowthefold=function(e,f){var d;if(f.container===undefined||f.container===a){d=c.height()+c.scrollTop()}else{d=b(f.container).offset().top+b(f.container).height()}return d<=b(e).offset().top-f.threshold};b.rightoffold=function(e,f){var d;if(f.container===undefined||f.container===a){d=c.width()+c.scrollLeft()}else{d=b(f.container).offset().left+b(f.container).width()}return d<=b(e).offset().left-f.threshold};b.abovethetop=function(e,f){var d;if(f.container===undefined||f.container===a){d=c.scrollTop()}else{d=b(f.container).offset().top}return d>=b(e).offset().top+f.threshold+b(e).height()};b.leftofbegin=function(e,f){var d;if(f.container===undefined||f.container===a){d=c.scrollLeft()}else{d=b(f.container).offset().left}return d>=b(e).offset().left+f.threshold+b(e).width()};b.inviewport=function(d,e){return !b.rightofscreen(d,e)&&!b.leftofscreen(d,e)&&!b.belowthefold(d,e)&&!b.abovethetop(d,e)};b.extend(b.expr[":"],{"below-the-fold":function(d){return b.belowthefold(d,{threshold:0})},"above-the-top":function(d){return !b.belowthefold(d,{threshold:0})},"right-of-screen":function(d){return b.rightoffold(d,{threshold:0})},"left-of-screen":function(d){return !b.rightoffold(d,{threshold:0})},"in-viewport":function(d){return !b.inviewport(d,{threshold:0})},"above-the-fold":function(d){return !b.belowthefold(d,{threshold:0})},"right-of-fold":function(d){return b.rightoffold(d,{threshold:0})},"left-of-fold":function(d){return !b.rightoffold(d,{threshold:0})}})})(jQuery,window);CN.response=(function(d,g){var f=["zones","site","racetrack","dragrace","slideshow"],a={narrow:["0","480"],full:481},c="";function b(){if(!d.support.leadingWhitespace){return false}Response.create({mode:"markup",prefix:"r",breakpoints:[0,481]});if(g.band(a.full)&&c!=="full"){e("full")}else{if(g.band(a.narrow[0],a.narrow[1])&&c!=="narrow"){e("narrow")}}}function e(l){var k,j=f.length;c=l;for(k=0;k<j;k++){if(CN.response[f[k]].toggle){CN.response[f[k]].toggle(l)}}}function i(j){if(!j){j={}}if(CN.isMobile){jQuery(j.selector||"img.lazy").each(function(){var l=jQuery(this).attr("data-original"),k=jQuery(this).parents("figure").parent();if(k.hasClass("bestdressed")===false){if(/_v\./.test(l)){l=l.replace(/_v\./,"_h.");jQuery(this).attr("data-original",l);k.removeClass("vertical").addClass("horizontal")}}})}jQuery(j.selector||"img.lazy").lazyload({failure_limit:40,threshold:1100,skip_invisible:false})}function h(){Response.create({mode:"markup",prefix:"r",breakpoints:[0,481]})}d(window).resize(b);return{currentMode:function(){return c},detect:b,BREAKPOINTS:a,toggle:e,lazyLoadImg:i,init:h}}(jQuery,Response));CN.response.zones=(function(g,f){var c={narrow:{},full:{}},e=false,d=[];function b(l){var k,h=d.length,j;for(k=0;k<h;k++){j=d[k].attr("data-zone-"+l);j=j||"zone1";d[k].appendTo(c[l][j])}}function a(h){if(e){b(h)}}g(".response-zone").each(function(){var i=g(this),j=i.attr("data-display-mode"),h=i.attr("data-display-zone");if(!c[j]){return}else{if(!c[j][h]){c[j][h]=[]}}c[j][h].push(i)});g(".response-item").each(function(){d.push(g(this));e=true});return{toggle:a}}(jQuery,CN));CN.response.racetrack=(function(d,c){var e=d(".container"),b=(d("#position1.racetrack-holder").length>0);function a(f){if(!b){return false}c.masonry.refresh(true);e.height(100).css("height","")}return{toggle:a}}(jQuery,CN));CN.response.dragrace=(function(e,d){var g=e(".container"),c=(e("#position1.dragrace-holder").length>0),b=null;function f(){var h=e("#position1 .social");b=[];h.each(function(){var j=e(this),i=j.attr("data-timestamp");if(i){b.push({obj:j.find("figure img"),height:j.find("figure img").css("height")})}})}function a(k){var j,h;if(!c){return false}if(!b||b.length===0){f()}h=b.length;if(k==="narrow"){for(j=0;j<h;j++){b[j].obj.css("height","").parent().css("height","")}}else{for(j=0;j<h;j++){b[j].obj.css("height",b[j].height).parent().css("height",b[j].height)}}d.masonry.refresh(true);g.height(100).css("height","")}return{toggle:a}}(jQuery,CN));CN.response.site=(function(c,b){function a(d){if(d==="full"){b.site.teenvogue.init()}else{if(d==="narrow"){b.site.teenvogue.adapt.init()}}}return{toggle:a}}(jQuery,CN));CN.response.slideshow=(function(d,n){var z=false,s=d("body"),t=s.find("#items-container"),e=(t.length>0),o=s.find("#item-navigation-container"),B=s.find("#show-footer"),v=s.find(".slideshow-text"),f=s.find("#cm-mobile-thumb").hide(),p=null,g=null,j=null,a=null,k=null,A=null,C=null,i=s.find("#items-container"),l={create:function(){close=jQuery('<div class="slideshow-view-larger-close site-narrow view-larger-narrow">close</div>').click(l.hide);s.append('<div class="slideshow-view-larger-overlay" style="display: none;"><img src='+jQuery("#items-container img").attr("src")+' style="width:100%;height:auto;"/></div>').removeClass("site-full");s.find(".slideshow-view-larger-overlay").prepend(close)},show:function(){s.addClass("view-larger");jQuery(".slideshow-view-larger-overlay img").attr("src",jQuery("#items-container img").attr("src"));jQuery(".slideshow-view-larger-overlay").show();d(window).scrollTop(0)},hide:function(){jQuery(".slideshow-view-larger-overlay").hide();s.removeClass("view-larger")}};function c(E){switch(E){case"A":b();break;case"C":y();b();break;case"D":D();b();break}}function D(){var E=function(){var F=s.find(".item-header");q(d("#slideshow-description-outer figure"),F,true)};setTimeout(E,100);p.onSlideChangeComplete.subscribe(E)}function u(){var G=true,E=s.find(".replay-slideshow a").hide(),F=function(){if(p.currentSlideIndex+1===p.slides.length){E.show();G=false}else{if(!G){E.hide();G=true}}};p.onSlideChangeComplete.subscribe(F)}function w(E){if(!z){p=E.slideshow;g=E.commands;c(t.attr("data-layout"));if(d.fn.touchwipe){A=B.find(".previous a");C=B.find(".next a");d("#items-container").touchwipe({preventDefaultEvents:false,min_move_x:30,wipeRight:function(){A.trigger("click");return false},wipeLeft:function(){C.trigger("click");return false}});d(".jcarousel-container").touchwipe({preventDefaultEvents:false,min_move_x:30,wipeRight:function(){A.trigger("click");return false},wipeLeft:function(){C.trigger("click");return false}})}h()}z=true}function y(){var F=d('<div class="replay-slideshow site-narrow"></div>'),E=d('<a href="#">Replay Slideshow</a>').click(function(){g.jumpToSlideCommand.execute(1);return false});q(F.append(E),d(".slideshow-text"));u()}function b(){var E=function(){o.removeClass("first-slide last-slide middle-slide");if(p.currentSlideIndex===0){o.addClass("first-slide")}else{if(p.currentSlideIndex+1===p.slides.length){o.addClass("last-slide")}else{o.addClass("middle-slide")}}};setTimeout(E,100);p.onSlideChangeComplete.subscribe(E)}function x(){if(!j){j=f.find("a").detach();k=s.find(".slideshow-viewall-container");k.insertAfter(B)}o.find("li:last-child").html(j.clone(true)).click(function(){window.location=d(this).find("a").attr("href")});k.find("li:last-child").html(j.clone(true))}function q(E,G,F){if(F){E.insertBefore(G)}else{E.insertAfter(G)}}function h(){function E(){var F=B.find(".count");q(B.find(".viewall"),F);q(B.find(".viewlarger"),F,true);q(B.find(".next"),F);q(B.find(".previous"),F,true)}q(o,v,true);q(B,o,false);E();x()}function m(){}function r(E){if(!e){return false}if(E==="narrow"){}else{m()}}return{init:w,toggle:r,addEcomThumb:x,viewLarger:l,positionArrow:function(){d(".control-bar .previous, .control-bar .next").css("top","-"+i.height()/2-20)}}}(jQuery,CN));CN.site.teenvogue={};CN.site.teenvogue.init=function(){var b=this,a;for(a in b){if(b.hasOwnProperty(a)&&a!=="adapt"&&typeof b[a].init==="function"){try{b[a].init()}catch(c){CN.debug.user(c,["Exception Thrown in CN.site.teenvogue."+a+".init"])}}}};CN.site.teenvogue.behaviors=(function(i,a,k){i(document).on("click",".continue-link",function(p){k.location="/shop"});i(document).on("click",".lux-cart-frame",function(p){if(CN.cookie.get("shopInit")==""){CN.cookie.set("shopInit","true")}CN.stats.omniture.setCartTracking("","","scOpen","scView")});var m=function(p,q){return jQuery("."+p,q||jQuery("body")).not("."+p+"-initialized").addClass(p+"-initialized")},d={numberedToggleSetup:function(q,p){q.each(function(){var r=jQuery(this);r.find(".numbered-toggle").tab((r.find(".numbered-toggle").hasClass("has1item"))?{paginate:false}:p);if(r.find(".media-sponsorimg").length>0){r.addClass("has-sponsor")}})},mostviewedSetup:function(q,p){q.each(function(){CN.most.setEnv(CN.site.env).setDays(1).setCount(jQuery(this).attr("data-numresults")).init()})},newsletterFormSetup:function(t,q){var r=CN.cookie.get("amg_agescreen"),y=13,v,s,w,p,u=new Date(),z=function(A){v=parseInt(A.find(".nl-bd-year").val(),10);s=parseInt(A.find(".nl-bd-month").val(),10)-1;w=parseInt(A.find(".nl-bd-day").val(),10);if(isNaN(v)||isNaN(s)||isNaN(w)||v<1900){return false}p=new Date((v+y),s,w);return((u.getTime()-p.getTime())<0)?false:true},x=function(A){A.find("form[name='newslettersForm']").hide();A.find(".nl-bd-form").show();A.find("h5.feature-label").text("Enter your birthday to complete sign up")};t.each(function(){jQuery(this).find("form[name='newslettersForm']").on("submit",function(B){var A=jQuery(this);B.preventDefault();if(r===""||r!==" eligible"||r!=="undefined"){A.off("submit");x(i(this).parent());return false}A.off("submit").submit()})}).end().find("form[name='nl-bd-form']").on("submit",function(B){B.preventDefault();var A=i(this);if(z(A)){A.off("submit");A.parent().find("form[name='newslettersForm']").submit()}else{location.href="/services/coppa"}return false})},tvDailySubnavSetup:function(q,p){q.each(function(){jQuery(this).find('nav [href="'+document.location.pathname+'"]').removeAttr("href")})},buildFeatureCarousel:function(q,p){q.each(function(){var s=jQuery(this),r=0;s.find(".feature").each(function(){var t=jQuery(this).height();if(t>r){r=t}});s.find(".feature").wrapAll('<div class="feature-carousel"><div class="feature-carousel-inner"><div class="feature-container"></div></div></div>').end().find(".feature-carousel").prepend('<div class="feature-carousel-previous">Previous</div>').append('<div class="feature-carousel-next">Next</div>').find(".feature-carousel-inner").height(r).scrollable({items:".feature-container",size:p.carouselSize,next:".feature-carousel-next",prev:".feature-carousel-previous",circular:p.circular||false});if(s.find(".media-sponsorimg").length>0){s.addClass("has-sponsor")}if(p.autoscroll){s.autoscroll()}})},tabsSetup:function(p){try{p.each(function(){jQuery(this).find("div.feature-tabs").tab(parseInt(jQuery("[data-defaulttab]").attr("data-defaulttab"),10)||1)})}catch(q){CN.debug.error("Error setting up tabs features. Perhaps the defaultTab index is not 1-based, or the jQuery tab plugin is not available.")}}},f=(function(){var r=[],q={};function s(u){var t,v;v=jQuery("."+u);if(!this.loaded){t=v.clone(true)}else{t=q[u].clean}q[u]={live:v,clean:t};r.push(u)}function p(t){q[t].live.each(function(u){var v=jQuery(this);v.replaceWith(jQuery(q[t].clean.get(u)).clone(true));if(v.attr("data-tab-timer")){clearInterval(v.attr("data-tab-timer"))}})}return{keys:r,load:s,unload:p}}()),l={videocarousel:function(p){f.load("carousel");d.buildFeatureCarousel(m("carousel",p),{carouselSize:1,circular:true})},horizontalrotator:function(p){f.load("horizontalrotator");d.numberedToggleSetup(m("horizontalrotator",p),{paginate:true,timer:6})},narrowrotator:function(p){f.load("narrowrotator");d.numberedToggleSetup(m("narrowrotator",p),{paginate:true,timer:6})},narrowtextoverlayrotator:function(p){f.load("narrowtextoverlayrotator");d.numberedToggleSetup(m("narrowtextoverlayrotator",p),{paginate:true,timer:6})},horizontaltextoverlayrotator:function(p){f.load("horizontaltextoverlayrotator");d.numberedToggleSetup(m("horizontaltextoverlayrotator",p),{paginate:true,timer:6,tabEvent:"mouseenter"})},carousel:function(p){f.load("carousel");d.buildFeatureCarousel(m("carousel",p),{carouselSize:1})},newsletters:function(p){d.newsletterFormSetup(m("#newsletter-form",p))},mostviewed:function(p){d.mostviewedSetup(m("most-viewed",p))},sandbox:function(p){d.sandboxSetup(m("sandbox",p))},tabs:function(p){d.tabsSetup(m("tabs",p))},tv_daily_subnav:function(p){f.load("tv_daily_subnav");d.tvDailySubnavSetup(m("tv_daily_subnav",p))},utils_tumblr:function(p){CN.socialmedia.get("tumblr")},utils_iheartit:function(p){CN.socialmedia.get("iheartit")},"utils_facebook-like":function(p){CN.socialmedia.get("facebook")},"utils_facebook-share":function(p){CN.socialmedia.get("facebook")},utils_tweet:function(p){CN.socialmedia.get("twitter")},utils_gplusone:function(p){CN.socialmedia.get("googleplus")},utils_stumbleupon:function(p){CN.socialmedia.get("stumbleupon")},utils_pinterest:function(p){CN.socialmedia.get("pinterest")},"utils_comment-now":function(p){CN.socialmedia.get("comments")},utils_print:function(){}},g=function(){jQuery.each(CN.page.feature||[],function(){if(typeof l[this]==="function"){l[this]()}});f.loaded=true},c=function(){var q,p=f.keys.length;for(q=0;q<p;q++){f.unload(f.keys[q])}},o=function(){if(CN.config.get("hasVideo")&&brightcove){brightcove.createExperiences()}},n=function(){var q=jQuery("body.s_blog"),p=q.find(".pagination");p.each(function(){var r=new CN.blogs.pagination({container:"body.s_blog .pagination"});r.init()})},b=function(){if(a.user.isLoggedIn()){i("body").addClass("logged-in");i(".login-box").addClass("logged-in").html('<h2><a href="/community/persona">Hi '+a.user.username()+'</a></h2><div><ul><li><a href="/user/logout" class="first">Logout</a></li><li><a href="/user/update">Edit Profile</a></li></ul></div>');i("header.stuck .logged-in h2 a").html("my info")}else{if(jQuery.support.cors&&jQuery.support.leadingWhitespace){i(".login-box h2").on("click mouseenter",function(p){CN.site.views.lightreg.show({currentTrigger:i(p.currentTarget)});return false})}}},h=function(){var p=true;if(jQuery("#userProfileForm").length>0||jQuery("#demographicsForm").length>0){jQuery(".mod-login div.rqrd input").each(function(q){if(jQuery(this).val()===""){p=false;return false}});if(p){jQuery('h2[rel="mod-login"]').toggleClass("collapsed");jQuery(".mod-login").addClass("collapsed")}p=true;jQuery(".mod-info div.rqrd input").each(function(q){if(jQuery(this).val()===""){p=false;return false}});if(jQuery("#birthDay").val()===""||jQuery("#birthMonth").val()===""||(jQuery("#birthYear").val()===""||jQuery("#birthYear").val()==="YYYY")){p=false}if(p){jQuery('h2[rel="mod-info"]').toggleClass("collapsed");jQuery(".mod-info").addClass("collapsed")}jQuery("#registration h2.toggle").on("click",function(r){var q=jQuery(this).attr("rel");jQuery(this).toggleClass("collapsed");jQuery("."+q).toggleClass("collapsed")})}},e=function(){var p=i("html"),q=i("header.shell");q.removeClass("site-narrow").end().find(".global-nav").removeClass("site-narrow").addClass("site-full")},j=function(){if(i("header.stuck").length>0){return}var q=i("<header class='shell stuck site-full'></header>").append('<aside class="login-box login-collapsed"><h2><a href="/user/login">Sign In</a></h2></aside>').append(i(".headmatter #seoh1").clone(true)).append(i(".global-nav").clone(true)).appendTo("body").wrapInner('<div class="wrapper"></div>'),r="-500px";if(i.browser.msie&&i.browser.version<=8){q.find(".header-logo").addClass("ie")}i("header.stuck img").each(function(){i(this).attr("src",i(this).attr("data-original"))});function p(){if(i(k).scrollTop()>200){q.stop().animate({top:"0px"},500)}else{q.stop().animate({top:r},500)}if(CN.ecom){CN.ecom.rolloverAd.closeAd()}}q.css({top:r});i(k).scroll(p);p()};return{init:function(){j();b();CN.site.teenvogue.adapt.behaviors.unload();g();h();o();e();n()},drawVideo:o,loginBar:b,unload:c}}(jQuery,CN,window));CN.site.teenvogue.social=(function(){var a=function(){};return(location.protocol!=="https:")?{init:a}:{}}());CN.site.teenvogue.buildEditorPicks=function(){if(typeof(editorPicks)!=="undefined"&&editorPicks.items.length>0){var e=[];e.push('<div id="editorPicks">');e.push('    <div class="features-header header">'+editorPicks.headertext+"</div>");for(var a=0;a<editorPicks.items.length;a++){if(editorPicks.items[a].type!=="dart_ad"){var d=(editorPicks.items[a].category!=="Partners")?"":' class="partner"',b=(editorPicks.items[a].category!=="Sponsored")?"":" sponsored";e.push('<div class="ed-feature">');e.push("        <figure>");e.push('            <div class="photo">');e.push('                <a target="_BLANK" href="'+editorPicks.items[a].url+'">');e.push('                    <img src="'+editorPicks.items[a].image+'">');e.push("                </a>");e.push("            </div>");e.push("        </figure>");e.push('        <div class="header'+b+'">');e.push((editorPicks.items[a].category!=="Partners")?"":'<div class="partner-title">From Our Partner</div>');e.push('            <a target="_BLANK" href="'+editorPicks.items[a].url+'"'+d+">"+editorPicks.items[a].title+"</a>");e.push("        </div>");e.push('        <div class="clear"></div>');e.push("</div>")}}e.push('<div class="ed-feature dartAd"><div id="editorsPicksAd300x90_frame"></div></div>');e.push("</div>");if(jQuery(".listC #300x250_frame").length>0){jQuery("#AMS_TNV_GLOBAL_SLIDESHOW_RIGHTRAIL_A").after(e.join(""))}else{if(jQuery(".s_instalist #ps1_fs3").length>0){}else{jQuery("#ps1_fs5").append(e.join(""))}}jQuery("#editorPicks a").bind("click",function(){CN.stats.omniture.trackAction("editorsPick",this)});function c(){if(typeof(CN.dart)!=="undefined"){CN.dart.call("editorsPicksAd",{sz:"300x90",kws:["editors_picks"],store:false})}else{setTimeout(c,500)}}if(!CN.isMobile){c()}CN.masonry.refresh()}};CN.site.teenvogue.instaWidget={chuteData:null,mainCon:"#insta-widget",initUrl:"http://api.getchute.com/v2/albums/at3Ebanw/assets?sort=hot",nextUrl:"",curSwapImg:0,swapTimer:null,imgList:[],getChuteData:function(){var a=(this.nextUrl=="")?this.initUrl:this.nextUrl;var b;jQuery.getJSON(a,function(c){CN.site.teenvogue.instaWidget.chuteData=c;CN.site.teenvogue.instaWidget.nextUrl=CN.site.teenvogue.instaWidget.chuteData.pagination.next_page;if(CN.site.teenvogue.instaWidget.mainCon.find(".container").length<2){CN.site.teenvogue.instaWidget.getVerifiedImgs();setTimeout(CN.site.teenvogue.instaWidget.createContainer,1000)}else{CN.site.teenvogue.instaWidget.getVerifiedImgs();CN.site.teenvogue.instaWidget.swapTimer=setInterval(CN.site.teenvogue.instaWidget.swapImgs,2000)}})},initInstaWidget:function(){this.mainCon=jQuery(this.mainCon);this.getChuteData()},getVerifiedImgs:function(){var b=[],a=0;while(b.length>3||a<5){testImg=new Image(),loadTest=imagesLoaded(testImg);testImg.src=CN.site.teenvogue.instaWidget.chuteData.data[a].source.source_url;loadTest.on("done",function(c){CN.site.teenvogue.instaWidget.imgList.push(this.elements[0].src)});++a}return b},createContainer:function(){var b="<div class='container'>";if(CN.site.teenvogue.instaWidget.imgList.length>=3){if(CN.site.teenvogue.instaWidget.mainCon.find(".container").length==0){for(var d=0;d<3;d++){var a=(d==0)?"primary":"secondary";var c=(d==1)?" right-buff":"";b+="<img class='"+a+c+"' src='"+CN.site.teenvogue.instaWidget.imgList[d]+"'>"}CN.site.teenvogue.instaWidget.imgList=[]}else{for(var d=0;d<3;d++){var a=(d<2)?"secondary":"primary";var c=(d==0)?" right-buff":"";b+="<img class='"+a+c+"' src='"+CN.site.teenvogue.instaWidget.imgList[d]+"'>"}CN.site.teenvogue.instaWidget.imgList=[]}}else{CN.site.teenvogue.instaWidget.getChuteData()}b+="</div>";CN.site.teenvogue.instaWidget.mainCon.append(b);if(CN.site.teenvogue.instaWidget.mainCon.find(".container").length<=2){CN.site.teenvogue.instaWidget.getChuteData()}},swapImgs:function(){var b=Math.floor(Math.random()*(5-0+1)+0);var a=jQuery(CN.site.teenvogue.instaWidget.mainCon.find("img")[b]);if(CN.site.teenvogue.instaWidget.curSwapImg<5){a.hide();a.attr("src",CN.site.teenvogue.instaWidget.imgList[CN.site.teenvogue.instaWidget.curSwapImg]);a.fadeIn();++CN.site.teenvogue.instaWidget.curSwapImg}else{clearInterval(CN.site.teenvogue.instaWidget.swapTimer);CN.site.teenvogue.instaWidget.curSwapImg=0;CN.site.teenvogue.instaWidget.getChuteData(false);CN.site.teenvogue.instaWidget.imgList=[]}},injectNav:function(){var a=jQuery("#index_headers"),b=[];b.push("<ul>");b.push('    <li class="instaGallery"><a href="/instalist/main"></a></li>');b.push('    <li class="instaList"><a href="/instalist/main#instalisters"></a></li>');b.push('    <li class="instaTrend"><a href="/instalist/trending"></a></li>');b.push("</ul>");a.append(b.join(""))}};CN.adapt=(function(){var c={},a=CN.isMobile?0:1,e=function(f){c=f},d=function(f,g){g[f]=g},b=function(f){if(c.hasOwnProperty(f)){return c[f][a]}};return{get:b,set:d,init:e}}());CN.adapt.init({dragRaceWidth:[300,600],clickEvt:["click","click"]});jQuery("#userProfileForm, #sweepSignup, #demographicsForm").submit(function(){var a=jQuery("#birthDay").val(),c=jQuery("#birthMonth").val(),b=(jQuery("#birthYear").val()).replace(/^\s+|\s+$/g,"");jQuery(this).append("<input type='hidden' name='birth_date' id='birth_date' value='"+c+"/"+a+"/"+b+"' />");return true});jQuery(function(){var b=function(){jQuery("#slide-mobile-intro").addClass("hide")};if(CN.isMobile&&jQuery("body").hasClass("listC")){var c="I thought you'd like to see this on Teenvogue.com",e="I thought you'd like to see this on Teenvogue.com",d=jQuery(".list-body"),a=jQuery('<div id="slide-mobile-intro" class="site-narrow"></div>');d.find(".headers-container").appendTo(a).end().end();jQuery("#yslideHed .sub-header").appendTo(a).end().end();jQuery("#yslideHed .byline").appendTo(a).end().end();jQuery('<a href="#" class="list-view-slideshow" id="slideshow-intro-layer">start slideshow</a>').on("click",function(){CN.stats.omniture.trackAction("mobileStartSlideshow",this);b()}).appendTo(a);a.on("touchmove",function(){CN.stats.omniture.trackAction("mobileStartSlideshow",this);b()});jQuery("#items-container").append(a.wrapInner('<div class="intro-wrap"></div>').wrapInner('<div class="center-wrap"></div>'));jQuery(".site-narrow .utility-email a").attr("href","mailto:?subject="+encodeURIComponent(c)+"&body="+encodeURIComponent(e)+"%0A%0aClick%20here%20to%20see%20the%20page%20on%20Teenvogue.com%3A%20%20"+encodeURIComponent(location.href))}jQuery("#jb_sweep.sweepWrap .sweepsIntro .switch,.c_1213_jb_just_believe #sweepFormWrap .switch").on("click",function(){if(jQuery(this).hasClass("expand")){jQuery(this).removeClass("expand");jQuery("#jb_sweep.sweepWrap #yourInformation").show();jQuery(".c_1213_jb_just_believe #yourInformation").show()}else{jQuery(this).addClass("expand");jQuery("#jb_sweep.sweepWrap #yourInformation").hide();jQuery(".c_1213_jb_just_believe #yourInformation").hide()}})});jQuery(document).ready(function(){function a(){cmLink=jQuery(".headmatter #seoh1 #AMS_TNV_GLOBAL_HEADER_COLLAPSE a").attr("href");jQuery(".shell .headmatter #seoh1 #AMS_TNV_GLOBAL_HEADER_COLLAPSE a").attr("href",cmLink);jQuery(".shell #seoh1 #AMS_TNV_GLOBAL_HEADER_COLLAPSE a").attr("href",cmLink)}CN.site.teenvogue.buildEditorPicks();setTimeout(a,3500)});jQuery(document).on("click",".product-grid .modal-trigger",function(b){var a=jQuery(this).find(".product-image-src").attr("data-src");jQuery("meta[property=og\\:image]").attr("content",a)});jQuery("#items-container img").live("mouseover",function(){jQuery(".utilities-pinit").addClass("slideshow").appendTo(jQuery("#swipeArea").parent()).show()});jQuery("article div.main-column figure img").live("mouseover",function(){var b=jQuery(this).width()-48;var a=jQuery(this).position().top+jQuery(this).height()-338;jQuery(".utilities-pinit").css("left",b);jQuery(".utilities-pinit").css("top","-7px");jQuery(".utilities-pinit").show()});jQuery(".utilities-pinit").live("mouseover",function(){jQuery(".utilities-pinit").show()});jQuery("#items-container img, article figure img").live("mouseout",function(){jQuery(".utilities-pinit").hide()});jQuery(function(){jQuery(window).scroll(function(){if(jQuery("#ps1_fs1_zrail").length>0){var c=(jQuery("#ps1_fs1_zrail").offset().top-jQuery(".social-tall").height())-82;var d=jQuery("#page").offset().top-50;var b=(jQuery("#page").height()-jQuery(".social-tall").height());var a=jQuery(document).scrollTop();if((a<c)&&(a>d)){jQuery(".response-item.social-tall").addClass("top-fixed");jQuery(".response-item.social-tall").css({left:jQuery("#page").offset().left,display:"block",top:"50"})}else{jQuery(".response-item.social-tall").removeClass("top-fixed");jQuery(".response-item.social-tall").css("left","0")}if(a<c){jQuery(".response-item.social-tall").css({position:"fixed"})}else{jQuery(".response-item.social-tall").css({position:"absolute",top:b})}if(a<d){jQuery(".response-item.social-tall").css({position:"absolute",top:"0"})}}});jQuery(document).on("click",".product-grid .modal-trigger, .add-to-cart-button",function(d){var c=jQuery(this);if(c.is(".product-grid .modal-trigger")===true){var b=jQuery(".shop-category header").text(),a=c.parents(".product").find(".product-name").text();CN.stats.omniture.setCartTracking(b,a,"prodView")}if(c.is(".add-to-cart-button")===true&&c.is(".add-to-cart-button.added-to-cart")===false){var b=jQuery(".shop-category header").text(),a=c.parents(".product").find(".product-name").text();if(CN.cookie.get("shopInit")==""){CN.cookie.set("shopInit","true");CN.stats.omniture.setCartTracking(b,a,"scAdd","scView")}else{CN.stats.omniture.setCartTracking(b,a,"scAdd")}}});jQuery(document).on("click",".add-to-cart-button.added-to-cart",function(a){CN.stats.omniture.setCartTracking("","","scView","scOpen")})});
/*!
 * imagesLoaded PACKAGED v3.0.4
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
(function(){function c(){}function b(g,f){for(var h=g.length;h--;){if(g[h].listener===f){return h}}return -1}function d(f){return function(){return this[f].apply(this,arguments)}}var a=c.prototype;a.getListeners=function(h){var g,j,f=this._getEvents();if("object"==typeof h){g={};for(j in f){f.hasOwnProperty(j)&&h.test(j)&&(g[j]=f[j])}}else{g=f[h]||(f[h]=[])}return g},a.flattenListeners=function(g){var f,h=[];for(f=0;g.length>f;f+=1){h.push(g[f].listener)}return h},a.getListenersAsObject=function(g){var f,h=this.getListeners(g);return h instanceof Array&&(f={},f[g]=h),f||h},a.addListener=function(h,k){var f,g=this.getListenersAsObject(h),j="object"==typeof k;for(f in g){g.hasOwnProperty(f)&&-1===b(g[f],k)&&g[f].push(j?k:{listener:k,once:!1})}return this},a.on=d("addListener"),a.addOnceListener=function(g,f){return this.addListener(g,{listener:f,once:!0})},a.once=d("addOnceListener"),a.defineEvent=function(f){return this.getListeners(f),this},a.defineEvents=function(g){for(var f=0;g.length>f;f+=1){this.defineEvent(g[f])}return this},a.removeListener=function(h,k){var f,g,j=this.getListenersAsObject(h);for(g in j){j.hasOwnProperty(g)&&(f=b(j[g],k),-1!==f&&j[g].splice(f,1))}return this},a.off=d("removeListener"),a.addListeners=function(g,f){return this.manipulateListeners(!1,g,f)},a.removeListeners=function(g,f){return this.manipulateListeners(!0,g,f)},a.manipulateListeners=function(k,g,m){var f,j,l=k?this.removeListener:this.addListener,h=k?this.removeListeners:this.addListeners;if("object"!=typeof g||g instanceof RegExp){for(f=m.length;f--;){l.call(this,g,m[f])}}else{for(f in g){g.hasOwnProperty(f)&&(j=g[f])&&("function"==typeof j?l.call(this,f,j):h.call(this,f,j))}}return this},a.removeEvent=function(h){var g,j=typeof h,f=this._getEvents();if("string"===j){delete f[h]}else{if("object"===j){for(g in f){f.hasOwnProperty(g)&&h.test(g)&&delete f[g]}}else{delete this._events}}return this},a.removeAllListeners=d("removeEvent"),a.emitEvent=function(k,g){var m,f,j,l,h=this.getListenersAsObject(k);for(j in h){if(h.hasOwnProperty(j)){for(f=h[j].length;f--;){m=h[j][f],m.once===!0&&this.removeListener(k,m.listener),l=m.listener.apply(this,g||[]),l===this._getOnceReturnValue()&&this.removeListener(k,m.listener)}}}return this},a.trigger=d("emitEvent"),a.emit=function(g){var f=Array.prototype.slice.call(arguments,1);return this.emitEvent(g,f)},a.setOnceReturnValue=function(f){return this._onceReturnValue=f,this},a._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},a._getEvents=function(){return this._events||(this._events={})},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return c}):"object"==typeof module&&module.exports?module.exports=c:this.EventEmitter=c}).call(this),function(d){var b=document.documentElement,f=function(){};b.addEventListener?f=function(h,g,i){h.addEventListener(g,i,!1)}:b.attachEvent&&(f=function(g,h,e){g[h+e]=e.handleEvent?function(){var i=d.event;i.target=i.target||i.srcElement,e.handleEvent.call(e,i)}:function(){var i=d.event;i.target=i.target||i.srcElement,e.call(g,i)},g.attachEvent("on"+h,g[h+e])});var a=function(){};b.removeEventListener?a=function(h,g,i){h.removeEventListener(g,i,!1)}:b.detachEvent&&(a=function(j,h,k){j.detachEvent("on"+h,j[h+k]);try{delete j[h+k]}catch(g){j[h+k]=void 0}});var c={bind:f,unbind:a};"function"==typeof define&&define.amd?define("eventie/eventie",c):d.eventie=c}(this),function(h){function l(c,a){for(var i in a){c[i]=a[i]}return c}function f(a){return"[object Array]"===j.call(a)}function g(o){var c=[];if(f(o)){c=o}else{if("number"==typeof o.length){for(var a=0,n=o.length;n>a;a++){c.push(o[a])}}else{c.push(o)}}return c}function b(o,q){function a(t,u,r){if(!(this instanceof a)){return new a(t,u)}"string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=g(t),this.options=l({},this.options),"function"==typeof u?r=u:l(this.options,u),r&&this.on("always",r),this.getImages(),d&&(this.jqDeferred=new d.Deferred);var c=this;setTimeout(function(){c.check()})}function p(c){this.img=c}a.prototype=new o,a.prototype.options={},a.prototype.getImages=function(){this.images=[];for(var x=0,u=this.elements.length;u>x;x++){var z=this.elements[x];"IMG"===z.nodeName&&this.addImage(z);for(var c=z.querySelectorAll("img"),w=0,y=c.length;y>w;w++){var v=c[w];this.addImage(v)}}},a.prototype.addImage=function(n){var c=new p(n);this.images.push(c)},a.prototype.check=function(){function v(t,n){return s.options.debug&&k&&m.log("confirm",t,n),s.progress(t),x++,x===c&&s.complete(),!0}var s=this,x=0,c=this.images.length;if(this.hasAnyBroken=!1,!c){return this.complete(),void 0}for(var u=0;c>u;u++){var w=this.images[u];w.on("confirm",v),w.check()}},a.prototype.progress=function(n){this.hasAnyBroken=this.hasAnyBroken||!n.isLoaded;var c=this;setTimeout(function(){c.emit("progress",c,n),c.jqDeferred&&c.jqDeferred.notify(c,n)})},a.prototype.complete=function(){var n=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var c=this;setTimeout(function(){if(c.emit(n,c),c.emit("always",c),c.jqDeferred){var e=c.hasAnyBroken?"reject":"resolve";c.jqDeferred[e](c)}})},d&&(d.fn.imagesLoaded=function(r,c){var s=new a(this,r,c);return s.jqDeferred.promise(d(this))});var i={};return p.prototype=new o,p.prototype.check=function(){var n=i[this.img.src];if(n){return this.useCached(n),void 0}if(i[this.img.src]=this,this.img.complete&&void 0!==this.img.naturalWidth){return this.confirm(0!==this.img.naturalWidth,"naturalWidth"),void 0}var c=this.proxyImage=new Image;q.bind(c,"load",this),q.bind(c,"error",this),c.src=this.img.src},p.prototype.useCached=function(n){if(n.isConfirmed){this.confirm(n.isLoaded,"cached was confirmed")}else{var c=this;n.on("confirm",function(r){return c.confirm(r.isLoaded,"cache emitted confirmed"),!0})}},p.prototype.confirm=function(n,c){this.isConfirmed=!0,this.isLoaded=n,this.emit("confirm",this,c)},p.prototype.handleEvent=function(n){var c="on"+n.type;this[c]&&this[c](n)},p.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindProxyEvents()},p.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindProxyEvents()},p.prototype.unbindProxyEvents=function(){q.unbind(this.proxyImage,"load",this),q.unbind(this.proxyImage,"error",this)},a}var d=h.jQuery,m=h.console,k=m!==void 0,j=Object.prototype.toString;"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],b):h.imagesLoaded=b(h.EventEmitter,h.eventie)}(window);CN.site.teenvogue.adapt={};CN.site.teenvogue.adapt.init=function(){var b=this,a;for(a in b){if(b.hasOwnProperty(a)&&typeof b[a].init==="function"){try{b[a].init()}catch(c){CN.debug.user(c,["Exception Thrown in CN.site.teenvogue.adapt"+a+".init"])}}}};CN.site.teenvogue.adapt.behaviors=(function(j,a,k){var n=function(q,r){return jQuery("."+q,r||jQuery("body")).not("."+q+"-initialized").addClass(q+"-initialized")},d={numberedToggleSetup:function(r,q){r.each(function(){var s=jQuery(this);s.find(".numbered-toggle").tab((s.find(".numbered-toggle").hasClass("has1item"))?{paginate:false}:q);if(s.find(".media-placement-sponsor").length>0){s.addClass("has-sponsor")}})},newsletterFormSetup:function(u,r){var s=CN.cookie.get("amg_agescreen"),z=13,w,t,x,q,v=new Date(),A=function(B){w=parseInt(B.find(".nl-bd-year").val(),10);t=parseInt(B.find(".nl-bd-month").val(),10)-1;x=parseInt(B.find(".nl-bd-day").val(),10);if(isNaN(w)||isNaN(t)||isNaN(x)||w<1900){return false}q=new Date((w+z),t,x);return((v.getTime()-q.getTime())<0)?false:true},y=function(B){B.find("form[name='newslettersForm']").hide();B.find(".nl-bd-form").show();B.find("h5.feature-label").text("Enter your birthday to complete sign up")};u.each(function(){jQuery(this).find("form[name='newslettersForm']").on("submit",function(C){var B=jQuery(this);C.preventDefault();if(s===""||s!==" eligible"||s!=="undefined"){B.off("submit");y(j(this).parent());return false}B.off("submit").submit()})}).end().find("form[name='nl-bd-form']").on("submit",function(C){C.preventDefault();var B=j(this);if(A(B)){B.off("submit");B.parent().find("form[name='newslettersForm']").submit()}else{location.href="/services/coppa"}return false})},mostviewedSetup:function(r,q){r.each(function(){CN.most.setEnv(CN.site.env).setDays(1).setCount(jQuery(this).attr("data-numresults")).init()})},tvDailySubnavSetup:function(r,q){r.each(function(){jQuery(this).find('nav [href="'+document.location.pathname+'"]').removeAttr("href")})},buildFeatureCarousel:function(r,q){r.each(function(){var u=jQuery(this),t=0,s,v;u.find(".feature").each(function(){var w=jQuery(this).height();if(w>t){t=w}});u.find(".feature").wrapAll('<div class="feature-carousel"><div class="feature-carousel-inner"><div class="feature-container"></div></div></div>').end().find(".feature-carousel").prepend('<div class="feature-carousel-previous">Previous</div>').append('<div class="feature-carousel-next">Next</div>').find(".feature-carousel-inner").height(t).scrollable({items:".feature-container",size:q.carouselSize,next:".feature-carousel-next",prev:".feature-carousel-previous",touch:false,circular:q.circular||false});if(u.find(".media-sponsorimg").length>0){u.addClass("has-sponsor")}if(q.autoscroll){u.autoscroll()}s=j(this).find(".feature-carousel-next");v=j(this).find(".feature-carousel-previous");if(typeof jQuery.fn.touchwipe==="function"){u.find(".feature-container").touchwipe({wipeLeft:function(w){s.trigger("click")},wipeRight:function(w){v.trigger("click")}})}})},tabsSetup:function(q){try{q.each(function(){jQuery(this).find("div.feature-tabs").tab(parseInt(jQuery("[data-defaulttab]").attr("data-defaulttab"),10)||1)})}catch(r){CN.debug.error("Error setting up tabs features. Perhaps the defaultTab index is not 1-based, or the jQuery tab plugin is not available.")}},stripFeatureToCarousels:function(x){var v=this,q,z,w=(Response)?Response.viewportW()-20:300,t=0,y=0,s=0,u=0,r=function(A,B){q=A.parents(".features").find(".feature");y=jQuery(q).index(A);if(B==="next"){u=(A.parent(".feature-item-wrapper").next(".feature-item-wrapper").length>0)?u+1:0;s=-1*w*u}else{u=(A.parent(".feature-item-wrapper").prev(".feature-item-wrapper").length>0)?u-1:q.length-1;s=-1*w*u}A.parents(".feature-carousel-inner").css({left:s+"px"});CN.response.lazyLoadImg({selector:"img.lazy-carousel"})};x.each(function(){q=jQuery(this);z=q.find(".feature");t=w*((z.length>0)?z.length:1);q.width(w).addClass("feature-carousel-initialized").wrapInner('<div class="feature-carousel-outer" style="width:'+w+'px" ></div>').find(".feature-carousel-outer").before(q.find("h2.features-header.header")).wrapInner('<div class="feature-carousel-inner" style="width:'+t+'px"></div>').end().append('<span class="prev">prev</span>  <span class="next">next</span>').find(".next, .prev").on("click",function(){r(jQuery(z[u]),j(this).hasClass("next")?"next":"prev")});jQuery.each(z,function(){jQuery(this).wrap("<div class='feature-item-wrapper' style='width:"+(w)+"px'></div>").on("click",function(){r(jQuery(this),"next")}).find("img").addClass("lazy-carousel")});if(typeof jQuery.fn.touchwipe==="function"){z.touchwipe({wipeLeft:function(A){r(jQuery(z[u]),"next")},wipeRight:function(A){r(jQuery(z[u]),"prev")}})}})}},m={videocarousel:function(q){d.buildFeatureCarousel(n("carousel",q),{carouselSize:1,circular:true})},horizontalrotator:function(q){d.numberedToggleSetup(n("horizontalrotator",q),{paginate:true,timer:6})},narrowrotator:function(q){d.numberedToggleSetup(n("narrowrotator",q),{paginate:true,timer:6})},narrowtextoverlayrotator:function(q){d.numberedToggleSetup(n("narrowtextoverlayrotator",q),{paginate:true,timer:6})},horizontaltextoverlayrotator:function(q){d.numberedToggleSetup(n("horizontaltextoverlayrotator",q),{paginate:true,timer:6,tabEvent:"mouseenter"})},newsletters:function(q){d.newsletterFormSetup(n("#newsletter-form",q))},carousel:function(q){if(jQuery("body").hasClass("indexA")){jQuery(".carousel").remove()}else{d.buildFeatureCarousel(n("carousel",q),{carouselSize:1})}},mostviewed:function(q){d.mostviewedSetup(n("most-viewed",q))},sandbox:function(q){d.sandboxSetup(n("sandbox",q))},tabs:function(q){d.tabsSetup(n("tabs",q))},tv_daily_subnav:function(q){d.tvDailySubnavSetup(n("tv_daily_subnav",q))},utils_tumblr:function(q){CN.socialmedia.get("tumblr")},"utils_facebook-share":function(q){CN.socialmedia.get("facebook")},utils_iheartit:function(q){CN.socialmedia.get("iheartit")},"utils_facebook-like":function(q){CN.socialmedia.get("facebook")},utils_tweet:function(q){CN.socialmedia.get("twitter")},utils_gplusone:function(q){CN.socialmedia.get("googleplus")},utils_stumbleupon:function(q){CN.socialmedia.get("stumbleupon")},utils_pinterest:function(q){CN.socialmedia.get("pinterest")},"utils_comment-now":function(q){CN.socialmedia.get("comments")},utils_print:function(){jQuery(".utility-print").on("click",function(q){if(!jQuery("body").hasClass("printable")){jQuery("body").addClass("printable")}return false})},cornerstamp:function(q){if(jQuery("body").hasClass("indexA")){jQuery("#zrail").remove()}else{f.load("cornerstamp");d.stripFeatureToCarousels(n("features.cornerstamp",q))}},photostack:function(q){if(jQuery("body").hasClass("indexA")){jQuery("#zrail").remove()}else{f.load("photostack");d.stripFeatureToCarousels(n("features.photostack",q))}}},i=function(){m.horizontalrotator=function(q){var r;f.load("horizontalrotator");r=n("horizontalrotator",q).addClass("horizontalrotator-mobile")};m.narrowrotator=function(q){var r;f.load("narrowrotator");r=n("narrowrotator",q).addClass("narrowrotator-mobile")};m.narrowtextoverlayrotator=function(q){var r;f.load("narrowtextoverlayrotator");r=n("narrowtextoverlayrotator",q).addClass("narrowtextoverlayrotator-mobile")};m.horizontaltextoverlayrotator=function(q){var r;f.load("horizontaltextoverlayrotator");r=n("horizontaltextoverlayrotator",q).addClass("horizontaltextoverlayrotator-mobile")}},f=(function(){var s=[],r={};function t(v){var u,w;w=jQuery("."+v);if(!this.loaded){u=w.clone(true)}else{u=r[v].clean}r[v]={live:w,clean:u};s.push(v)}function q(u){r[u].live.each(function(v){var w=jQuery(this);w.replaceWith(jQuery(r[u].clean.get(v)).clone(true));if(w.attr("data-tab-timer")){clearInterval(w.attr("data-tab-timer"))}})}return{keys:s,load:t,unload:q}}()),g=function(){i();jQuery.each(CN.page.feature||[],function(q,r){if(typeof m[r]==="function"){m[r]()}});f.loaded=true},p=function(){if(CN.config.get("hasVideo")&&brightcove){brightcove.createExperiences()}},l=function(x){var r=(x&&x!=="")?jQuery(x):[],y={ul:{child:"li",label:{type:"text",value:"VIEW:"}},dl:{child:"dd",label:{type:"tag",value:"dt"}}},t=null,q=null,u={},w="",s=null,v=null;r.each(function(){if(y[this.tagName.toLowerCase()]){t=jQuery(this);u=y[this.tagName.toLowerCase()];if(u.label.type==="text"){w=u.label.value}else{if(u.label.type==="tag"&&t.find(u.label.value).length>0){w=t.find(u.label.value).text()}}s=jQuery("<div class='mobile-select'><label>"+w+"</label><select class='mobile-menu'></select></div>");t.find(u.child).each(function(){q=jQuery(this).find("a");if(q.length>0){s.find("select").append("<option value='"+q.attr("href")+"' rel='"+(q.attr("target")||"")+"' >"+q.text().toUpperCase()+"</option>")}else{s.find("select").append("<option selected='selected'>"+jQuery(this).text().toUpperCase()+"</option>")}}).end().parent().append(s).end().remove();s.change(function(){if(j(this).find("option:selected").length>0){v=j(j(this).find("option:selected")[0]);if(v.val()){k.open(v.val(),(v.attr("rel")!==""?v.attr("rel"):"_self"))}}}).show()}})},b=function(){if(a.user.isLoggedIn()){j("body").addClass("logged-in");j(".login-box").addClass("logged-in").html('<span id="ui">Welcome, '+a.user.username()+' <span id="opts"><a href="/user/logout" class="first">Logout</a> &#124; <a href="/user/update">Profile</a></span></span>')}else{if(jQuery.support.cors&&jQuery.support.leadingWhitespace){j(".login-box h2").on("click mouseenter",function(q){CN.site.views.lightreg.show({keepOpen:true,currentTrigger:j(q.currentTarget)});return false})}}},e=function(){var r=j("header.shell"),x=r.find(".nav-toggle.site-narrow"),y=r.find(".nav-search.site-narrow"),q,t,w,v=j.noop,u=j.noop,s=function(){return(a.user.isLoggedIn())?'<a href="/user/logout">logout</a> &#124; <a href="/user/update">edit profile</a>':'<a href="/user/login" class="login">sign in</a>'};r.addClass("site-narrow").end().find(".global-nav").removeClass("site-full").addClass("site-narrow");q=r.find(".global-nav");t=j("header.shell.site-narrow nav.global-nav ul > li");w=t.find("span.arrow");t.each(function(){var z=j(this);if(z.hasClass("num1")&&z.find("ul li").length===0){z.removeClass("num1").addClass("num0")}});v=function(){t.removeClass("expand");w.removeClass("active")};u=function(B){var z=B[0],D=z.event,C=z.self,A=z.panel;D.preventDefault();A.toggleClass("active").siblings().removeClass("active");v.call(this);j(C).toggleClass("active");if(j(C).hasClass("active")&&j(C).siblings().hasClass("active")){j(C).siblings().removeClass("active")}};x.find(".nav, .search").on("click",function(z){u.call(this,[{event:z,self:this,panel:j(this).hasClass("nav")?q:y}])});t.on("click",function(A){var z=j(this).hasClass("expand"),B=(j(this).find("ul > li").length>0)?true:false;if(z){v.call(this)}else{if(!B){k.location.href=(j(this).find("a").attr("href"))}else{v.call(this);j(this).addClass("expand").find("span.arrow").addClass("active")}}}).find("a").on("click",function(z){z.stopPropagation()});q.find(".otherlinks .login").html(s()).find(".login").on("click",function(z){j.subscribe(CN.site.views.lightreg.AUTH_SUCCESS,function(){q.find(".otherlinks .login").html(s())});CN.site.views.lightreg.show({keepOpen:true,currentTrigger:j(z.currentTarget)});return false})},o=function(){var r=jQuery("body.s_blog"),q=r.find(".pagination");q.each(function(){var s=new CN.blogs.pagination({container:"body.s_blog .pagination"});s.init()})},c=function(){var r,q=f.keys.length;for(r=0;r<q;r++){f.unload(f.keys[r])}},h=function(){var q=true;if(jQuery("#userProfileForm").length>0||jQuery("#demographicsForm").length>0){jQuery(".mod-login div.rqrd input").each(function(r){if(jQuery(this).val()===""){q=false;return false}});if(q){jQuery('h2[rel="mod-login"]').toggleClass("collapsed");jQuery(".mod-login").addClass("collapsed")}q=true;jQuery(".mod-info div.rqrd input").each(function(r){if(jQuery(this).val()===""){q=false;return false}});if(q){jQuery('h2[rel="mod-info"]').toggleClass("collapsed");jQuery(".mod-info").addClass("collapsed")}jQuery("#registration h2.toggle").on("click",function(s){var r=jQuery(this).attr("rel");jQuery(this).toggleClass("collapsed");jQuery("."+r).toggleClass("collapsed")})}};return{init:function(){b();CN.site.teenvogue.behaviors.unload();g();h();o();l(".tv_daily_subnav ul, .results_search_in, .results_sort");p();e()},drawVideo:p,loginBar:b,unload:c}}(jQuery,CN,window));CN.site.teenvogue.adapt.social=(function(){var a=function(){};return(location.protocol!=="https:")?{init:a}:{}}());CN.adapt=(function(){var c={},a=CN.isMobile?0:1,e=function(f){c=f},d=function(f,g){g[f]=g},b=function(f){if(c.hasOwnProperty(f)){return c[f][a]}};return{get:b,set:d,init:e}}());CN.adapt.init({dragRaceWidth:[300,600],clickEvt:["click","click"]});CN.dart=(function(x,o,t){var H=x(window),K={},J=false,r={ad:{},params:{},charmap:{},container:"_frame",dcopt:true,frameurl:"/ads/newad.html",embed:false,initialized:false,ready:false,ord:Math.floor(Math.random()*10000000000000),remote:"/services/dart/",retry:false,site:"",tiles:[],tile:0,transparency:true,url:location.protocol+"//ad.doubleclick.net/adj/",zone:"",configFile:"/ads/cn.dartconfig.js",configLoaded:false,configData:{}},D=/kw=/g,k="CN Ad ",B={"true":{gen:"Success",call:"Request Fired",embed:"Set to Embedded Mode.  Operating with degraded feature-set.",queue:"Request Added to Queue",plug:"Plugin Registered",valid:"Plugin Action Passed Validation",finished:"All Plugins Finished Running.",drawing:"All Ads Have Completed Drawing",drawn:"Ad Drawn",config:"Config file found"},"false":{gen:"Error",call:"Request Aborted",embed:"Set to Iframe Mode. Good job.",queue:"Request Faled To Be Added to Queue",plug:"Plugin Skipped",valid:"Plugin Action Failed Validation",finished:"Plugins Still Running",drawing:"Ads Still Drawing",drawn:"Ad Failed To Draw",config:"Config file not found"}},w={mark:function(Q){this[Q]=(Q==="start")?(new Date()).getTime():(new Date()).getTime()-this.start}},j=x("<iframe/>").attr({allowtransparency:r.transparency,frameBorder:0,scrolling:"no"}).css({border:"none",margin:0,padding:0}),q=function(Q,R){return k+B[(R!==false).toString()][Q||"gen"]},A=function(R,Q){return r.url+r.site+"/"+(Q||R.zone||r.zone)+"sz="+R.sz+";tile="+R.tile+";"+(R.tile===1&&r.dcopt===true?"dcopt=ist;":"")+(!Q?h(R):"")+e(R)+"ord="+r.ord+"?"},e=function(R){var Q=r.params,S="",T;for(T in Q){if(Q.hasOwnProperty(T)){if(!Q[T].noKey){S+=T+"=";S+=(Q[T].refresh&&(R.kws.length!==r.ad.kws.length))?Q[T].refresh(R):Q[T].defaultValue}else{S=(Q[T].refresh&&(R.kws.length!==r.ad.kws.length))?Q[T].refresh(R):Q[T].defaultValue+S}}}return S},a=function(R,T){var S=R+T.sz,Q,U=K[S]={tile:r.tiles.push(S),el:x("#"+S+r.container),kws:c(r.ad.kws,i.kws(T.kws)||[]),store:T.store===false?false:r.ad.store,sz:T.sz,isDrawn:false,xkws:i.kws(T.kws)||[],zone:T.zone?i.adzone(T.zone):false,collapse:T.collapse===true};if(r.embed){v(S)}else{if(r.ready){if(!J){N()}}else{t.info(q("queue"),[S,U])}}return this},O=function(R,Q){var S=K[R],T=S.sz.split("x");S.url=A(S,Q);S.el.html(S.frame=j.clone().attr({id:R,name:R,height:S.collapse?1:T[1],width:T[0],src:S.url&&r.frameurl+"#"+encodeURIComponent(S.url)}).bind("load",{key:R,ad:S},function(U){if(U.data.ad.tile===1){H.trigger("CN.customEvents.dartAdDrawn",[R,"#"+R,S])}z(U)}));S.isDrawn=true;t.info(q("call"),[R,S]);return this},N=function(T){var S=0,R=r.tiles,Q=R.length;J=(Q>0);for(;S<Q;S++){if(K[R[S]].isDrawn===false){O(R[S]);if(S===0){break}}if(S===Q-1){J=false;w.mark("rendered")}}},I=function(Q){if(r.initialized){t.warn(k+"Initialization called more than once.  This should only happen once per page.");return false}F(Q)},d=function(Q){var R=(r.configLoaded&&r.configData.sponsorParameter)?r.configData.sponsorParameter:"kw";i.charmap(Q.charmap);r.initialized=true;r.site=Q.site;r.zone=i.adzone(Q.zone);r.ad={store:true,kws:o.url.params(R,location.search)?i.kws(o.url.params(R,location.search)):i.kws(Q.kws),tile:r.tile};if(r.configLoaded&&r.configData.docReferrer){G()}L();M.run();if(r.configLoaded&&r.configData.dartRefresh){u()}r.embed=(Q.embed||r.embed);if(r.embed){t.info(q("embed",true),[])}w.mark("init");t.info(k+"Initialized",[K]);H.bind("CN.customEvents.dartRequest",function(S){N(S)}).bind("CN.customEvents.dartAdDrawn",function(S){N(S)}).trigger("CN.customEvents.dartInitialized")},G=function(){var Q=document.referrer.match(/([^\/]+)/g)||[""],R=Q[Q.length-1];if(R){R=R.replace(/\?.*$/g,"").replace(".html","","gi");r.ad.kws[r.ad.kws.length]=""+i.kws(R)}},u=function(){var Q=(r.configData.dartRefreshTimeMsec||300000);setInterval(function(){o.dart.refresh();t.info(k+"Refreshed ",[])},Q);t.info(k+"Refresh Initialized to "+Q+"ms",[])},F=function(Q){x.ajax({url:r.configFile,dataType:"json",async:false,error:function(){t.info(q("config",false),[]);r.configLoaded=false},cache:true,success:function(R){C(R)},complete:function(){t.info(k+"dartConfig call complete",[]);d(Q)}})},C=function(Q){if(Q[o.site.name]){for(prop in Q[o.site.name]){r.configData[prop]=Q[o.site.name][prop]}r.configLoaded=true;t.info(k+"config file loaded successfully",[])}else{r.configLoaded=false;t.info(k+"Sitename not found in config file or refresh is disabled. Ads will not refresh",[])}},m=function(S,Q){var R=Q[S];return R===undefined?false:R},h=function(Q){return"kw="+Q.kws.join(";kw=")+";"+(Q.xkws.length?"!c="+Q.xkws.join(";!c=")+";":"")},z=function(T){var Q=T.data.key,R=K[Q];try{R.doc=R.frame.contents()}catch(S){t.user(T,[T.target,T.target.id])}t.info(q("drawn"),[Q,R]);p(T)},M={queue:[],register:function(Q){if(!Q||!Q.init||Q.isFinished===undefined||!Q.callbacks){t.info(q("plug",false),[Q?Q.name:"",Q||{}]);return false}this.queue.push(Q);t.info(q("plug"),[Q.name||"",Q]);H.unbind("CN.customEvents.dartInitialized");return true},run:function(){var S=0,R=this.queue.length,U=false,Q,T;for(;S<R;S++){Q=this.queue[S];t.info(k+"Running Plugin",[Q.name]);Q.init({queue:this.queue,position:S,plugin:Q})}},finished:function(U,T,V){var R=0,S=U.data,Q=S.queue.length,W=S.validate(V);t.info(q("valid",W),[T.name,V]);for(;R<Q;R++){if(S.queue[R].isFinished===false){t.info(q("finished",false),[T.name]);return false}}t.info(q("finished",true));f.call(o.dart)},validate:function(Q){var S=true,R;for(R in Q){if(Q.hasOwnProperty(R)){S=(i[R]&&i[R](Q[R])&&S)}}return S||false}},f=function(Q){r.ready=true;w.mark("ready");t.info(k+"Call State Set to Ready");H.trigger("CN.customEvents.dartRequest");return this},P=function(U,T){if(r.embed){return this}var W=U?U.toString().split(/,|\s+/):r.tiles,Q=W.length,X=o.isObject(T),S=0,R,V;r.ord=Math.floor(Math.random()*10000000000000);if(Q===r.tiles.length){x('script[id*="prscr"], .prWrap').remove()}for(;S<Q;S++){V=K[R=W[S]];if(V&&V.store){V.el.height("").height(V.el.height());V.isDrawn=false}}if(r.ready){H.trigger("CN.customEvents.dartRequest")}return this},p=function(V){var W=V.data&&V.data.key?K[V.data.key].frame:x(V.target),S=W.attr("name"),U=K[S],T=false,R,Q;if(U.doc){R=U.doc.find("body");Q=R.outerHeight();T=x(".textAd",R)}else{return this}if(T.length){T.clone().appendTo(U.el);T.remove()}if(Q===1){U.el.removeClass("ad-served").addClass("ad-not-served")}else{U.el.removeClass("ad-not-served").addClass("ad-served")}W.css({width:U.el.width(),height:R.outerHeight()});U.el.height("");H.trigger("CN.customEvents.dartResize."+S,[S,"#"+S,U]);t.info("CN Ad Frame Resize",[S,W.css("height")+" x "+W.css("width")])},n=function(U){var V=o.dart.get("tiles")[U-1],S=K[V],R,Q;try{S.doc=S.frame.contents()}catch(T){t.warn("Failed to retrieve iframe content (err.descr.): "+T.description)}if(S.doc){R=S.doc.find("body");Q=R.outerHeight()}else{return this}if(Q===1){S.el.removeClass("ad-served").addClass("ad-not-served")}else{S.el.removeClass("ad-not-served").addClass("ad-served")}S.frame.css({width:S.el.width(),height:Q});t.info("CN Ad Frame Recalculate Size",[V,S.frame.css("height")+" x "+S.frame.css("width")])},L=function(){var Q;for(Q in K){if(K.hasOwnProperty(Q)){K[Q].kws=c(r.ad.kws,K[Q].kws)}}},i=(function(){var Q=/([\?\+\\\^\$\*\.\(\)\[\]\|])/g,T=function(ab){if(o.site.testads){return r.site}var Z=ab.split("."),ac=r.site.split("."),aa=0,Y=ac.length>Z.length?ac.length:Z.length,X=[];for(;aa<Y;aa++){X[aa]=(Z[aa]||ac[aa])}return X.join(".")},S=/^https?:/,V=/;$|$/,W=new RegExp(o.site.testads?"testads;$":"[\\w_;]+$"),R=function(Y){var Z,X=r.charmap;if(W.test(Y)){for(Z in X){if(X.hasOwnProperty(Z)){Y=Y.replace(new RegExp(Z,"gi"),X[Z])}}return Y.replace(V,";")}t.warn("CN Dart zoneResolver",["Invalid Dart Zone",Y]);return Y},U=function(Y){var Z,X=r.charmap;for(Z in X){if(X.hasOwnProperty(Z)){Y=Y.replace(new RegExp(Z,"gi"),X[Z])}}return Y};return{ad:function(X){if(!X.kws){return false}else{r.ad.kws=jQuery.isArray(X.kws)?c(X.kws):r.ad.kws;L();return true}},addparam:function(aa){var Z,Y,X;if(!aa){return false}if(Object.prototype.toString.call(aa)==="[object Array]"){Y=aa}else{Y=[aa]}for(X=0;X<Y.length;X+=1){if(!Y[X].pKey){return false}Z={};Z.defaultValue=Y[X].pValue;Z.refresh=Y[X].refresh;Z.noKey=Y[X].noKey||false;r.params[Y[X].pKey]=Z}return true},charmap:function(Y){var Z,X=r.charmap={};for(Z in Y){if(Y.hasOwnProperty(Z)){X[Z.replace(Q,"\\$1")]=Y[Z]}}return true},dcopt:function(X){if(o.isBoolean(X)){r.dcopt=X;return true}else{return false}},embed:function(X){if(o.isBoolean(X)){r.embed=X;return true}else{return false}},site:function(X){r.site=T(X);return true},url:function(X){if(o.isString(X)){r.url=X.replace(S,location.protocol);return true}return false},zone:function(Y){var X=R(Y);if(X){r.zone=X;return true}return false},adzone:R,kws:function(Z){var Y=(Z)?[].concat(Z):[],aa=0,X=Y.length;for(;aa<X;aa++){Y[aa]=U(Y[aa])}return Y}}}()),c=function(){var R,T=0,S=[].concat.apply([],arguments).sort(),Q=S.length;for(;T<Q;T++){R=S.shift();if(S[0]!==R){S.push(R)}}return y(S.join(",")).split(",")},y=function(Q){return Q.replace(/^,|\s*|,^/g,"")},g={init:function(S,Q,R){if(!Q||r.initialized){t.info(k+"Remote Init error.  No calls will be made.",["site : "+S]);return this}r.frameurl=S+r.frameurl;r.remoteSite=S;r.remoteInit=S+r.remote+"init/"+Q+"/kw="+o.url.path().join(";kw=")+";"+R;l(r.remoteInit)}},v=function(R,Q){var S=K[R];t.info(q("call"),[R,S]);S.frame=false;l(S.url=A(S,Q));S.isDrawn=true;H.trigger("CN.customEvents.dartAdDrawn."+R,[R,"#"+R,S]);t.info(q("drawn"),[R,S]);return this},l=function(Q){document.write('<script type="text/javascript" src="'+Q+'"><\/script>')},E=function(Q){N(Q.data.key)},b=function(Q){N(Q.data.key,Q.data.url)},s=function(Q){N(Q.data.key)};H.one("CN.customEvents.dartInitialized",f);H.bind("CN.customEvents.dartPlugin",M,M.finished);w.mark("start");return{buildurl:A,calls:function(Q){return x.extend({},(Q===true?K:(o.isNumber(Q)?K[r.tiles[Q]]:K[Q]||{})))},call:a,timer:w,clone:function(R,Q){if(r.tiles.length){return a(Q,{sz:R,kws:K[r.tiles[0]].kws})}return false},refresh:P,get:function(T){T=[].concat(T);var S=0,Q=T.length,R={},U;for(;S<Q;S++){U=T[S];R[U]=(r[U]||r[U]===false?r[U]:undefined)}return Q>1?R:R[U]},init:I,ondraw:r.embed?false:z,ready:f,recalSize:n,register:function(S){var R=0,Q;if(!S){return this}S=[].concat(S);Q=S.length;for(;R<Q;R++){M.register(S[R])}return this},remote:g,test:i}}(jQuery,CN,CN.debug));CN.dart.ipad=(function(b){var a=".ipad",d=function(g){var f=0,e=c.callbacks.length;c.isFinished=true;jQuery(window).trigger("CN.customEvents.dartPlugin",[c,{site:CN.dart.get("site")+a}]);for(;f<e;f++){c.callbacks[f]["func"].apply((c.callbacks[f]["scope"]||null),(c.callbacks[f]["args"]||[]))}},c={init:b.indexOf("ipad")!==-1?d:false,name:"CN Ad User Agent Plugin",callbacks:[],isFinished:b.indexOf("ipad")===-1};return c}(navigator.userAgent.toLowerCase()));CN.dart.suppression=(function(){var b=CN.url.params(),a=false,d=function(g){var f=0,e=c.callbacks.length;c.isFinished=true;jQuery(window).trigger("CN.customEvents.dartPlugin",[c,a]);for(;f<e;f++){c.callbacks[f]["func"].apply((c.callbacks[f]["scope"]||null),(c.callbacks[f]["args"]||[]))}},c;if(b.npu==="1"||(b.mbid&&b.mbid.match(/yhoo|google[1-5]?$/))){a={dcopt:false}}c={init:a?d:false,name:"CN Ad Param-based Modifiers",callbacks:[],isFinished:!a};return c}());CN.dart.register([CN.dart.ipad,CN.dart.suppression]);if(typeof CN==="undefined"||!CN){throw ("CN and/or jQuery library is missing!")}CN.ad=CN.ad||{};CN.ad.topics=(function(f,a){var b={name:"cn_adtopic",options:{domain:CN.url.domain(),path:"/"},check:function(){return f.cookie.get(b.name)},read:function(){var g=b.check();return g!==""?CN.utils.parseStr(g,"usercookie"):false},remove:function(){f.cookie.del(b.name,b.options)},write:function(g){f.cookie.set(b.name,"zone="+(g.zone||"")+"|site="+(g.site||"")+(g.ad&&g.ad.kws?"|kws="+g.ad.kws.join(","):""),b.options)}},c=function(h){var g=function(){b.write(CN.dart.get(["site","zone","ad"]))};if(CN.dart.get("initialized")){g()}else{jQuery(window).bind("CN.customEvents.dartInitialized",g)}e(h.plugin,{})},d=function(i){var h=b.read(),g={};if(!h){return false}g={site:h.site,zone:h.zone};if(h.kws){g.ad={kws:h.kws.split(",")}}b.remove();e(i.plugin,g)},e=function(k,h){var j=0,g=k.callbacks.length;k.isFinished=true;jQuery(window).trigger("CN.customEvents.dartPlugin",[k,h]);for(;j<g;j++){k.callbacks[j]["func"].apply((k.callbacks[j]["scope"]||null),(k.callbacks[j]["args"]||[]))}};return{setTopic:c,getTopic:d,plugin:function(g){if(g){return{init:c,name:"CN Ad Topics :: Store Cookie",callbacks:[],isFinished:false}}if(b.check()){return{init:d,name:"CN Ad Topics :: Read Cookie",callbacks:[],isFinished:false}}return{init:false,name:"CN Ad Topics :: no action required"}}}}(CN,CN.ad));CN.ad.kwExtend=(function(d){var b=false,c=function(f){e(f.plugin,{ad:{kws:(d.get("ad").kws||[]).concat(b)}})},e=function(j,g){var h=0,f=j.callbacks.length;j.isFinished=true;jQuery(window).trigger("CN.customEvents.dartPlugin",[j,g]);for(;h<f;h++){j.callbacks[h]["func"].apply((j.callbacks[h]["scope"]||null),(j.callbacks[h]["args"]||[]))}},a=function(g){var f=0;if(CN.isString(g)){b=g.split(",");for(;f<b.length;f++){b[f]=CN.utils.trim(CN.utils.transliterate(b[f])).replace(/\W/g,"-").toLowerCase()}}return{init:b&&b.length?c:false,name:"CN Ad Keyword extension plug-in",callbacks:[],isFinished:b&&b.length?false:true}};return{plugin:a}}(CN.dart));if(typeof CN==="undefined"||!CN){throw ("CN and/or jQuery library is missing!")}CN.ad=CN.ad||{};CN.ad.lotame=(function(f,r,q){var l=false,m=location.protocol||"http:",j=800,e="|",k=CN.site.name||location.hostname.split(".").splice(-2)[0],o={allure:293,architecturaldigest:294,bonappetit:295,brides:296,concierge:297,details:298,"epicurious.com":299,glamour:300,golfdigest:301,gourmet:973,gq:302,luckymag:303,newyorker:304,nutritiondata:306,self:306,style:307,teenvogue:308,vanityfair:309,vogue:310,wmagazine:311,wired:312,webmonkey:318,wwd:1390},a=o[k]?o[k]:false,g=[m+"//ad.crwdcntrl.net/4/pe=y","c=244","var=CN.ad.lotame.tags","out=json"].join(e),c=a?[m+"//tags.crwdcntrl.net/c/","/cc.js"].join(a):false,h=function(){f.ajax({url:g,dataType:"script",timeout:j,error:function(u,v){i(false);q.info(d.name+" plugin disabled",["script "+v,"using site code "+a])},cache:true,success:function(t){l=true;n()},complete:function(){q.info(d.name+" cc call complete")}});return true},s=function(){var t;if(!a){return false}if(typeof LOTCC==="undefined"){LOTCC={asyncBehaviors:{},async:true}}t=document.createElement("script");t.src=c;f(function(){f("head",document)[0].appendChild(t)});return true},p=function(t){h();setTimeout(function(){if(!d.isFinished&&!l){n()}},5000)},i=function(u){var v=0,t=d.callbacks.length;d.isFinished=true;f(window).trigger("CN.customEvents.dartPlugin",[d,u]);for(;v<t;v++){d.callbacks[v]["func"].apply((d.callbacks[v]["scope"]||null),(d.callbacks[v]["args"]||[]))}},n=function(){var w=0,t,x,v=[],u=CN.ad.lotame.tags;if(!u){q.warn("Lotame Request Timed Out",["Setting plugin to finished to procceed to render ads"]);return i(false)}if(u.Profile){x=u.Profile.Audiences.Audience;t=x.length;for(;w<t;w++){v.push(x[w].abbr)}}i({ad:{kws:r.get("ad").kws.concat(v)}})},d={init:p,name:"CN Ad Lotame Audience kws",modifies:["keywords"],requires:[],callbacks:[],isFinished:false},b=function(){r.register(d)};if(!a){q.error(d.name+" missing code for this site.  Verify the site is in the list.",[o]);return false}b();s();return{tags:false}}(jQuery,CN.dart,CN.debug));if(typeof CN==="undefined"||!CN){throw ("CN and/or jQuery library is missing!")}CN.ad=CN.ad||{};CN.ad.yieldex=(function(e,h,g){var a=294,k=function(q){var n=null,m=q.queue,o=m.length-1,p=function(){c.pValue=j();d({addparam:c})};for(;o>=0;o--){n=m[o];if(n!==f&&l(n)){g.info(f.name+" found dependency: "+n.name,["Pushing to callbacks array"]);if(!n.isFinished){return n.callbacks.push({func:p,args:null,scope:null})}}}p()},j=function(n){var m=h.get("ad").kws,p=(typeof n!=="undefined")?n.kws:m,o;if(m.length!==p.length){o=p.join("|")}else{o=m.join("|")}g.info(f.name+" assembled",[{common:m,ad:p,value:o}]);return((o.length<=a)?o:b(o))+";"},c={pKey:"u",pValue:null,refresh:j},b=function(m){var n;g.info(f.name+" limit reached.  Truncating",[{limit:a,length:m.length,str:m}]);m=("trunc|"+m).substr(0,a-6);n=m.lastIndexOf("|");return m.substr(0,n)},l=function(m){var o=0,n=m.modifies,p=f.requires,q=null;if(n&&n.length&&p&&p.length){for(;o<p.length;o++){q=p[o];if(n.indexOf(q)!==-1){return true}}}return false},d=function(n){var o=0,m=f.callbacks.length;f.isFinished=true;e(window).trigger("CN.customEvents.dartPlugin",[f,n]);for(;o<m;o++){f.callbacks[o]["func"].apply((f.callbacks[o]["scope"]||null),(f.callbacks[o]["args"]||[]))}},f={init:k,name:"CN Ad Yieldex",modifies:["common.params"],requires:["keywords"],callbacks:[],isFinished:false},i=function(){h.register(f)};i(f);return{param:c}}(jQuery,CN.dart,CN.debug));if(typeof CN==="undefined"||!CN){throw ("CN and/or jQuery library is missing!")}CN.ad=CN.ad||{};CN.ad.aam=(function(f,i,h){var a=294,d="aam_uuid",c="aamconde",q={pKey:"u",pValue:null,refresh:l},o={pKey:"aamVals",pValue:null,refresh:m,noKey:true},b=function(r){var s;h.info(g.name+" limit reached.  Truncating",[{limit:a,length:r.length,str:r}]);r=("trunc|"+r).substr(0,a-6);s=r.lastIndexOf("|");return r.substr(0,s)+";"},l=function(t){var u=i.get("params")["u"].defaultValue,r="",s={};r=CN.cookie.get(d);if(r!==""&&u.indexOf(r)===-1){u=r+"|"+u}return((u.length<=a)?u:b(u))},m=function(s){var r="",t="";r=CN.cookie.get(c);if(r!==""){t=r+";"}return t},k=function(r){q.pValue=l(r);o.pValue=m(r);h.info(g.name+" assembled",[{uvalue:q.pValue,aamskw:o.pValue}])},p=function(r){var t=0,s=r.modifies,u=g.requires,v=null;if(s&&s.length&&u&&u.length){for(t=0;t<u.length;t+=1){v=u[t];if(s.indexOf(v)!==-1||v===r.name){return true}}}return false},e=function(s){var t=0,r=g.callbacks.length;g.isFinished=true;f(window).trigger("CN.customEvents.dartPlugin",[g,s]);for(t=0;t<r;t+=1){g.callbacks[t]["func"].apply((g.callbacks[t]["scope"]||null),(g.callbacks[t]["args"]||[]))}},n=function(v){var s=null,r=v.queue,t=r.length-1,u=function(){k();e({addparam:[o,q]})};for(t=r.length-1;t>=0;t-=1){s=r[t];if(s!==g&&p(s)){h.info(g.name+" found dependency: "+s.name,["Pushing to callbacks array"]);if(!s.isFinished){return s.callbacks.push({func:u,args:null,scope:null})}}}u()},g={init:n,name:"CN Ad Adobe Audience Manager",modifies:["common.params"],requires:["CN Ad Yieldex"],callbacks:[],isFinished:false},j=function(){i.register(g)};j(g)}(jQuery,CN.dart,CN.debug));