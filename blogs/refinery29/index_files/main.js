function stopEvent(e){if(!e)var e=window.event;return e.cancelBubble=!0,e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),!1}var requirejs,require,define;!function(Z){function H(e){return"[object Function]"===L.call(e)}function I(e){return"[object Array]"===L.call(e)}function y(e,t){if(e){var n;for(n=0;n<e.length&&(!e[n]||!t(e[n],n,e));n+=1);}}function M(e,t){if(e){var n;for(n=e.length-1;n>-1&&(!e[n]||!t(e[n],n,e));n-=1);}}function t(e,t){return ga.call(e,t)}function l(e,n){return t(e,n)&&e[n]}function F(e,n){for(var i in e)if(t(e,i)&&n(e[i],i))break}function Q(e,n,i,o){return n&&F(n,function(n,r){(i||!t(e,r))&&(o&&"string"!=typeof n?(e[r]||(e[r]={}),Q(e[r],n,i,o)):e[r]=n)}),e}function u(e,t){return function(){return t.apply(e,arguments)}}function aa(e){throw e}function ba(e){if(!e)return e;var t=Z;return y(e.split("."),function(e){t=t[e]}),t}function A(e,t,n,i){return t=Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e),t.requireType=e,t.requireModules=i,n&&(t.originalError=n),t}function ha(e){function n(e,t,n){var i,o,r,a,s,d,c,u=t&&t.split("/");i=u;var h=k.map,f=h&&h["*"];if(e&&"."===e.charAt(0))if(t){for(i=l(k.pkgs,t)?u=[t]:u.slice(0,u.length-1),t=e=i.concat(e.split("/")),i=0;t[i];i+=1)if(o=t[i],"."===o)t.splice(i,1),i-=1;else if(".."===o){if(1===i&&(".."===t[2]||".."===t[0]))break;i>0&&(t.splice(i-1,2),i-=2)}i=l(k.pkgs,t=e[0]),e=e.join("/"),i&&e===t+"/"+i.main&&(e=t)}else 0===e.indexOf("./")&&(e=e.substring(2));if(n&&h&&(u||f)){for(t=e.split("/"),i=t.length;i>0;i-=1){if(r=t.slice(0,i).join("/"),u)for(o=u.length;o>0;o-=1)if((n=l(h,u.slice(0,o).join("/")))&&(n=l(n,r))){a=n,s=i;break}if(a)break;!d&&f&&l(f,r)&&(d=l(f,r),c=i)}!a&&d&&(a=d,s=c),a&&(t.splice(0,s,a),e=t.join("/"))}return e}function i(e){z&&y(document.getElementsByTagName("script"),function(t){return t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===_.contextName?(t.parentNode.removeChild(t),!0):void 0})}function o(e){var t=l(k.paths,e);return t&&I(t)&&1<t.length?(t.shift(),_.require.undef(e),_.require([e]),!0):void 0}function r(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function a(e,t,i,o){var a,s,d=null,c=t?t.name:null,u=e,h=!0,f="";return e||(h=!1,e="_@r"+(q+=1)),e=r(e),d=e[0],e=e[1],d&&(d=n(d,c,o),s=l(D,d)),e&&(d?f=s&&s.normalize?s.normalize(e,function(e){return n(e,c,o)}):n(e,c,o):(f=n(e,c,o),e=r(f),d=e[0],f=e[1],i=!0,a=_.nameToUrl(f))),i=!d||s||i?"":"_unnormalized"+($+=1),{prefix:d,name:f,parentMap:t,unnormalized:!!i,url:a,originalName:u,isDefine:h,id:(d?d+"!"+f:f)+i}}function s(e){var t=e.id,n=l(C,t);return n||(n=C[t]=new _.Module(e)),n}function d(e,n,i){var o=e.id,r=l(C,o);!t(D,o)||r&&!r.defineEmitComplete?(r=s(e),r.error&&"error"===n?i(r.error):r.on(n,i)):"defined"===n&&i(D[o])}function c(e,t){var n=e.requireModules,i=!1;t?t(e):(y(n,function(t){(t=l(C,t))&&(t.error=e,t.events.error&&(i=!0,t.emit("error",e)))}),i||j.onError(e))}function h(){R.length&&(ia.apply(N,[N.length-1,0].concat(R)),R=[])}function f(e){delete C[e],delete E[e]}function p(e,t,n){var i=e.map.id;e.error?e.emit("error",e.error):(t[i]=!0,y(e.depMaps,function(i,o){var r=i.id,a=l(C,r);a&&!e.depMatched[o]&&!n[r]&&(l(t,r)?(e.defineDep(o,D[r]),e.check()):p(a,t,n))}),n[i]=!0)}function m(){var e,t,n,r,a=(n=1e3*k.waitSeconds)&&_.startTime+n<(new Date).getTime(),s=[],l=[],d=!1,u=!0;if(!b){if(b=!0,F(E,function(n){if(e=n.map,t=e.id,n.enabled&&(e.isDefine||l.push(n),!n.error))if(!n.inited&&a)o(t)?d=r=!0:(s.push(t),i(t));else if(!n.inited&&n.fetched&&e.isDefine&&(d=!0,!e.prefix))return u=!1}),a&&s.length)return n=A("timeout","Load timeout for modules: "+s,null,s),n.contextName=_.contextName,c(n);u&&y(l,function(e){p(e,{},{})}),a&&!r||!d||!z&&!da||T||(T=setTimeout(function(){T=0,m()},50)),b=!1}}function g(e){t(D,e[0])||s(a(e[0],null,!0)).init(e[1],e[2])}function v(e){var e=e.currentTarget||e.srcElement,t=_.onScriptLoad;return e.detachEvent&&!W?e.detachEvent("onreadystatechange",t):e.removeEventListener("load",t,!1),t=_.onScriptError,(!e.detachEvent||W)&&e.removeEventListener("error",t,!1),{node:e,id:e&&e.getAttribute("data-requiremodule")}}function w(){var e;for(h();N.length;){if(e=N.shift(),null===e[0])return c(A("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));g(e)}}var b,S,_,x,T,k={waitSeconds:7,baseUrl:"./",paths:{},pkgs:{},shim:{},config:{}},C={},E={},M={},N=[],D={},L={},q=1,$=1;return x={require:function(e){return e.require?e.require:e.require=_.makeRequire(e.map)},exports:function(e){return e.usingExports=!0,e.map.isDefine?e.exports?e.exports:e.exports=D[e.map.id]={}:void 0},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){var t=l(k.pkgs,e.map.id);return(t?l(k.config,e.map.id+"/"+t.main):l(k.config,e.map.id))||{}},exports:D[e.map.id]}}},S=function(e){this.events=l(M,e.id)||{},this.map=e,this.shim=l(k.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},S.prototype={init:function(e,t,n,i){i=i||{},this.inited||(this.factory=t,n?this.on("error",n):this.events.error&&(n=u(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=n,this.inited=!0,this.ignore=i.ignore,i.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,_.startTime=(new Date).getTime();var e=this.map;if(!this.shim)return e.prefix?this.callPlugin():this.load();_.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],u(this,function(){return e.prefix?this.callPlugin():this.load()}))}},load:function(){var e=this.map.url;L[e]||(L[e]=!0,_.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var e,t,n=this.map.id;t=this.depExports;var i=this.exports,o=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,1>this.depCount&&!this.defined){if(H(o)){if(this.events.error&&this.map.isDefine||j.onError!==aa)try{i=_.execCb(n,o,t,i)}catch(r){e=r}else i=_.execCb(n,o,t,i);if(this.map.isDefine&&((t=this.module)&&void 0!==t.exports&&t.exports!==this.exports?i=t.exports:void 0===i&&this.usingExports&&(i=this.exports)),e)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",c(this.error=e)}else i=o;this.exports=i,this.map.isDefine&&!this.ignore&&(D[n]=i,j.onResourceLoad)&&j.onResourceLoad(_,this.map,this.depMaps),f(n),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var e=this.map,i=e.id,o=a(e.prefix);this.depMaps.push(o),d(o,"defined",u(this,function(o){var r,h;h=this.map.name;var p=this.map.parentMap?this.map.parentMap.name:null,m=_.makeRequire(e.parentMap,{enableBuildCallback:!0});this.map.unnormalized?(o.normalize&&(h=o.normalize(h,function(e){return n(e,p,!0)})||""),o=a(e.prefix+"!"+h,this.map.parentMap),d(o,"defined",u(this,function(e){this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),(h=l(C,o.id))&&(this.depMaps.push(o),this.events.error&&h.on("error",u(this,function(e){this.emit("error",e)})),h.enable())):(r=u(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),r.error=u(this,function(e){this.inited=!0,this.error=e,e.requireModules=[i],F(C,function(e){0===e.map.id.indexOf(i+"_unnormalized")&&f(e.map.id)}),c(e)}),r.fromText=u(this,function(n,o){var l=e.name,d=a(l),u=O;o&&(n=o),u&&(O=!1),s(d),t(k.config,i)&&(k.config[l]=k.config[i]);try{j.exec(n)}catch(h){return c(A("fromtexteval","fromText eval for "+i+" failed: "+h,h,[i]))}u&&(O=!0),this.depMaps.push(d),_.completeLoad(l),m([l],r)}),o.load(e.name,m,r,k))})),_.enable(o,this),this.pluginMaps[o.id]=o},enable:function(){E[this.map.id]=this,this.enabling=this.enabled=!0,y(this.depMaps,u(this,function(e,n){var i,o;if("string"==typeof e){if(e=a(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[n]=e,i=l(x,e.id))return this.depExports[n]=i(this),void 0;this.depCount+=1,d(e,"defined",u(this,function(e){this.defineDep(n,e),this.check()})),this.errback&&d(e,"error",u(this,this.errback))}i=e.id,o=C[i],!t(x,i)&&o&&!o.enabled&&_.enable(e,this)})),F(this.pluginMaps,u(this,function(e){var t=l(C,e.id);t&&!t.enabled&&_.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var n=this.events[e];n||(n=this.events[e]=[]),n.push(t)},emit:function(e,t){y(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},_={config:k,contextName:e,registry:C,defined:D,urlFetched:L,defQueue:N,Module:S,makeModuleMap:a,nextTick:j.nextTick,onError:c,configure:function(e){e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/");var t=k.pkgs,n=k.shim,i={paths:!0,config:!0,map:!0};F(e,function(e,t){i[t]?"map"===t?(k.map||(k.map={}),Q(k[t],e,!0,!0)):Q(k[t],e,!0):k[t]=e}),e.shim&&(F(e.shim,function(e,t){I(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=_.makeShimExports(e)),n[t]=e}),k.shim=n),e.packages&&(y(e.packages,function(e){e="string"==typeof e?{name:e}:e,t[e.name]={name:e.name,location:e.location||e.name,main:(e.main||"main").replace(ja,"").replace(ea,"")}}),k.pkgs=t),F(C,function(e,t){!e.inited&&!e.map.unnormalized&&(e.map=a(t))}),(e.deps||e.callback)&&_.require(e.deps||[],e.callback)},makeShimExports:function(e){return function(){var t;return e.init&&(t=e.init.apply(Z,arguments)),t||e.exports&&ba(e.exports)}},makeRequire:function(o,r){function d(n,i,l){var u,h;return r.enableBuildCallback&&i&&H(i)&&(i.__requireJsBuild=!0),"string"==typeof n?H(i)?c(A("requireargs","Invalid require call"),l):o&&t(x,n)?x[n](C[o.id]):j.get?j.get(_,n,o,d):(u=a(n,o,!1,!0),u=u.id,t(D,u)?D[u]:c(A("notloaded",'Module name "'+u+'" has not been loaded yet for context: '+e+(o?"":". Use require([])")))):(w(),_.nextTick(function(){w(),h=s(a(null,o)),h.skipMap=r.skipMap,h.init(n,i,l,{enabled:!0}),m()}),d)}return r=r||{},Q(d,{isBrowser:z,toUrl:function(e){var t,i=e.lastIndexOf("."),r=e.split("/")[0];return-1!==i&&("."!==r&&".."!==r||i>1)&&(t=e.substring(i,e.length),e=e.substring(0,i)),_.nameToUrl(n(e,o&&o.id,!0),t,!0)},defined:function(e){return t(D,a(e,o,!1,!0).id)},specified:function(e){return e=a(e,o,!1,!0).id,t(D,e)||t(C,e)}}),o||(d.undef=function(e){h();var t=a(e,o,!0),n=l(C,e);i(e),delete D[e],delete L[t.url],delete M[e],n&&(n.events.defined&&(M[e]=n.events),f(e))}),d},enable:function(e){l(C,e.id)&&s(e).enable()},completeLoad:function(e){var n,i,r=l(k.shim,e)||{},a=r.exports;for(h();N.length;){if(i=N.shift(),null===i[0]){if(i[0]=e,n)break;n=!0}else i[0]===e&&(n=!0);g(i)}if(i=l(C,e),!n&&!t(D,e)&&i&&!i.inited){if(k.enforceDefine&&(!a||!ba(a)))return o(e)?void 0:c(A("nodefine","No define call for "+e,null,[e]));g([e,r.deps||[],r.exportsFn])}m()},nameToUrl:function(e,t,n){var i,o,r,a,s,d;if(j.jsExtRegExp.test(e))a=e+(t||"");else{for(i=k.paths,o=k.pkgs,a=e.split("/"),s=a.length;s>0;s-=1){if(d=a.slice(0,s).join("/"),r=l(o,d),d=l(i,d)){I(d)&&(d=d[0]),a.splice(0,s,d);break}if(r){e=e===r.name?r.location+"/"+r.main:r.location,a.splice(0,s,e);break}}a=a.join("/"),a+=t||(/^data\:|\?/.test(a)||n?"":".js"),a=("/"===a.charAt(0)||a.match(/^[\w\+\.\-]+:/)?"":k.baseUrl)+a}return k.urlArgs?a+((-1===a.indexOf("?")?"?":"&")+k.urlArgs):a},load:function(e,t){j.load(_,e,t)},execCb:function(e,t,n,i){return t.apply(i,n)},onScriptLoad:function(e){("load"===e.type||ka.test((e.currentTarget||e.srcElement).readyState))&&(P=null,e=v(e),_.completeLoad(e.id))},onScriptError:function(e){var t=v(e);return o(t.id)?void 0:c(A("scripterror","Script error for: "+t.id,e,[t.id]))}},_.require=_.makeRequire(),_}var j,w,x,C,J,D,P,K,q,fa,la=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,ma=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,ea=/\.js$/,ja=/^\.\//;w=Object.prototype;var L=w.toString,ga=w.hasOwnProperty,ia=Array.prototype.splice,z=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),da=!z&&"undefined"!=typeof importScripts,ka=z&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,W="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),E={},s={},R=[],O=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(H(requirejs))return;s=requirejs,requirejs=void 0}"undefined"!=typeof require&&!H(require)&&(s=require,require=void 0),j=requirejs=function(e,t,n,i){var o,r="_";return!I(e)&&"string"!=typeof e&&(o=e,I(t)?(e=t,t=n,n=i):e=[]),o&&o.context&&(r=o.context),(i=l(E,r))||(i=E[r]=j.s.newContext(r)),o&&i.configure(o),i.require(e,t,n)},j.config=function(e){return j(e)},j.nextTick="undefined"!=typeof setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require||(require=j),j.version="2.1.9",j.jsExtRegExp=/^\/|:|\?|\.js$/,j.isBrowser=z,w=j.s={contexts:E,newContext:ha},j({}),y(["toUrl","undef","defined","specified"],function(e){j[e]=function(){var t=E._;return t.require[e].apply(t,arguments)}}),z&&(x=w.head=document.getElementsByTagName("head")[0],C=document.getElementsByTagName("base")[0])&&(x=w.head=C.parentNode),j.onError=aa,j.createNode=function(e){var t=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return t.type=e.scriptType||"text/javascript",t.charset="utf-8",t.async=!0,t},j.load=function(e,t,n){var i=e&&e.config||{};if(z)return i=j.createNode(i,t,n),i.setAttribute("data-requirecontext",e.contextName),i.setAttribute("data-requiremodule",t),!i.attachEvent||i.attachEvent.toString&&0>i.attachEvent.toString().indexOf("[native code")||W?(i.addEventListener("load",e.onScriptLoad,!1),i.addEventListener("error",e.onScriptError,!1)):(O=!0,i.attachEvent("onreadystatechange",e.onScriptLoad)),i.src=n,K=i,C?x.insertBefore(i,C):x.appendChild(i),K=null,i;if(da)try{importScripts(n),e.completeLoad(t)}catch(o){e.onError(A("importscripts","importScripts failed for "+t+" at "+n,o,[t]))}},z&&!s.skipDataMain&&M(document.getElementsByTagName("script"),function(e){return x||(x=e.parentNode),(J=e.getAttribute("data-main"))?(q=J,s.baseUrl||(D=q.split("/"),q=D.pop(),fa=D.length?D.join("/")+"/":"./",s.baseUrl=fa),q=q.replace(ea,""),j.jsExtRegExp.test(q)&&(q=J),s.deps=s.deps?s.deps.concat(q):[q],!0):void 0}),define=function(e,t,n){var i,o;"string"!=typeof e&&(n=t,t=e,e=null),I(t)||(n=t,t=null),!t&&H(n)&&(t=[],n.length&&(n.toString().replace(la,"").replace(ma,function(e,n){t.push(n)}),t=(1===n.length?["require"]:["require","exports","module"]).concat(t))),O&&((i=K)||(P&&"interactive"===P.readyState||M(document.getElementsByTagName("script"),function(e){return"interactive"===e.readyState?P=e:void 0}),i=P),i&&(e||(e=i.getAttribute("data-requiremodule")),o=E[i.getAttribute("data-requirecontext")])),(o?o.defQueue:R).push([e,t,n])},define.amd={jQuery:!0},j.exec=function(b){return eval(b)},j(s)}}(this),define("lib/require-2.1.9.min",function(){}),window.log=function(){log.history=log.history||[],log.history.push(arguments),this.console&&console.log(Array.prototype.slice.call(arguments))},function(e){function t(){}for(var n,i="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profileEnd,time,timeEnd,trace,warn".split(",");n=i.pop();)e[n]=e[n]||t}(window.console=window.console||{}),define("plugins",function(){}),define("r29/r29.cookie",["jquery"],function(){function e(){return domain=(m=document.domain.match(/\.(refinery29\.com|stage\.refinery29\.net|refinery29\.net|rf29\.net)$/))?m[0]:document.domain}function t(t,n,i,o){var r,a,s;-1==i&&(a=new Date,i=a.getTime()+3e11),r="",i&&(a=new Date,a.setTime(a.getTime()+1e3*i),r="; expires="+a.toGMTString()),s=o||e(),document.cookie=t+"="+n+r+";path=/;domain="+s+";"}function n(e){for(var t=e+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var o=n[i];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return null}function i(e){t(e,"",-1)}return{getDomain:e,set:t,get:n,remove:i}}),define("r29/r29.events",[],function(){function e(e,t){return this.channels[e]||(this.channels[e]=[]),this.channels[e].push({context:this,callback:t}),this}function t(e){if(!this.channels[e])return!1;for(var t=Array.prototype.slice.call(arguments,1),n=0,i=this.channels[e].length;i>n;n++){var o=this.channels[e][n];o.callback.apply(o.context,t)}return this}function n(e){"undefined"!=typeof this.channels[e]&&delete this.channels[e]}return{channels:{},publish:t,subscribe:e,unsubscribe:n,installTo:function(e){e.subscribe=subscribe,e.publish=publish}}}),define("r29/r29.facebook",["jquery","r29/r29.events"],function(e,t){function n(){d=!0,t.publish("FB_SDK_LOADED")}function i(e){t.publish("FB_LOGIN_RESPONSE",e),"undefined"!=typeof e&&"undefined"!=typeof e.status&&"connected"==e.status&&(h=e,FB.api("/me",o))}function o(e){u=e,u.auth=h.authResponse,t.publish("FB_USER_CONNECTED",u)}function r(e){return("unknown"===e.status||null===e.authResponse)&&t.publish("FB_USER_LOGGED_OUT"),!1}function a(n,i){var o=i.attributes.ref?i.attributes.ref.value:"";switch(o){case"facebook-overlay":t.publish("GOOGLE_TRACK_EVENT",{category:"Facebook Acquisition",action:"Main",label:"Source Overlay Like",value:void 0,noninteraction:!0});break;case"fb-loyal-overlay":t.publish("GOOGLE_TRACK_EVENT",{category:"Facebook Acquisition",action:"Main",label:"Loyal Overlay Like",value:void 0,noninteraction:!0});break;case"fb-beauty-overlay":t.publish("GOOGLE_TRACK_EVENT",{category:"Facebook Acquisition",action:"Beauty Facebook Page",label:"Overlay Like",value:void 0,noninteraction:!0});break;case"fb-fashion-overlay":t.publish("GOOGLE_TRACK_EVENT",{category:"Facebook Acquisition",action:"Fashion Facebook Page",label:"Overlay Like",value:void 0,noninteraction:!0});break;case"social-score-bar":$social_score=e(".module-article-full .social-score").length?e(".module-article-full .social-score"):e(".slideshow-social-score").last(),t.publish("GOOGLE_TRACK_EVENT",{category:"Facebook Share Location",action:"Desktop - "+$social_score.data("entry-location"),label:"Social Scores Bar"}),t.publish("GOOGLE_TRACK_EVENT",{category:"Facebook Content by Category",action:$social_score.data("entry-category"),label:$social_score.data("smart-basename")});break;case"social-widget-button":t.publish("GOOGLE_TRACK_EVENT",{category:"Facebook Acquisition",action:"Main Facebook Page",label:"Social Widget Button"});break;case"inline-page-main":t.publish("GOOGLE_TRACK_EVENT",{category:"Facebook Acquisition",action:"Main Facebook Page",label:"Inline Page Like"});break;case"inline-page-fashion":t.publish("GOOGLE_TRACK_EVENT",{category:"Facebook Acquisition",action:"Fashion Facebook Page",label:"Inline Page Like"});break;case"inline-page-beauty":t.publish("GOOGLE_TRACK_EVENT",{category:"Facebook Acquisition",action:"Beauty Facebook Page",label:"Inline Page Like"});break;case"sweeps-r29":"facebook-simple"!=environment.template&&"instory"!=environment.template&&"flexible"!=environment.template||"signup"!=environment.step||t.publish("GOOGLE_TRACK_EVENT",{category:"Sweepstakes Sharing",action:environment.sweeps_brand_name,label:"Facebook Page Likes"});break;case"sweeps-brand":"facebook-simple"!=environment.template&&"instory"!=environment.template&&"flexible"!=environment.template||"signup"!=environment.step||t.publish("GOOGLE_TRACK_EVENT",{category:"Sweepstakes Sharing",action:environment.sweeps_brand_name,label:"Facebook Brand Page Likes"});break;case"rsvp-thanks":t.publish("GOOGLE_TRACK_EVENT",{category:"Facebook Acquisition",action:"Main Facebook Page",label:"RSVP Like"});break;case"stalker-bar":t.publish("STALKER_BAR_FACEBOOK_LIKED"),t.publish("GOOGLE_TRACK_EVENT",{category:"Facebook Acquisition",action:"Main Facebook Page",label:"Pushdown Like"});break;case"ARTICLE":t.publish("GOOGLE_TRACK_EVENT",{category:"Facebook Share Location",action:"Desktop ARTICLE",label:"Beneath By-Line Bar Like"});break;case"SLIDESHOW":t.publish("GOOGLE_TRACK_EVENT",{category:"Facebook Share Location",action:"Desktop SLIDESHOW",label:"Beneath By-Line Bar Like"})}t.publish("FB_EDGE_CREATED",n)}var s="FACEBOOK",l={},d=!1,c=!1,u={},h=null;return{type:s,load:function(o){return void 0!=typeof o&&(l=o),d?(FB.init(l),FB.getLoginStatus(i)):(window.fbAsyncInit=function(){FB.init(o),FB.getLoginStatus(i),c=!0,t.publish("FACEBOOK_INITIALIZED")},e.getScript("//connect.facebook.net/en_US/all.js",n)),this},logout:function(){FB.logout(r)},registerEvent:function(e){var t;switch(e){case"auth.login":case"auth.statusChange":case"auth.authResponseChange":t=i;break;case"edge.create":t=a}FB.Event.subscribe(e,t)},getLoginStatus:function(){FB.getLoginStatus(i)},getUser:function(){return u},hasLoaded:function(){return d},hasInitialized:function(){return c}}}),define("r29/r29.user",["r29/r29.cookie"],function(e){function t(){var t,n;return t=e.get("testing_code"),t?t:(n=Math.random(),e.set("testing_code",n),n)}function n(){o()}function o(){var t=R29.url.param.getUTM();if("undefined"!=typeof t.utm_source&&t.utm_source){for(i in t){var n="trk_"+i;e.set(n,t[i],-1)}return!0}}function r(){var t=["utm_source","utm_medium","utm_content","utm_name","utm_campaign","utm_term"],n={};for(i in t){var o="trk_"+t[i];n[t[i]]=e.get(o)}return n}function a(t){return"undefined"==typeof t?t=e.get("session29"):e.set("auth_token",t)}return{init:n,testing_code:t,setSource:o,getSource:r,token:a}}),define("r29/r29.api",["jquery","r29/r29.events","r29/r29.user"],function(e,t,n){function i(){document.domain.match(/\.refinery29\.com$/)?(v=!1,g=document.location.protocol+"//api.refinery29.com"):(m=document.domain.match(/(([a-z0-9]+)\.)?(dev|local|stage).(refinery29\.net|rf29\.net)$/))?(v=!1,domain="."+m[2]+"."+m[3]+"."+m[4],g=document.location.protocol+"//api"+domain):(v=!0,g=document.location.protocol+"//api.refinery29.com")}function o(t,n,i,o,r,a){"undefined"==typeof a&&(a=[]),"undefined"==typeof a.cache&&(a.cache=!1),"undefined"==typeof a.isRemote&&(a.isRemote=v),"undefined"==typeof r&&(r=function(){});var s="json",l=p+t,d=o,c=r;return 1==a.isRemote?(s="jsonp",l=g+t,i.method=n,n="GET",c=function(){},d=function(e){"OK"==e.status?o(e.result):r(e.code,e.message)}):c=function(e){return r(jQuery.parseJSON(e.responseText))},e.ajax({url:l,data:i,cache:a.cache,type:n,success:d,error:c,dataType:s})}function r(e){return o(e.url,"POST",e.data,e.cb,e.cb_err)}function a(e,t,n,i,r,a){return o(e,"GET",t,n,i,r,a)}function s(e,t,n,i){return o(e,"PUT",t,n,i)}function l(e,t,n,i){return o(e,"DELETE",t,n,i)}function d(e,t,i,r){return t.access_token=n.token(),o(e,"POST",t,i,r)}function c(e,t,i,r,a,s){return t.access_token=n.token(),o(e,"GET",t,i,r,a,s)}function u(e,t,i,r){return t.access_token=n.token(),o(e,"PUT",t,i,r)}function h(e,t,i,r){return t.access_token=n.token(),o(e,"DELETE",t,i,r)}function f(){i()}var p="/api",g=null,v=null;return t.subscribe("API_POST",r),t.subscribe("API_GET",a),t.subscribe("API_PUT",s),t.subscribe("API_DELETE",l),t.subscribe("API_AUTH_POST",d),t.subscribe("API_AUTH_GET",c),t.subscribe("API_AUTH_PUT",u),t.subscribe("API_AUTH_DELETE",h),{init:f,get:a,post:r,aget:c,apost:d,adelete:h,apost:d,aput:u}}),define("r29/r29.mailingList",["jquery","r29/r29.api"],function(e,t){function n(e,n,i){return!e>0&&(e=0),t.get("/mailinglist/closest",{threshold:e},function(e){n(e.result)},i)}function i(e,n,i,o){return t.post({url:"/mailinglist/subscribe",data:e,cb:i,cb_err:o})}return{closest:n,subscribe:i}}),define("r29/r29.header",["jquery","underscore","r29/r29.cookie","r29/r29.events","r29/r29.facebook","r29/r29.mailingList"],function(e,t,n,i,o,r){function a(t){if(x=t,e(x).find(".selected").length>0){var n=e(".selected");n.find(".target").css({left:n.position().left+.5*n.outerWidth(!0)-.5*n.find(".target").outerWidth(!0)}).addClass("enabled")}e(x).find("#nav nav ul").children().on("mouseover mouseout",l).end().find("li.local a").on("click",function(){return!1}).end().end().find(".tools .social li").on("click mouseleave",u).end().find(".tools .email").on("mouseleave",h).end().find(".tools #email-signup-field").on("focus",h).end().find(".tools .email a").on("click",h).end().find(".r29-user").on("mouseover mouseout",d),r.closest(0,w,b),e(".tools .signup").find("label.submit").on("click",f),s()}function s(){var t='<div class="fb-like" data-href="http://facebook.com/refinery29" ref="social-widget-button" data-width="450" data-layout="button_count" data-show-faces="false" data-send="false"></div>';e(".facebook.dropdown header p").after(t)}function l(t){switch(t.type){case"mouseover":if("undefined"!=typeof e(t.currentTarget).attr("id")){var n=e(t.currentTarget).attr("tooltip").replace("menu-",""),i=e(t.currentTarget).attr("id").replace("category-","");C[n](i,n)}clearTimeout(k),k=null,k=setTimeout(function(){var n=e(t.currentTarget).offset().left,i=e(".navigation").offset().left;e(".navigation").hasClass("relative-left")&&(n=e(t.currentTarget).offset().left-70),navMarkerPosition=n-i+.5*e(t.currentTarget).width(),"undefined"!=typeof e(t.currentTarget).attr("tooltip")&&(e("section .dropdown:visible").length>0&&(e("section .dropdown:visible").css({zIndex:5}),v()),e(".submenus").find("#"+e(t.currentTarget).attr("tooltip")).fadeIn({duration:300}).children(":last").after('<div class="target" style="left:'+g(n,e(t.currentTarget).width(),i)+'px"></div>'))},400),e(".submenus").find(".target").remove().end().find("#"+e(t.currentTarget).attr("tooltip")).off("mouseout").on("mouseout",c);break;case"mouseout":clearTimeout(k),k=null,"undefined"==typeof e(t.currentTarget).attr("tooltip")||e.contains(document.getElementById(e(t.currentTarget).attr("tooltip")),t.relatedTarget)||(e("section .dropdown:visible").length>0&&e("section .dropdown:visible").css({zIndex:50}),e(".submenus").find("#"+e(t.currentTarget).attr("tooltip")).fadeOut({duration:300}))}}function d(){e("#menu-user").toggle(),e(".arrow").toggle()}function c(t){e.contains(document.getElementById(e(t.currentTarget).attr("id")),t.relatedTarget)||e(t.currentTarget).fadeOut({duration:300})}function u(t){var n=e(t.currentTarget);switch(t.type){case"click":if(e(t.currentTarget).hasClass("active"))return!0;n.addClass("active"),n.children(".nav-social").hide(),e(n.children(".nav-social").attr("href")).stop().fadeIn(),e(".fb-like").find("span").width()<=0&&FB.XFBML.parse(document.getElementById("social-facebook"));break;case"mouseleave":n.removeClass("active"),n.children(".nav-social").show(),e(n.children(".nav-social").attr("href")).stop().fadeOut()}return!1}function h(t){switch(t.type){case"click":t.preventDefault(),e(this).css({visibility:"hidden",display:"none"}).parent().toggleClass("enabled");break;case"focus":e(".thanks").is(":visible")||e(".email.dropdown").is(":visible")||y(e("section.email a"));break;case"mouseleave":if(!e.contains(document.getElementById("social-email"),t.relatedTarget)&&!e.contains(document.getElementById("social-email-thanks"),t.relatedTarget)&&e(this).hasClass("enabled")){var n=e(this).toggleClass("enabled");e(".thanks").is(":visible")?e(".thanks").find(".close").trigger("click"):e(".email.dropdown").is(":visible")&&y(e("section.email a")),setTimeout(function(){e(n).find("a").css({visibility:"visible",display:"block"})},300)}}}function f(){var t=e("#email-signup-field").val().match(/^[\w-\._\+%]+@(?:[\w-]+\.)+[\w]{2,6}$/),n=e("form.email .error").css("display","none");if(null!==t){var i=e.makeArray(e("#social-email").find("ul input:checked").map(function(){return e(this).attr("id").replace(/email-/,"")}));T=e.makeArray(e("#social-email").find("ul input:checked ~ label").map(function(){return e.trim(e(this).text())}));var o={email:t.toString(),email_lists:i,source:"Signup Header",source_type:"Organic",welcome:"welcome_organic",category_id:environment.topCategoryId,interest_category:e("form#social-email input[name=interest_category]").val(),interest_subcategory:e("form#social-email input[name=interest_subcategory]").val()};r.subscribe(o,"<strong>"+T.join(" </strong> and <strong> ")+"</strong>",S,_)}else n.css("display","block"),e("#email-signup-field").val().length?n.find("span").text("Please enter a valid email"):n.find("span").text("Please enter an email"),e("form.email input").on("click",function(){n.css("display","none")});return!1}function p(t,n){e.ajax({url:"/menus/popular_trending_menu.html",data:{category_id:t,category_slug:n},dataType:"html",success:function(n){"undefined"!=typeof n&&e("#"+e("#category-"+t).attr("tooltip")).find("section h2").after(n)},error:function(e,t,n){log("errroorrrrd",e,t,n)}})}function m(e){return 1e3*parseFloat(e)}function g(e,t,n){return e-n+.5*t-4}function v(){e("section.email").hasClass("enabled")&&(e("section.email").toggleClass("enabled"),e(".thanks").is(":visible")?e(".thanks").find(".close").trigger("click"):y(e("section.email a")))}function y(t){t.toggleClass("active"),e(t.attr("href")).attr("style","").addClass("last-animation animating").attr("hidden",!e(t.attr("href")).attr("hidden")).css("left",e("section.email").position().left).find(".close").off("click").on("click",function(){return v(),!1}),Modernizr.csstransitions?setTimeout(function(){e(t.attr("href")).removeClass("last-animation animating")},e(t.attr("href")).css("animation-duration").replace(/\d*\.?\d*s/,m)):e(t.attr("href")).removeClass("last-animation animating")}function w(t){if("undefined"!=typeof t.result&&"undefined"!=typeof t.result.lists){var n=t.result.lists;for(var i in n)e('input[name="email_list['+n[i].slug+']"]').attr("checked","checked").attr("value","1")}}function b(e,t){log("error",e,t)}function S(t){var n=e(".dropdowns .thanks section p:first").text().replace(/#NAMED_LISTS#/,T).replace(/#EMAIL_ADDRESS#/,e("#email-signup-field").val());e(".email.dropdown").is(":visible")&&y(e("section.email a")),e(".dropdowns .thanks").css("left",e("section.email").position().left).find("section p:first").html(n).end().removeAttr("hidden").find(".close").off("click").on("click",function(){return e(".thanks").is(":visible")&&(e(".thanks").addClass("last-animation animating").attr("hidden",!0),e("section.email").removeClass("enabled"),setTimeout(function(){e(".thanks").removeClass("last-animation animating"),e("section.email a").css({visibility:"visible",display:"block"})},400)),!1}),"undefined"!=typeof t.result.email_lists&&null!==t.result.email_lists&&window._gaq.push(["_trackEvent","Email Acquisition","On-site Email Signup","Header"])}function _(e,t,n){log("error",e,t,n)}var x,T,k=null,C={fashion:t.once(p),beauty:t.once(p),living:t.once(p),health:t.once(p),entertainment:t.once(p)};return e("#q").focus(function(){e(this).attr("data-default"),e(this).animate({width:160},"slow"),e("#nav").addClass("relative-left")}).blur(function(){var t=e(this).attr("data-default");e("#nav").removeClass("relative-left"),e(this).animate({width:t},"slow")}),{init:a}}),function(e){function t(){if(!n.READY){n.event.determineEventTypes();for(var e in n.gestures)n.gestures.hasOwnProperty(e)&&n.detection.register(n.gestures[e]);n.event.onTouch(document,n.EVENT_MOVE,n.detection.detect),n.event.onTouch(document,n.EVENT_END,n.detection.endDetect),n.READY=!0}}var n=function(e,t){return new n.Instance(e,t||{})};n.defaults={stop_browser_behavior:{userSelect:"none",touchCallout:"none",touchAction:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},n.HAS_POINTEREVENTS=navigator.msPointerEnabled,n.HAS_TOUCHEVENTS="ontouchstart"in e,n.EVENT_TYPES={},n.DIRECTION_DOWN="down",n.DIRECTION_LEFT="left",n.DIRECTION_UP="up",n.DIRECTION_RIGHT="right",n.POINTER_MOUSE="mouse",n.POINTER_TOUCH="touch",n.EVENT_START="start",n.EVENT_MOVE="move",n.EVENT_END="end",n.plugins={},n.READY=!1,n.Instance=function(e,i){var o=this;return t(),this.element=e,this.enabled=!0,this.options=n.utils.extend(n.utils.extend({},n.defaults),i||{}),this.options.stop_browser_behavior&&n.utils.stopDefaultBrowserBehavior(this),n.event.onTouch(e,n.EVENT_START,function(e){o.enabled&&n.detection.startDetect(o,e)}),this},n.Instance.prototype={on:function(e,t){for(var n=e.split(" "),i=0;i<n.length;i++)this.element.addEventListener(n[i],t,!1);
return this},off:function(e,t){for(var n=e.split(" "),i=0;i<n.length;i++)this.element.removeEventListener(n[i],t,!1);return this},trigger:function(e,t){var n=document.createEvent("Event");return n.initEvent(e,!0,!0),n.gesture=t,this.element.dispatchEvent(n),this},enable:function(e){return this.enabled=e,this}};var i=null,o=!1,r=!1;n.event={bindDom:function(e,t,n){for(var i=t.split(" "),o=0;o<i.length;o++)e.addEventListener?e.addEventListener(i[o],n,!1):e.attachEvent(i[o],n)},onTouch:function(e,t,a){var s=this;this.bindDom(e,n.EVENT_TYPES[t],function(l){var d=l.type.toLowerCase();d.match(/start|down|move/)&&(1===l.which||d.match(/touch/)||l.pointerType&&l.pointerType==l.MSPOINTER_TYPE_TOUCH)&&(o=!0),d.match(/touch|pointer/)&&(r=!0),!o||r&&d.match(/mouse/)||(n.HAS_POINTEREVENTS&&t!=n.EVENT_END&&n.PointerEvent.updatePointer(t,l),t===n.EVENT_END&&null!==i?l=i:i=l,a.call(n.detection,s.collectEventData(e,t,l)),n.HAS_POINTEREVENTS&&t==n.EVENT_END&&n.PointerEvent.updatePointer(t,l)),d.match(/up|cancel|end/)&&(o=!1,r=!1,n.PointerEvent.reset())})},determineEventTypes:function(){var e;e=n.HAS_POINTEREVENTS?["MSPointerDown","MSPointerMove","MSPointerUp MSPointerCancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],n.EVENT_TYPES[n.EVENT_START]=e[0],n.EVENT_TYPES[n.EVENT_MOVE]=e[1],n.EVENT_TYPES[n.EVENT_END]=e[2]},getTouchList:function(e){return n.HAS_POINTEREVENTS?n.PointerEvent.getTouchList():e.touches?e.touches:[{identifier:1,pageX:e.pageX,pageY:e.pageY,target:e.target}]},collectEventData:function(e,t,i){var o=this.getTouchList(i,t),r=n.POINTER_TOUCH;return(i.type.match(/mouse/)||i.poinerType&&i.pointerType===i.MSPOINTER_TYPE_MOUSE)&&(r=n.POINTER_MOUSE),{center:n.utils.getCenter(o),timestamp:i.timestamp||(new Date).getTime(),target:i.target,touches:o,eventType:t,pointerType:r,srcEvent:i,preventDefault:function(){this.srcEvent.preventManipulation&&this.srcEvent.preventManipulation(),this.srcEvent.preventDefault&&this.srcEvent.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return n.detection.stopDetect()}}}},n.PointerEvent={pointers:{},getTouchList:function(){var e=this.pointers,t=[];return Object.keys(e).sort().forEach(function(n){t.push(e[n])}),t},updatePointer:function(e,t){e==n.EVENT_END?delete this.pointers[t.pointerId]:(t.identifier=t.pointerId,this.pointers[t.pointerId]=t)},reset:function(){this.pointers={}}},n.utils={extend:function(e,t){for(var n in t)e[n]=t[n];return e},getCenter:function(e){for(var t=[],n=[],i=0,o=e.length;o>i;i++)t.push(e[i].pageX),n.push(e[i].pageY);return{pageX:(Math.min.apply(Math,t)+Math.max.apply(Math,t))/2,pageY:(Math.min.apply(Math,n)+Math.max.apply(Math,n))/2}},getVelocity:function(e,t,n){return{x:Math.abs(t/e)||0,y:Math.abs(n/e)||0}},getAngle:function(e,t){var n=t.pageY-e.pageY,i=t.pageX-e.pageX;return 180*Math.atan2(n,i)/Math.PI},getDirection:function(e,t){var i=Math.abs(e.pageX-t.pageX),o=Math.abs(e.pageY-t.pageY);return i>=o?e.pageX-t.pageX>0?n.DIRECTION_LEFT:n.DIRECTION_RIGHT:e.pageY-t.pageY>0?n.DIRECTION_UP:n.DIRECTION_DOWN},getDistance:function(e,t){var n=t.pageX-e.pageX,i=t.pageY-e.pageY;return Math.sqrt(n*n+i*i)},getScale:function(e,t){return e.length>=2&&t.length>=2?this.getDistance(t[0],t[1])/this.getDistance(e[0],e[1]):1},getRotation:function(e,t){return e.length>=2&&t.length>=2?this.getAngle(t[1],t[0])-this.getAngle(e[1],e[0]):0},isVertical:function(e){return e==n.DIRECTION_UP||e==n.DIRECTION_DOWN},stopDefaultBrowserBehavior:function(e){var t,n=["webkit","khtml","moz","ms","o",""],i=e.options.stop_browser_behavior;if(i){for(var o=0;o<n.length;o++)for(var r in i)i.hasOwnProperty(r)&&(t=r,n[o]&&(t=n[o]+t.substring(0,1).toUpperCase()+t.substring(1)),e.element.style[t]=i[r]);"none"==i.userSelect&&(e.element.onselectstart=function(){return!1})}}},n.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(e,t){this.current||(this.stopped=!1,this.current={inst:e,startEvent:n.utils.extend({},t),lastEvent:!1,name:""},this.detect(t))},detect:function(e){if(this.current&&!this.stopped){e=this.extendEventData(e);for(var t=this.current.inst.options,n=0,i=this.gestures.length;i>n;n++){var o=this.gestures[n];if(!this.stopped&&t[o.name]!==!1&&o.handler.call(o,e,this.current.inst)===!1){this.stopDetect();break}}this.current&&(this.current.lastEvent=e)}},endDetect:function(e){this.detect(e),this.stopDetect()},stopDetect:function(){this.previous=n.utils.extend({},this.current),this.current=null,this.stopped=!0},extendEventData:function(e){var t=this.current.startEvent;if(t&&(e.touches.length!=t.touches.length||e.touches===t.touches)){t.touches=[];for(var i=0,o=e.touches.length;o>i;i++)t.touches.push(n.utils.extend({},e.touches[i]))}var r=e.timestamp-t.timestamp,a=e.center.pageX-t.center.pageX,s=e.center.pageY-t.center.pageY,l=n.utils.getVelocity(r,a,s);return n.utils.extend(e,{deltaTime:r,deltaX:a,deltaY:s,velocityX:l.x,velocityY:l.y,distance:n.utils.getDistance(t.center,e.center),angle:n.utils.getAngle(t.center,e.center),direction:n.utils.getDirection(t.center,e.center),scale:n.utils.getScale(t.touches,e.touches),rotation:n.utils.getRotation(t.touches,e.touches),startEvent:t}),e},register:function(e){var t=e.defaults||{};return"undefined"==typeof t[e.name]&&(t[e.name]=!0),n.utils.extend(n.defaults,t),e.index=e.index||1e3,this.gestures.push(e),this.gestures.sort(function(e,t){return e.index<t.index?-1:e.index>t.index?1:0}),this.gestures}},n.gestures=n.gestures||{},n.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:1},timer:null,handler:function(e,t){switch(e.eventType){case n.EVENT_START:clearTimeout(this.timer),n.detection.current.name=this.name,this.timer=setTimeout(function(){"hold"==n.detection.current.name&&t.trigger("hold",e)},t.options.hold_timeout);break;case n.EVENT_MOVE:e.distance>t.options.hold_threshold&&clearTimeout(this.timer);break;case n.EVENT_END:clearTimeout(this.timer)}}},n.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,doubletap_distance:20,doubletap_interval:300},handler:function(e,t){if(e.eventType==n.EVENT_END){var i=n.detection.previous;if(e.deltaTime>t.options.tap_max_touchtime||e.distance>t.options.tap_max_distance)return;n.detection.current.name=i&&"tap"==i.name&&e.timestamp-i.lastEvent.timestamp<t.options.doubletap_interval&&e.distance<t.options.doubletap_distance?"doubletap":"tap",t.trigger(n.detection.current.name,e)}}},n.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_max_touches:1,swipe_velocity:.7},handler:function(e,t){if(e.eventType==n.EVENT_END){if(t.options.swipe_max_touches>0&&e.touches.length>t.options.swipe_max_touches)return;(e.velocityX>t.options.swipe_velocity||e.velocityY>t.options.swipe_velocity)&&(t.trigger(this.name,e),t.trigger(this.name+e.direction,e))}}},n.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,drag_max_touches:1,drag_block_horizontal:!1,drag_block_vertical:!1,drag_lock_to_axis:!1},triggered:!1,handler:function(e,t){if(n.detection.current.name!=this.name&&this.triggered)return t.trigger(this.name+"end",e),this.triggered=!1,void 0;if(!(t.options.drag_max_touches>0&&e.touches.length>t.options.drag_max_touches))switch(e.eventType){case n.EVENT_START:this.triggered=!1;break;case n.EVENT_MOVE:if(e.distance<t.options.drag_min_distance&&n.detection.current.name!=this.name)return;n.detection.current.name=this.name;var i=n.detection.current.lastEvent.direction;t.options.drag_lock_to_axis&&i!==e.direction&&(e.direction=n.utils.isVertical(i)?e.deltaY<0?n.DIRECTION_UP:n.DIRECTION_DOWN:e.deltaX<0?n.DIRECTION_LEFT:n.DIRECTION_RIGHT),this.triggered||(t.trigger(this.name+"start",e),this.triggered=!0),t.trigger(this.name,e),t.trigger(this.name+e.direction,e),(t.options.drag_block_vertical&&n.utils.isVertical(e.direction)||t.options.drag_block_horizontal&&!n.utils.isVertical(e.direction))&&e.preventDefault();break;case n.EVENT_END:this.triggered&&t.trigger(this.name+"end",e),this.triggered=!1}}},n.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:.01,transform_min_rotation:1,transform_always_block:!1},triggered:!1,handler:function(e,t){if(n.detection.current.name!=this.name&&this.triggered)return t.trigger(this.name+"end",e),this.triggered=!1,void 0;if(!(e.touches.length<2))switch(t.options.transform_always_block&&e.preventDefault(),e.eventType){case n.EVENT_START:this.triggered=!1;break;case n.EVENT_MOVE:var i=Math.abs(1-e.scale),o=Math.abs(e.rotation);if(i<t.options.transform_min_scale&&o<t.options.transform_min_rotation)return;n.detection.current.name=this.name,this.triggered||(t.trigger(this.name+"start",e),this.triggered=!0),t.trigger(this.name,e),o>t.options.transform_min_rotation&&t.trigger("rotate",e),i>t.options.transform_min_scale&&(t.trigger("pinch",e),t.trigger("pinch"+(e.scale<1?"in":"out"),e));break;case n.EVENT_END:this.triggered&&t.trigger(this.name+"end",e),this.triggered=!1}}},n.gestures.Touch={name:"touch",index:-1/0,defaults:{prevent_default:!1},handler:function(e,t){t.options.prevent_default&&e.preventDefault(),e.eventType==n.EVENT_START&&t.trigger(this.name,e)}},n.gestures.Release={name:"release",index:1/0,handler:function(e,t){e.eventType==n.EVENT_END&&t.trigger(this.name,e)}},e.Hammer=n,"function"==typeof e.define&&e.define.amd&&e.define("hammer",[],function(){return n})}(window),define("hammer",function(e){return function(){var t,n;return n=function(){return Hammer},t=n.apply(e,arguments),t||e.Hammer}}(this)),window.R29||(R29={}),R29.getElementsByClassName=function(e,t){if(e.getElementsByClassName)return e.getElementsByClassName(t);for(var n,i=e.getElementsByTagName("*"),o=new RegExp("(?:s|^)"+t+"(?:s|$)"),r=[],a=0;n=i[a++];){var s=n.className;s&&s.match(o)&&r.push(n)}return r},R29.getComputedStyle=function(e,t,n){if(e.currentStyle)return e.currentStyle[t];var i=document.defaultView,o=i?i.getComputedStyle(e,null):null;return o?o.getPropertyValue(n):null},function(e){"function"==typeof define?define("R29",e):"function"==typeof YUI?YUI.add("es5",e):e()}(function(){function e(){}function t(e){return e=+e,e!==e?e=0:0!==e&&e!==1/0&&e!==-(1/0)&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e}function n(e){var t=typeof e;return null===e||"undefined"===t||"boolean"===t||"number"===t||"string"===t}function i(e){var t,i,o;if(n(e))return e;if(i=e.valueOf,"function"==typeof i&&(t=i.call(e),n(t)))return t;if(o=e.toString,"function"==typeof o&&(t=o.call(e),n(t)))return t;throw new TypeError}Function.prototype.bind||(Function.prototype.bind=function(t){var n=this;if("function"!=typeof n)throw new TypeError("Function.prototype.bind called on incompatible "+n);var i=h.call(arguments,1),o=function(){if(this instanceof o){var e=n.apply(this,i.concat(h.call(arguments)));return Object(e)===e?e:this}return n.apply(t,i.concat(h.call(arguments)))};return n.prototype&&(e.prototype=n.prototype,o.prototype=new e,e.prototype=null),o});var o,r,a,s,l,d=Function.prototype.call,c=Array.prototype,u=Object.prototype,h=c.slice,f=d.bind(u.toString),p=d.bind(u.hasOwnProperty);if((l=p(u,"__defineGetter__"))&&(o=d.bind(u.__defineGetter__),r=d.bind(u.__defineSetter__),a=d.bind(u.__lookupGetter__),s=d.bind(u.__lookupSetter__)),2!=[1,2].splice(0).length){var m=Array.prototype.splice;Array.prototype.splice=function(e,t){return arguments.length?m.apply(this,[void 0===e?0:e,void 0===t?this.length-e:t].concat(h.call(arguments,2))):[]}}if(1!=[].unshift(0)){var g=Array.prototype.unshift;Array.prototype.unshift=function(){return g.apply(this,arguments),this.length}}Array.isArray||(Array.isArray=function(e){return"[object Array]"==f(e)});var v=Object("a"),y="a"!=v[0]||!(0 in v);if(Array.prototype.forEach||(Array.prototype.forEach=function(e){var t=N(this),n=y&&"[object String]"==f(this)?this.split(""):t,i=arguments[1],o=-1,r=n.length>>>0;if("[object Function]"!=f(e))throw new TypeError;for(;++o<r;)o in n&&e.call(i,n[o],o,t)}),Array.prototype.map||(Array.prototype.map=function(e){var t=N(this),n=y&&"[object String]"==f(this)?this.split(""):t,i=n.length>>>0,o=Array(i),r=arguments[1];if("[object Function]"!=f(e))throw new TypeError(e+" is not a function");for(var a=0;i>a;a++)a in n&&(o[a]=e.call(r,n[a],a,t));return o}),Array.prototype.filter||(Array.prototype.filter=function(e){var t,n=N(this),i=y&&"[object String]"==f(this)?this.split(""):n,o=i.length>>>0,r=[],a=arguments[1];if("[object Function]"!=f(e))throw new TypeError(e+" is not a function");for(var s=0;o>s;s++)s in i&&(t=i[s],e.call(a,t,s,n)&&r.push(t));return r}),Array.prototype.every||(Array.prototype.every=function(e){var t=N(this),n=y&&"[object String]"==f(this)?this.split(""):t,i=n.length>>>0,o=arguments[1];if("[object Function]"!=f(e))throw new TypeError(e+" is not a function");for(var r=0;i>r;r++)if(r in n&&!e.call(o,n[r],r,t))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(e){var t=N(this),n=y&&"[object String]"==f(this)?this.split(""):t,i=n.length>>>0,o=arguments[1];if("[object Function]"!=f(e))throw new TypeError(e+" is not a function");for(var r=0;i>r;r++)if(r in n&&e.call(o,n[r],r,t))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(e){var t=N(this),n=y&&"[object String]"==f(this)?this.split(""):t,i=n.length>>>0;if("[object Function]"!=f(e))throw new TypeError(e+" is not a function");if(!i&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var o,r=0;if(arguments.length>=2)o=arguments[1];else for(;;){if(r in n){o=n[r++];break}if(++r>=i)throw new TypeError("reduce of empty array with no initial value")}for(;i>r;r++)r in n&&(o=e.call(void 0,o,n[r],r,t));return o}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(e){var t=N(this),n=y&&"[object String]"==f(this)?this.split(""):t,i=n.length>>>0;if("[object Function]"!=f(e))throw new TypeError(e+" is not a function");if(!i&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var o,r=i-1;if(arguments.length>=2)o=arguments[1];else for(;;){if(r in n){o=n[r--];break}if(--r<0)throw new TypeError("reduceRight of empty array with no initial value")}do r in this&&(o=e.call(void 0,o,n[r],r,t));while(r--);return o}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(e){var n=y&&"[object String]"==f(this)?this.split(""):N(this),i=n.length>>>0;if(!i)return-1;var o=0;for(arguments.length>1&&(o=t(arguments[1])),o=o>=0?o:Math.max(0,i+o);i>o;o++)if(o in n&&n[o]===e)return o;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(e){var n=y&&"[object String]"==f(this)?this.split(""):N(this),i=n.length>>>0;if(!i)return-1;var o=i-1;for(arguments.length>1&&(o=Math.min(o,t(arguments[1]))),o=o>=0?o:i-Math.abs(o);o>=0;o--)if(o in n&&e===n[o])return o;return-1}),!Object.keys){var w=!0,b=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],S=b.length;for(var _ in{toString:null})w=!1;Object.keys=function D(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.keys called on a non-object");var D=[];for(var t in e)p(e,t)&&D.push(t);if(w)for(var n=0,i=S;i>n;n++){var o=b[n];p(e,o)&&D.push(o)}return D}}var x=-621987552e5,T="-000001";Date.prototype.toISOString&&-1!==new Date(x).toISOString().indexOf(T)||(Date.prototype.toISOString=function(){var e,t,n,i,o;if(!isFinite(this))throw new RangeError("Date.prototype.toISOString called on non-finite value.");for(i=this.getUTCFullYear(),o=this.getUTCMonth(),i+=Math.floor(o/12),o=(o%12+12)%12,e=[o+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds()],i=(0>i?"-":i>9999?"+":"")+("00000"+Math.abs(i)).slice(i>=0&&9999>=i?-4:-6),t=e.length;t--;)n=e[t],10>n&&(e[t]="0"+n);return i+"-"+e.slice(0,2).join("-")+"T"+e.slice(2).join(":")+"."+("000"+this.getUTCMilliseconds()).slice(-3)+"Z"});var k=!1;try{k=Date.prototype.toJSON&&null===new Date(0/0).toJSON()&&-1!==new Date(x).toJSON().indexOf(T)&&Date.prototype.toJSON.call({toISOString:function(){return!0}})}catch(C){}if(k||(Date.prototype.toJSON=function(){var e,t=Object(this),n=i(t);if("number"==typeof n&&!isFinite(n))return null;if(e=t.toISOString,"function"!=typeof e)throw new TypeError("toISOString property is not callable");return e.call(t)}),Date=function(e){function t(n,i,o,r,a,s,l){var d=arguments.length;if(this instanceof e){var c=1==d&&String(n)===n?new e(t.parse(n)):d>=7?new e(n,i,o,r,a,s,l):d>=6?new e(n,i,o,r,a,s):d>=5?new e(n,i,o,r,a):d>=4?new e(n,i,o,r):d>=3?new e(n,i,o):d>=2?new e(n,i):d>=1?new e(n):new e;return c.constructor=t,c}return e.apply(this,arguments)}function n(e,t){var n=t>1?1:0;return o[t]+Math.floor((e-1969+n)/4)-Math.floor((e-1901+n)/100)+Math.floor((e-1601+n)/400)+365*(e-1970)}var i=new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:\\.(\\d{3}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$"),o=[0,31,59,90,120,151,181,212,243,273,304,334,365];for(var r in e)t[r]=e[r];return t.now=e.now,t.UTC=e.UTC,t.prototype=e.prototype,t.prototype.constructor=t,t.parse=function(t){var o=i.exec(t);if(o){var r,a=Number(o[1]),s=Number(o[2]||1)-1,l=Number(o[3]||1)-1,d=Number(o[4]||0),c=Number(o[5]||0),u=Number(o[6]||0),h=Number(o[7]||0),f=!o[4]||o[8]?0:Number(new e(1970,0)),p="-"===o[9]?1:-1,m=Number(o[10]||0),g=Number(o[11]||0);return(c>0||u>0||h>0?24:25)>d&&60>c&&60>u&&1e3>h&&s>-1&&12>s&&24>m&&60>g&&l>-1&&l<n(a,s+1)-n(a,s)&&(r=60*(24*(n(a,s)+l)+d+m*p),r=1e3*(60*(r+c+g*p)+u)+h+f,r>=-864e13&&864e13>=r)?r:0/0}return e.parse.apply(this,arguments)},t}(Date),Date.now||(Date.now=function(){return(new Date).getTime()}),"0".split(void 0,0).length){var I=String.prototype.split;String.prototype.split=function(e,t){return void 0===e&&0===t?[]:I.apply(this,arguments)}}if("".substr&&"b"!=="0b".substr(-1)){var E=String.prototype.substr;String.prototype.substr=function(e,t){return E.call(this,0>e?(e=this.length+e)<0?0:e:e,t)}}var O="	\n\f\r   ᠎             　\u2028\u2029﻿";if(!String.prototype.trim||O.trim()){O="["+O+"]";var A=new RegExp("^"+O+O+"*"),M=new RegExp(O+O+"*$");String.prototype.trim=function(){if(void 0===this||null===this)throw new TypeError("can't convert "+this+" to object");return String(this).replace(A,"").replace(M,"")}}var N=function(e){if(null==e)throw new TypeError("can't convert "+e+" to object");return Object(e)}}),Slideshow=function(e,t){if(!(this instanceof Slideshow))return new Slideshow(e);if(e){if(this.element=e,this.wrapper=R29.getElementsByClassName(e,"wrapper")[0]||e,this.list=this.wrapper.getElementsByTagName("ul")[0],this.items=[],this.images=[],this.extras=[],this.pictures=[],this.metas=[],this.descriptions=[],this.offsetWidths=[],this.offsetHeights=[],this.choices=R29.getElementsByClassName(e,"choices")[0],this.scrollBarWidth=e.offsetHeight-e.clientHeight,t)for(var n in t)"orientation"==n?this.setOrientation(t[n]):this[n]=t[n];this.element&&!this.inline&&this.element.addEventListener("touchmove",function(e){e.preventDefault()},!1),this.className=this.className?this.wrapper.className=this.wrapper.className+" "+this.className:el.wrapperement.className;for(var i,o=this.list.childNodes,r=0;i=o[r++];)if("LI"==i.tagName){this.items.push(i);var a=R29.getElementsByClassName(i,"picture")[0],s=a&&a.getElementsByTagName("img")[0];this.pictures.push(a);var l=this.images.push(s)-1;s&&(s.onload=function(e,t,n){return function(){n.onImageLoad(e,t)}}(s,l,this),s.width&&s.onload())}this.items[0].className+=" first",this.items[this.items.length-1].className+=" last",this.selected=this.items[0],this.selected.className+=" selected",this.onResize(),this.scrollTo(this.focusing?this.selected:0),this.attach()}},Slideshow.prototype.attach=function(){var e=this,t=this.wrapper;this.hammer=hammer=new Hammer(this.inline?t:document.body,{swipe:!1,hold:!1,hold_timeout:400,drag_min_distance:0,tap_max_distance:100,container:this.inline&&t,allow_drag:!0}),t.onscroll=function(t){return e.onScroll(t)},t.onmousedown=function(e){stopEvent(e)},hammer.ondragstart=function(n){cancelAnimationFrame(e.scrolling),delete e.scrolling,delete e.busy,n.preventDefault(),e.onTouch(n);for(var i=n.target;i&&i!=t;i=i.parentNode);i&&(e.onDragStart&&e.onDragStart(n),e.scrollStart=e[e.scrollNow]-e.placeholding)},hammer.ontap=function(){},hammer.ondrag=function(t){e.onDrag&&e.onDrag(t),t.preventDefault();var n="landscape"==e.orientation?t.deltaX:t.deltaY;n&&e.scrollTo(e.scrollStart-n)},hammer.ondragend=function(t){e.onDragEnd&&e.onDragEnd(t);var n="landscape"==e.orientation?t.velocityX:t.velocityY,i="landscape"==e.orientation?t.deltaX:t.deltaY,o=e.scrollStart-i+e[e.offset]/2-400*(i>0?n:-n),r=e.getItemByPosition(o),a=e.getItemPosition(r,0>i?"next":"previous");e.scrollTo(a-(e[e.offset]-r[e.offset])/2,800),delete e.scrollStart}},Slideshow.prototype.detach=function(){this.hammer&&this.hammer.enable(!1)},Slideshow.prototype.previous=function(){this.select("previous")},Slideshow.prototype.next=function(){this.select("next")},Slideshow.prototype.close=function(e){e.preventDefault(),e.stopPropagation()},Slideshow.prototype.repeat=function(){this.select(this.items[0])},Slideshow.prototype.getRelativeItem=function(e,t){var n=this.items,i=n.indexOf(t||this.selected),o=i+e,r=n.length,a=n[o]||this.endless&&n[e>0?o%r:o+r];return a},Slideshow.prototype.select=function(e,t,n){switch(e){case"previous":if(!((e=this.items[this.items.indexOf(this.selected)-1])||this.endless&&(e=this.items[this.items.length-1])))return;break;case"next":if(!((e=this.items[this.items.indexOf(this.selected)+1])||this.endless&&(e=this.items[0])))return;break;default:if(!e)return;"number"==typeof e&&(e=this.getItemByPosition(e))}if(t!==!1){var i=this;i.clicked=!0,clearTimeout(i.clicking),i.clicking=setTimeout(function(){delete i.clicking,delete i.clicked},400),this.scrollTo(e,null==n?!0:n)}if(this.selected!=e){this.selected&&$(this.selected).removeClass("selected"),this.selectedIndex=this.items.indexOf(e),this.previousItem&&$(this.previousItem).removeClass("past"),this.nextItem&&$(this.nextItem).removeClass("future");var o=this.selected;this.selected=e,e.className+=" selected","undefined"!=typeof Modernizr&&Modernizr.opacity!==!0&&$(e).css({left:339,position:"absolute"}),this.onSet&&this.onSet(e,this.items.indexOf(e),o);var r=this.getRelativeItem(-1,e),a=this.getRelativeItem(1,e);r&&this.previousItem!=r&&((this.previousItem=r).className+=" past","undefined"!=typeof Modernizr&&Modernizr.opacity!==!0&&$(this.previousItem).css("left",0)),a&&this.nextItem!=a&&((this.nextItem=a).className+=" future")}},Slideshow.prototype.interact=function(){-1==document.body.className.indexOf("interacting")&&(document.body.className+=" interacting"),clearTimeout(this.interaction);var e=this;this.interaction=setTimeout(function(){document.body.className=document.body.className.replace(" interacting",""),delete e.interaction},350)},Slideshow.prototype.placehold=function(e){for(var t=0,n=this.placeheld||(this.placeheld=[]),i=this.items.length;i--&&e>t;){var o=this.items[i];-1==n.indexOf(o)&&(n.push(o),o.style.position="absolute",o.className+=" placeheld"),t+=this[this.offsets][i]+this.gap}if(this.placeholding!=t){this.list.style[this.padding]=t+"px",this.list.style[this.dimension]=this[this.scroll]-t+"px";for(var o,r=0,a=this.placeholding-t,i=n.length;o=n[--i];){var s=this[this.offsets][this.items.indexOf(o)];a>=s?(a-=s+this.gap,n.pop(),$(o).removeClass("placeheld"),o.style.position="",o.style[this.property]="auto"):(o.style[this.property]=r+"px",r+=this.gap,r+=s)}this.placeholding=t}return t},Slideshow.prototype.setVisibility=function(){for(var e,t=this.wrapper[this.scroll]-this.placeholding,n=window[this.inner],i=0,o=[],r=0,a=this.items;e=a[r]||this.endless&&a[r-a.length];r++){e!=this.items[r]&&(i-=this[this.scroll]);var s=this[this.offsets][r];t>s+i||i>t+n?o.indexOf(e)>-1&&o.splice(o.indexOf(e),1):-1==o.indexOf(e)&&o.push(e),i+=s+this.gap}for(var r=0;e=a[r];r++){var l=this.images[r]||this.endless&&this.images[r-this.images.length],d=e.className.indexOf("visible")>-1;if(o.indexOf(e)>-1){if(l){var c=l&&l.getAttribute("xrc");c&&(l.setAttribute("src",c),l.removeAttribute("xrc"))}else for(var u=e.getElementsByTagName("img"),h=0,f=u.length;f>h;h++){var l=u[h],c=l.getAttribute("xrc");c&&l.setAttribute("src",c),l.removeAttribute("xrc")}d||(e.className+=" visible")}else{var c=l&&l.getAttribute("src");c&&(l.setAttribute("xrc",c),l.removeAttribute("src")),d&&(e.className=e.className.replace(" visible",""))}}for(var r=0;2>r;r++){var p=this.items.indexOf(this.selected)+r+1;if(p){var m=this.items[p];if(m){var l=this.images[p],c=l&&l.getAttribute("xrc");c&&l.setAttribute("src",c)}}}},Slideshow.prototype.getItemPosition=function(e,t){for(var n,i=0,o=0;(n=this.items[o])!=e;o++)i+=this[this.offsets][o]+this.gap;if(t&&this.endless){var r=this.getItemPosition(this.selected),a=e[this.offset],s=this[this.scroll];"previous"==t&&i>r&&(i-=s),"next"==t&&r>i&&(i+=s),"nearest"==t&&(i-r>r+s-i?i-=s:r-i>=s-r+a+i?i+=s:this.placeholding&&r>i&&(i-=s))}return i},Slideshow.prototype.scrollTo=function(e,t,n,i,o){var r=this[this.scroll]-this[this.offset];if(e.nodeType){var a=this.getItemPosition(e,"nearest");e=a-Math.round((this[this.offset]-e[this.offset])/2),this.endless||(e=Math.round(Math.min(r,Math.max(e,0))))}if(!t&&this.endless)if(e>r){var s=this[this.offset]-(e-r);this.placehold(s),e=this.placeholding-s}else e<-this[this.offset]?(this.placehold(0),e=this[this.scroll]+e):e+=this.placehold(Math.max(0,-e));if(cancelAnimationFrame(this.scrolling),delete this.scrolling,delete this.busy,i||(i=this.wrapper),t){var l="number"==typeof t?t:this.duration,d=this[this.scrollNow];this.placeholding&&(d=-this.placeholding+d),e<-this[this.scroll]?e+=this[this.scroll]:0>d&&e>this[this.scroll]-this[this.offset]&&(e-=this[this.scroll]);var c=(new Date).getTime(),u=this,h=function(){var t=new Date,r=t-c,a=Math.min(1,r/l);o&&(a=1-a);var s=u.easing;if("string"==typeof s){var f=u.timings[s];if(!f){var p=u.easings[s];p||(p=s.split(/\s*,\s*/).map(function(e){return parseFloat(e)})),u.timings[s]=f=u.bezier.apply(u,p)}s=f}u.scrollTo(Math.round(d+(e-d)*s(a,l)),null,n,i,o),l>r?u.scrolling=requestAnimationFrame(h):(delete u.scrolling,delete u.busy)};u.scrolling=requestAnimationFrame(h),u.busy=!0}else i[this.scrollNow]=e,i==this.wrapper&&(this[this.scrollNow]=e),this.setVisibility()},Slideshow.prototype.scrollLeft=0,Slideshow.prototype.scrollTop=0,Slideshow.prototype.onImageLoad=function(e){this.onResize(e)},Slideshow.prototype.scrollBarWidth=16,Slideshow.prototype.speedup=parseFloat((location.search.match(/speedup=([\d.]+)/i)||[0,1])[1]),Slideshow.prototype.snap=parseFloat((location.search.match(/snap=([\d.]+)/i)||[0,20])[1]),Slideshow.prototype.gap=parseFloat((location.search.match(/gap=([\d.]+)/i)||[0,0])[1]),Slideshow.prototype.placeholding=0,Slideshow.prototype.inline=!0,Slideshow.prototype.className=unescape((location.search.match(/class=([^&]+)/i)||[0,""])[1])+" "+(document.cookie.match(/sstip=(.*?)(?:$|;)/i)||[0,""])[1],Slideshow.prototype.onOrientationChange=function(e){this.onResize(e)},Slideshow.prototype.onResize=function(e){var t=$(window).width(),n=$(window).height(),i=e&&("resize"==e.type||"orientationchange"==e.type);if(t!=this.width||n!=this.height||!i){!this.inline&&i&&(this.wrapper.style.height=n+"px"),this.width=t,this.height=n;var o=this;clearTimeout(this.resized),this.resized=setTimeout(function(){delete o.resized},350),this.wrapper.scrollTop=0;var r=t<=this.boundary,a=this.wrapper.offsetWidth,s=0,l=this.inline?Math.min(this.wrapper.offsetHeight,n):n-2*this.gap-this.scrollBarWidth,d=t>n;this.className.indexOf(" landscape")>-1?d||(this.wrapper.className=this.className=this.className.replace(" landscape","")):d&&(this.wrapper.className=this.className+=" landscape");var c=i?this.items.filter(function(e){return e.className.indexOf("visible")>-1}):this.items;if(i){var o=this;clearTimeout(this.redrawing);var u=this.selected;this.redrawing=setTimeout(function(){o.onResize(),o.select(u,!0,!1)},30)}for(var h,f=0;h=c[f];f++){var p=i?this.items.indexOf(h):f,m=this.images[p],g=this.pictures[p],v=m&&parseInt(m.getAttribute("width"))||h.offsetWidth,y=m&&parseInt(m.getAttribute("height"))||h.offsetHeight;this.metas[p],this.descriptions[p];var w=parseInt(R29.getComputedStyle(h,"maxHeight","max-height")),b=l;if(w=isNaN(w)?0:w,(!w||w>b)&&(w=b),g){var S=m.getAttribute("max-width"),_=m.getAttribute("max-height"),x=Math.floor(Math.min(a,v,v/y*w)),T=this.round(x/(v/y));m.style.height=T+"px",0/0!==S&&0/0!==_&&(m.style.height=null,m.style.width=null,m.style.maxHeight=_+"px",m.style.maxWidth=S+"px",m.style.margin="0px auto")}else{var x=Math.min(a,v),T=Math.min(y,w,l);h.style.height=T+"px"}var k=Math.max(r&&!this.inline?this.width:0,x);if(!e||!e.nodeType||e==m){Math.max(b-T,0);var C=k;h.style.width=C+"px"}this.offsetWidths[p]=k,this.offsetHeights[p]=h.offsetHeight,s+=this[this.offsets][p]+(h.className.indexOf("final")>-1?0:this.gap),this.scrollLeft=this.wrapper.scrollLeft,this.scrollTop=this.wrapper.scrollTop}if(i)return this.select(u,!0,!1);this.list.style[this.dimension]=s-this.placeholding+"px",this[this.offset]=this.wrapper[this.offset],this[this.scroll]=this.wrapper[this.scroll],this.setVisibility()}},Slideshow.prototype.getItemByPosition=function(e){0>e&&(e+=this[this.scroll]);for(var t,n=0,i=this.items;t=i[n]||this.endless&&i[n-i.length];n++){var o=t,r=this[this.offsets],a=r[n]||this.endless&&r[n-i.length];if(a>e)break;e-=a+this.gap}return o},Slideshow.prototype.onScroll=function(){if(!this.resized&&!this.clicked){if(this.blocking)return delete this.blocking;var e=this.wrapper[this.scrollNow];e+=this.getViewportOffset(e),this.clicked||(this.select(e-this.placeholding,!1),this.setVisibility())}},Slideshow.prototype.getViewportOffset=function(e){var t=this[this.scroll],n=this[this.offset],i=t-n;return this.endless?n/2:n/4>e?e:n/3>i-e?.8*n-(i-e):n/2},Slideshow.prototype.onClick=function(e){for(var t=e.target;t&&9!=t.nodeType;t=t.parentNode)if(1==t.nodeType){var n=t.getAttribute("rel");if(!("A"!=t.tagName||n&&this[n]))var i=t;if(t.className.indexOf("picture")>-1)var o=t;if(t.className.indexOf("panel")>-1)var r=t;if(n&&this[n])return this[n](e);if("IMG"==t.tagName)var a=t;if("LI"==t.tagName){if((t.className.indexOf("last")>-1||this.endless)&&t!==this.selected){e.preventDefault();var s=this;return this.clickBlocked=!0,this.select(t,!0),clearTimeout(this.clickBlocking),s.clickBlocking=setTimeout(function(){delete s.clickBlocked},500)}if(!(o||i||a||r)){var l=e.pageX||e.clientX,d=window.innerWidth;(l>.66*d||.33*d>l)&&this.select(l>d/2?"next":"previous")}i&&this.items.indexOf(t)>-1&&this.endless&&(this.stopped=!0)}else t.className.indexOf("panel")>-1}},Slideshow.prototype.onTouch=function(e){for(var t=e.target;t&&!("A"==t.tagName||1==t.nodeType&&t.getAttribute("rel"));t=t.parentNode);t||window.scrollY||window.scrollTo(0,250)},Slideshow.prototype.setOrientation=function(e){this.orientation=e,this.offsets="landscape"==e?"offsetWidths":"offsetHeights",this.offset="landscape"==e?"offsetWidth":"offsetHeight",this.scroll="landscape"==e?"scrollWidth":"scrollHeight",this.inner="landscape"==e?"innerWidth":"innerHeight",this.dimension="landscape"==e?"width":"height",this.padding="landscape"==e?"paddingLeft":"paddingTop",this.scrollNow="landscape"==e?"scrollLeft":"scrollTop",this.property="landscape"==e?"left":"top",this.round="landscape"==e?Math.ceil:Math.floor},Slideshow.prototype.setOrientation("landscape"),Carousel=function(){Slideshow.apply(this,arguments)},Carousel.prototype=new Slideshow,Carousel.prototype.endless=!0,function(){for(var e=0,t=["ms","moz","webkit","o"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var n=(new Date).getTime(),i=Math.max(0,16-(n-e)),o=window.setTimeout(function(){t(n+i)},i);return e=n+i,o
}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),Slideshow.prototype.bezier=function(e,t,n,i){function o(e){return((c*e+u)*e+h)*e}function r(e){return((f*e+p)*e+m)*e}function a(e){return(3*c*e+2*u)*e+h}function s(e){return 1/(200*e)}function l(e,t){return r(d(e,t))}function d(e,t){function n(e){return e>=0?e:0-e}var i,r,s,l,d,c;for(s=e,c=0;8>c;c++){if(l=o(s)-e,n(l)<t)return s;if(d=a(s),n(d)<1e-6)break;s-=l/d}if(i=0,r=1,s=e,i>s)return i;if(s>r)return r;for(;r>i;){if(l=o(s),n(l-e)<t)return s;e>l?i=s:r=s,s=.5*(r-i)+i}return s}var c=0,u=0,h=0,f=0,p=0,m=0;return function(o,r){return h=3*e,u=3*(n-e)-h,c=1-h-u,m=3*t,p=3*(i-t)-m,f=1-m-p,l(o,s(r||1))}},Slideshow.prototype.easings={ease:[.25,.1,.25,.1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1],linear:[0,0,1,1]},Slideshow.prototype.timings={},Slideshow.prototype.duration=400,Slideshow.prototype.easing="ease-out",Hammer.Instance.prototype.trigger=function(e,t){var n=document.createEvent("Event");return n.initEvent(e,!0,!0),n.gesture=t,this["on"+e]&&this["on"+e](t),this.element.dispatchEvent(n),this},define("referrer.slideshow",["hammer","R29","jquery"],function(){}),define("r29/r29.carousels",["jquery","r29/r29.events","referrer.slideshow"],function(e,t){function n(t){if(e(".ie8, .ie7").length<=0){var n,l=0;for(_targets=t,l;l<_targets.length;l++)n=s[e(_targets[l]).attr("id")]=new Carousel(_targets[l],{inline:!0,focusing:!0,gap:parseInt(i(_targets[l])),orientation:o(_targets[l])}),e(_targets[l]).find(".next a,.previous a").on("click",r).end().find(".entry_mainlink").on("click",a).end().find(".wrapper").removeClass("default"),"undefined"!=typeof e(_targets[l]).attr("easing")&&(n.easing=e(_targets[l]).attr("easing")),"undefined"!=typeof e(_targets[l]).attr("duration")&&(n.duration=e(_targets[l]).attr("duration")),"undefined"!=typeof e(_targets[l]).attr("shift")&&(n.shift=e(_targets[l]).attr("shift")),n.shift&&(delete n.selected,n.select(n.items[0],!1));e("html").hasClass("touch")&&e("#hero-stories .wide li").addClass("collapsed")}}function i(t){return"undefined"!=typeof e(t).attr("gap")?e(t).attr("gap"):e(t).hasClass("gapped")?l:0}function o(t){return e(t).hasClass("vertical")?"portrait":"landscape"}function r(n){var i=s[e(n.currentTarget).parents("section").attr("id")];return e(n.currentTarget).parent().hasClass("next")?(i.select(i.getRelativeItem(1),null),direction="Next"):e(n.currentTarget).parent().hasClass("previous")&&(i.select(i.getRelativeItem(-1),null),direction="Previous"),t.publish("CAROUSEL_NAV_CLICK",{event:n,carousel:i,direction:direction}),!1}function a(n){var i;e(n.currentTarget).parents("section").hasClass("shop-this-article")&&(i=e(n.currentTarget).attr("href"),"undefined"!=typeof i&&t.publish("GOOGLE_TRACK_EVENT",{category:"Article Shopping",action:"Product Clicks",label:i,value:void 0}))}var s={},l=40;return{init:n}}),define("jquery-migrate",["jquery"],function(e){function t(t){var n=window.console;i[t]||(i[t]=!0,e.migrateWarnings.push(t),n&&n.warn&&!e.migrateMute&&(n.warn("JQMIGRATE: "+t),e.migrateTrace&&n.trace&&n.trace()))}function n(n,i,o,r){if(Object.defineProperty)try{return Object.defineProperty(n,i,{configurable:!0,enumerable:!0,get:function(){return t(r),o},set:function(e){t(r),o=e}}),void 0}catch(a){}e._definePropertyBroken=!0,n[i]=o}var i={};e.migrateWarnings=[],!e.migrateMute&&window.console&&window.console.log&&window.console.log("JQMIGRATE: Logging is active"),void 0===e.migrateTrace&&(e.migrateTrace=!0),e.migrateReset=function(){i={},e.migrateWarnings.length=0},"BackCompat"===document.compatMode&&t("jQuery is not compatible with Quirks Mode");var o=e("<input/>",{size:1}).attr("size")&&e.attrFn,r=e.attr,a=e.attrHooks.value&&e.attrHooks.value.get||function(){return null},s=e.attrHooks.value&&e.attrHooks.value.set||function(){return void 0},l=/^(?:input|button)$/i,d=/^[238]$/,c=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,u=/^(?:checked|selected)$/i;n(e,"attrFn",o||{},"jQuery.attrFn is deprecated"),e.attr=function(n,i,a,s){var h=i.toLowerCase(),f=n&&n.nodeType;return s&&(r.length<4&&t("jQuery.fn.attr( props, pass ) is deprecated"),n&&!d.test(f)&&(o?i in o:e.isFunction(e.fn[i])))?e(n)[i](a):("type"===i&&void 0!==a&&l.test(n.nodeName)&&n.parentNode&&t("Can't change the 'type' of an input or button in IE 6/7/8"),!e.attrHooks[h]&&c.test(h)&&(e.attrHooks[h]={get:function(t,n){var i,o=e.prop(t,n);return o===!0||"boolean"!=typeof o&&(i=t.getAttributeNode(n))&&i.nodeValue!==!1?n.toLowerCase():void 0},set:function(t,n,i){var o;return n===!1?e.removeAttr(t,i):(o=e.propFix[i]||i,o in t&&(t[o]=!0),t.setAttribute(i,i.toLowerCase())),i}},u.test(h)&&t("jQuery.fn.attr('"+h+"') may use property instead of attribute")),r.call(e,n,i,a))},e.attrHooks.value={get:function(e,n){var i=(e.nodeName||"").toLowerCase();return"button"===i?a.apply(this,arguments):("input"!==i&&"option"!==i&&t("jQuery.fn.attr('value') no longer gets properties"),n in e?e.value:null)},set:function(e,n){var i=(e.nodeName||"").toLowerCase();return"button"===i?s.apply(this,arguments):("input"!==i&&"option"!==i&&t("jQuery.fn.attr('value', val) no longer sets properties"),e.value=n,void 0)}};var h,f,p=e.fn.init,m=e.parseJSON,g=/^([^<]*)(<[\w\W]+>)([^>]*)$/;e.fn.init=function(n,i,o){var r;return n&&"string"==typeof n&&!e.isPlainObject(i)&&(r=g.exec(e.trim(n)))&&r[0]&&("<"!==n.charAt(0)&&t("$(html) HTML strings must start with '<' character"),r[3]&&t("$(html) HTML text after last tag is ignored"),"#"===r[0].charAt(0)&&(t("HTML string cannot start with a '#' character"),e.error("JQMIGRATE: Invalid selector string (XSS)")),i&&i.context&&(i=i.context),e.parseHTML)?p.call(this,e.parseHTML(r[2],i,!0),i,o):p.apply(this,arguments)},e.fn.init.prototype=e.fn,e.parseJSON=function(e){return e||null===e?m.apply(this,arguments):(t("jQuery.parseJSON requires a valid JSON string"),null)},e.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e.browser||(h=e.uaMatch(navigator.userAgent),f={},h.browser&&(f[h.browser]=!0,f.version=h.version),f.chrome?f.webkit=!0:f.webkit&&(f.safari=!0),e.browser=f),n(e,"browser",e.browser,"jQuery.browser is deprecated"),e.sub=function(){function n(e,t){return new n.fn.init(e,t)}e.extend(!0,n,this),n.superclass=this,n.fn=n.prototype=this(),n.fn.constructor=n,n.sub=this.sub,n.fn.init=function(t,o){return o&&o instanceof e&&!(o instanceof n)&&(o=n(o)),e.fn.init.call(this,t,o,i)},n.fn.init.prototype=n.fn;var i=n(document);return t("jQuery.sub() is deprecated"),n},e.ajaxSetup({converters:{"text json":e.parseJSON}});var v=e.fn.data;e.fn.data=function(n){var i,o,r=this[0];return!r||"events"!==n||1!==arguments.length||(i=e.data(r,n),o=e._data(r,n),void 0!==i&&i!==o||void 0===o)?v.apply(this,arguments):(t("Use of jQuery.fn.data('events') is deprecated"),o)};var y=/\/(java|ecma)script/i,w=e.fn.andSelf||e.fn.addBack;e.fn.andSelf=function(){return t("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),w.apply(this,arguments)},e.clean||(e.clean=function(n,i,o,r){i=i||document,i=!i.nodeType&&i[0]||i,i=i.ownerDocument||i,t("jQuery.clean() is deprecated");var a,s,l,d,c=[];if(e.merge(c,e.buildFragment(n,i).childNodes),o)for(l=function(e){return!e.type||y.test(e.type)?r?r.push(e.parentNode?e.parentNode.removeChild(e):e):o.appendChild(e):void 0},a=0;null!=(s=c[a]);a++)e.nodeName(s,"script")&&l(s)||(o.appendChild(s),"undefined"!=typeof s.getElementsByTagName&&(d=e.grep(e.merge([],s.getElementsByTagName("script")),l),c.splice.apply(c,[a+1,0].concat(d)),a+=d.length));return c});var b=e.event.add,S=e.event.remove,_=e.event.trigger,x=e.fn.toggle,T=e.fn.live,k=e.fn.die,C="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",I=new RegExp("\\b(?:"+C+")\\b"),E=/(?:^|\s)hover(\.\S+|)\b/,O=function(n){return"string"!=typeof n||e.event.special.hover?n:(E.test(n)&&t("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),n&&n.replace(E,"mouseenter$1 mouseleave$1"))};e.event.props&&"attrChange"!==e.event.props[0]&&e.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),e.event.dispatch&&n(e.event,"handle",e.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),e.event.add=function(e,n,i,o,r){e!==document&&I.test(n)&&t("AJAX events should be attached to document: "+n),b.call(this,e,O(n||""),i,o,r)},e.event.remove=function(e,t,n,i,o){S.call(this,e,O(t)||"",n,i,o)},e.fn.error=function(){var e=Array.prototype.slice.call(arguments,0);return t("jQuery.fn.error() is deprecated"),e.splice(0,0,"error"),arguments.length?this.bind.apply(this,e):(this.triggerHandler.apply(this,e),this)},e.fn.toggle=function(n,i){if(!e.isFunction(n)||!e.isFunction(i))return x.apply(this,arguments);t("jQuery.fn.toggle(handler, handler...) is deprecated");var o=arguments,r=n.guid||e.guid++,a=0,s=function(t){var i=(e._data(this,"lastToggle"+n.guid)||0)%a;return e._data(this,"lastToggle"+n.guid,i+1),t.preventDefault(),o[i].apply(this,arguments)||!1};for(s.guid=r;a<o.length;)o[a++].guid=r;return this.click(s)},e.fn.live=function(n,i,o){return t("jQuery.fn.live() is deprecated"),T?T.apply(this,arguments):(e(this.context).on(n,this.selector,i,o),this)},e.fn.die=function(n,i){return t("jQuery.fn.die() is deprecated"),k?k.apply(this,arguments):(e(this.context).off(n,this.selector||"**",i),this)},e.event.trigger=function(e,n,i,o){return i||I.test(e)||t("Global events are undocumented and deprecated"),_.call(this,e,n,i||document,o)},e.each(C.split("|"),function(t,n){e.event.special[n]={setup:function(){var t=this;return t!==document&&(e.event.add(document,n+"."+e.guid,function(){e.event.trigger(n,null,t,!0)}),e._data(this,n,e.guid++)),!1},teardown:function(){return this!==document&&e.event.remove(document,n+"."+e._data(this,n)),!1}}})}),R29.Script=function(e){e&&this.setOptions(e),this.onInitialize&&this.onInitialize(),this.isEager()&&this.load()},R29.Script.prototype.groups={},R29.Script.prototype.setOptions=function(e){if(e)for(var t in e)this[t]=e[t]},R29.Script.prototype.isEager=function(){return this.eager},R29.Script.prototype.isLoaded=function(e){return this.loaded==e},R29.Script.prototype.isLoading=function(e){if(this.global)for(var t,n=document.getElementsByTagName("script"),i=0;t=n[i++];)if(t.src.indexOf(e)>-1)return t;return this.loading==e},R29.Script.prototype.include=function(e,t){var n=document.createElement("script");return n.type="text/javascript",n.onload=n.onerror=t,n.src=e,n},R29.Script.prototype.load=function(e,t,n){if(e||(e=this.getURL&&this.getURL()||this.src||this[location.protocol]||this.http),this.isLoaded(e))return this.loaded||(this.loaded=e,this.onCache&&this.onCache(),this.onComplete&&this.onComplete(),this.onSuccess&&this.onSuccess(),t&&t.call(this)),void 0;var i=this.isLoading(e);if(i){if(!this.loading)if(n&&n.call(this),this.loading=e,i.nodeType){this.script=i;var o=this;i.addEventListener("load",function(e){o.onFinish(e,s,t,i)})}else this.isLoaded!=LSD.Script.prototype.isLoaded}else if(e&&this.loading!=e){var o=this,r=this.group;this.loading=e;var a=this.include(e,function(e){delete o.loading,o.onFinish(e,s,t,a)});if(this.script||(this.script=a),r)var s=this.groups[r]||(this.groups[r]=[]);return s&&1!=s.push(a)?n&&(a.onstart=n):(n&&n.call(this),a.nodeType?document.body.appendChild(a):setTimeout(a,10)),a}},R29.Script.prototype.onFinish=function(e,t,n,i){if(this.script==i&&(this.loaded=i.src,this.onComplete&&this.onComplete(e),"error"==e.type?this.onError&&this.onError(e,i):this.onSuccess&&this.onSuccess(e,i)),n&&n.call(this,e,i),t){t.shift();var o=t[0];o&&(o.onstart&&(o.onstart.call(this),delete o.onstart),o.nodeType?document.body.appendChild(o):setTimeout(o,10))}},define("rf29.script",["R29","jquery-migrate"],function(){}),R29.Video=function(e,t){if(e&&e.nodeType){var n=e;e=t,t=n}for(var i in this)"on"==i.substring(0,2)&&(this[i]=this[i].bind(this));if(!e&&t){for(var o,r=t.getElementsByTagName("param"),a=0;o=r[a++];)if("@videoPlayer"==o.getAttribute("name")){this.id=o.getAttribute("value");break}}else this.id=e;this.id&&(this.instances[this.id]=this),this.element=t,R29.Script.call(this)},R29.Video.onLoad=function(e){var t=R29.Video.prototype.instances[e];t?t.onLoad(e):new R29.Video(e)},R29.Video.prototype=new R29.Script,R29.Video.prototype.instances={},R29.Video.prototype.isLoaded=function(){return"undefined"!=typeof window.brightcove},R29.Video.prototype.src="http://admin.brightcove.com/js/BrightcoveExperiences.js",R29.Video.prototype.global=!0,R29.Video.prototype.threshold=1e4,R29.Video.prototype.isEager=function(){return!this.element||-1==this.element.className.indexOf("lazy")},R29.Video.prototype.set=function(e){this.player.loadVideoByID(e)},R29.Video.prototype.cue=function(e){"undefined"!=typeof this.player?this.player.cueVideoByID(e):this.delayCue=e},R29.Video.prototype.start=function(){"undefined"!=typeof this.player&&this.player.play()},R29.Video.prototype.stop=function(){this.player&&this.player.pause()},R29.Video.prototype.toggle=function(){this.playing?this.stop():this.start()},R29.Video.prototype.initialize=function(e){var t=this.element.getElementsByTagName("object")[0];t&&(t.id||(t.id=e||Math.random()),t.className="BrightcoveExperience",brightcove.createExperiences(null,t.id)),this.element.classList.add("initialized")},R29.Video.prototype.onSuccess=function(){var e=this.initialize(this.id);e&&(this.experience=e,this.onLoad(e.id))},R29.Video.prototype.onReady=function(){this.element.classList.add("ready"),"undefined"!=typeof this.delayCue&&null!==this.delayCue?this.stop():this.play()},R29.Video.prototype.onLoad=function(e){var t=this.experience=brightcove.api.getExperience(e);this.player=t.getModule(brightcove.api.modules.APIModules.VIDEO_PLAYER),"undefined"!=typeof this.delayCue&&null!==this.delayCue&&this.player.cueVideoByID(this.delayCue);try{var n=this.ad=this.experience.getModule("advertising");if(!n)return}catch(i){}var o=this.experience.getModule("experience"),r=this;o.addEventListener("templateReady",function a(){r.onReady(),o.removeEventListener("templateReady",a);var t=document.getElementById(e);t.parentNode,adSkipper.onclick=function(e){e.preventDefault(),e.stopPropagation(),r.onAdSkip(),n.stopAd()},n.addEventListener("adStart",r.onAdStart),n.addEventListener("adComplete",r.onAdComplete)})},R29.Video.prototype.onMouseOver=function(){return this.element.classList.add("engaged"),this.load()||this.play()},R29.Video.prototype.onMouseOut=function(){return this.element.classList.remove("engaged"),this.stop()},R29.Video.prototype.onStart=function(){this.playing=!0,this.element.classList.add("playing")},R29.Video.prototype.onStop=function(){this.playing=!1,this.element.classList.remove("playing")},R29.Video.prototype.onAdStart=function(){this.timeout=setTimeout(this.onAdSkippable,this.threshold)},R29.Video.prototype.onAdComplete=function(){clearTimeout(this.timeout),this.skipper&&this.skipper.setAttribute("hidden","hidden")},R29.Video.prototype.onAdSkip=function(){this.skipper&&this.skipper.setAttribute("hidden","hidden")},R29.Video.prototype.onAdSkippable=function(){this.skipper?this.skipper.removeAttribute("hidden"):(this.skipper=document.createElement("span"),this.skipper.className="skip-ad",this.element.appenndChild(this.skipper))},R29.Video.prototype.play=R29.Video.prototype.start,define("brightcove",["R29","rf29.script"],function(e){return function(){var t,n;return n=function(){return R29.onVideoLoad=R29.Video.onLoad,R29.Video},t=n.apply(e,arguments)}}(this)),function(e){function t(e,t){return function(n){return l(e.call(this,n),t)}}function n(e,t){return function(n){return this.lang().ordinal(e.call(this,n),t)}}function i(){}function o(e){b(e),a(this,e)}function r(e){var t=p(e),n=t.year||0,i=t.month||0,o=t.week||0,r=t.day||0,a=t.hour||0,s=t.minute||0,l=t.second||0,d=t.millisecond||0;this._input=e,this._milliseconds=+d+1e3*l+6e4*s+36e5*a,this._days=+r+7*o,this._months=+i+12*n,this._data={},this._bubble()}function a(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return t.hasOwnProperty("toString")&&(e.toString=t.toString),t.hasOwnProperty("valueOf")&&(e.valueOf=t.valueOf),e}function s(e){return 0>e?Math.ceil(e):Math.floor(e)}function l(e,t){for(var n=e+"";n.length<t;)n="0"+n;return n}function d(e,t,n,i){var o,r,a=t._milliseconds,s=t._days,l=t._months;a&&e._d.setTime(+e._d+a*n),(s||l)&&(o=e.minute(),r=e.hour()),s&&e.date(e.date()+s*n),l&&e.month(e.month()+l*n),a&&!i&&tt.updateOffset(e),(s||l)&&(e.minute(o),e.hour(r))}function c(e){return"[object Array]"===Object.prototype.toString.call(e)}function u(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function h(e,t,n){var i,o=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),a=0;for(i=0;o>i;i++)(n&&e[i]!==t[i]||!n&&g(e[i])!==g(t[i]))&&a++;return a+r}function f(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=Rt[e]||$t[t]||t}return e}function p(e){var t,n,i={};for(n in e)e.hasOwnProperty(n)&&(t=f(n),t&&(i[t]=e[n]));return i}function m(t){var n,i;if(0===t.indexOf("week"))n=7,i="day";else{if(0!==t.indexOf("month"))return;n=12,i="month"}tt[t]=function(o,r){var a,s,l=tt.fn._lang[t],d=[];if("number"==typeof o&&(r=o,o=e),s=function(e){var t=tt().utc().set(i,e);return l.call(tt.fn._lang,t,o||"")},null!=r)return s(r);for(a=0;n>a;a++)d.push(s(a));return d}}function g(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=t>=0?Math.floor(t):Math.ceil(t)),n}function v(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function y(e){return w(e)?366:365}function w(e){return 0===e%4&&0!==e%100||0===e%400}function b(e){var t;e._a&&-2===e._pf.overflow&&(t=e._a[at]<0||e._a[at]>11?at:e._a[st]<1||e._a[st]>v(e._a[rt],e._a[at])?st:e._a[lt]<0||e._a[lt]>23?lt:e._a[dt]<0||e._a[dt]>59?dt:e._a[ct]<0||e._a[ct]>59?ct:e._a[ut]<0||e._a[ut]>999?ut:-1,e._pf._overflowDayOfYear&&(rt>t||t>st)&&(t=st),e._pf.overflow=t)}function S(e){e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function _(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length)),e._isValid}function x(e){return e?e.toLowerCase().replace("_","-"):e}function T(e,t){return t.abbr=e,ht[e]||(ht[e]=new i),ht[e].set(t),ht[e]}function k(e){delete ht[e]}function C(e){var t,n,i,o,r=0,a=function(e){if(!ht[e]&&ft)try{require("./lang/"+e)}catch(t){}return ht[e]};if(!e)return tt.fn._lang;if(!c(e)){if(n=a(e))return n;e=[e]}for(;r<e.length;){for(o=x(e[r]).split("-"),t=o.length,i=x(e[r+1]),i=i?i.split("-"):null;t>0;){if(n=a(o.slice(0,t).join("-")))return n;if(i&&i.length>=t&&h(o,i,!0)>=t-1)break;t--}r++}return tt.fn._lang}function I(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function E(e){var t,n,i=e.match(vt);for(t=0,n=i.length;n>t;t++)i[t]=Ft[i[t]]?Ft[i[t]]:I(i[t]);return function(o){var r="";for(t=0;n>t;t++)r+=i[t]instanceof Function?i[t].call(o,e):i[t];return r}}function O(e,t){return e.isValid()?(t=A(t,e.lang()),Pt[t]||(Pt[t]=E(t)),Pt[t](e)):e.lang().invalidDate()}function A(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(yt.lastIndex=0;i>=0&&yt.test(e);)e=e.replace(yt,n),yt.lastIndex=0,i-=1;return e}function M(e,t){var n;switch(e){case"DDDD":return St;case"YYYY":case"GGGG":case"gggg":return _t;case"YYYYY":case"GGGGG":case"ggggg":return xt;case"S":case"SS":case"SSS":case"DDD":return bt;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return kt;case"a":case"A":return C(t._l)._meridiemParse;case"X":return Et;case"Z":case"ZZ":return Ct;case"T":return It;case"SSSS":return Tt;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"ww":case"W":case"WW":case"e":case"E":return wt;default:return n=new RegExp(j(P(e.replace("\\","")),"i"))}}function N(e){var t=(Ct.exec(e)||[])[0],n=(t+"").match(Dt)||["-",0,0],i=+(60*n[1])+g(n[2]);return"+"===n[0]?-i:i}function D(e,t,n){var i,o=n._a;switch(e){case"M":case"MM":null!=t&&(o[at]=g(t)-1);break;case"MMM":case"MMMM":i=C(n._l).monthsParse(t),null!=i?o[at]=i:n._pf.invalidMonth=t;break;case"D":case"DD":null!=t&&(o[st]=g(t));break;case"DDD":case"DDDD":null!=t&&(n._dayOfYear=g(t));break;case"YY":o[rt]=g(t)+(g(t)>68?1900:2e3);break;case"YYYY":case"YYYYY":o[rt]=g(t);break;case"a":case"A":n._isPm=C(n._l).isPM(t);break;case"H":case"HH":case"h":case"hh":o[lt]=g(t);break;case"m":case"mm":o[dt]=g(t);break;case"s":case"ss":o[ct]=g(t);break;case"S":case"SS":case"SSS":case"SSSS":o[ut]=g(1e3*("0."+t));break;case"X":n._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=N(t);break;case"w":case"ww":case"W":case"WW":case"d":case"dd":case"ddd":case"dddd":case"e":case"E":e=e.substr(0,1);case"gg":case"gggg":case"GG":case"GGGG":case"GGGGG":e=e.substr(0,2),t&&(n._w=n._w||{},n._w[e]=t)}}function L(e){var t,n,i,o,r,a,s,l,d,c,u=[];if(!e._d){for(i=R(e),e._w&&null==e._a[st]&&null==e._a[at]&&(r=function(t){return t?t.length<3?parseInt(t,10)>68?"19"+t:"20"+t:t:null==e._a[rt]?tt().weekYear():e._a[rt]},a=e._w,null!=a.GG||null!=a.W||null!=a.E?s=Q(r(a.GG),a.W||1,a.E,4,1):(l=C(e._l),d=null!=a.d?z(a.d,l):null!=a.e?parseInt(a.e,10)+l._week.dow:0,c=parseInt(a.w,10)||1,null!=a.d&&d<l._week.dow&&c++,s=Q(r(a.gg),c,d,l._week.doy,l._week.dow)),e._a[rt]=s.year,e._dayOfYear=s.dayOfYear),e._dayOfYear&&(o=null==e._a[rt]?i[rt]:e._a[rt],e._dayOfYear>y(o)&&(e._pf._overflowDayOfYear=!0),n=G(o,0,e._dayOfYear),e._a[at]=n.getUTCMonth(),e._a[st]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=u[t]=i[t];for(;7>t;t++)e._a[t]=u[t]=null==e._a[t]?2===t?1:0:e._a[t];u[lt]+=g((e._tzm||0)/60),u[dt]+=g((e._tzm||0)%60),e._d=(e._useUTC?G:Y).apply(null,u)}}function q(e){var t;e._d||(t=p(e._i),e._a=[t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond],L(e))}function R(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function $(e){e._a=[],e._pf.empty=!0;var t,n,i,o,r,a=C(e._l),s=""+e._i,l=s.length,d=0;for(i=A(e._f,a).match(vt)||[],t=0;t<i.length;t++)o=i[t],n=(M(o,e).exec(s)||[])[0],n&&(r=s.substr(0,s.indexOf(n)),r.length>0&&e._pf.unusedInput.push(r),s=s.slice(s.indexOf(n)+n.length),d+=n.length),Ft[o]?(n?e._pf.empty=!1:e._pf.unusedTokens.push(o),D(o,n,e)):e._strict&&!n&&e._pf.unusedTokens.push(o);e._pf.charsLeftOver=l-d,s.length>0&&e._pf.unusedInput.push(s),e._isPm&&e._a[lt]<12&&(e._a[lt]+=12),e._isPm===!1&&12===e._a[lt]&&(e._a[lt]=0),L(e),b(e)}function P(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,o){return t||n||i||o})}function j(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function H(e){var t,n,i,o,r;if(0===e._f.length)return e._pf.invalidFormat=!0,e._d=new Date(0/0),void 0;for(o=0;o<e._f.length;o++)r=0,t=a({},e),S(t),t._f=e._f[o],$(t),_(t)&&(r+=t._pf.charsLeftOver,r+=10*t._pf.unusedTokens.length,t._pf.score=r,(null==i||i>r)&&(i=r,n=t));a(e,n||t)}function F(e){var t,n=e._i,i=Ot.exec(n);if(i){for(e._pf.iso=!0,t=4;t>0;t--)if(i[t]){e._f=Mt[t-1]+(i[6]||" ");break}for(t=0;4>t;t++)if(Nt[t][1].exec(n)){e._f+=Nt[t][0];break}Ct.exec(n)&&(e._f+="Z"),$(e)}else e._d=new Date(n)}function B(t){var n=t._i,i=pt.exec(n);n===e?t._d=new Date:i?t._d=new Date(+i[1]):"string"==typeof n?F(t):c(n)?(t._a=n.slice(0),L(t)):u(n)?t._d=new Date(+n):"object"==typeof n?q(t):t._d=new Date(n)}function Y(e,t,n,i,o,r,a){var s=new Date(e,t,n,i,o,r,a);return 1970>e&&s.setFullYear(e),s}function G(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function z(e,t){if("string"==typeof e)if(isNaN(e)){if(e=t.weekdaysParse(e),"number"!=typeof e)return null}else e=parseInt(e,10);return e}function V(e,t,n,i,o){return o.relativeTime(t||1,!!n,e,i)}function U(e,t,n){var i=ot(Math.abs(e)/1e3),o=ot(i/60),r=ot(o/60),a=ot(r/24),s=ot(a/365),l=45>i&&["s",i]||1===o&&["m"]||45>o&&["mm",o]||1===r&&["h"]||22>r&&["hh",r]||1===a&&["d"]||25>=a&&["dd",a]||45>=a&&["M"]||345>a&&["MM",ot(a/30)]||1===s&&["y"]||["yy",s];return l[2]=t,l[3]=e>0,l[4]=n,V.apply({},l)}function W(e,t,n){var i,o=n-t,r=n-e.day();return r>o&&(r-=7),o-7>r&&(r+=7),i=tt(e).add("d",r),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function Q(e,t,n,i,o){var r,a,s=new Date(Date.UTC(e,0)).getUTCDay();return n=null!=n?n:o,r=o-s+(s>i?7:0),a=7*(t-1)+(n-o)+r+1,{year:a>0?e:e-1,dayOfYear:a>0?a:y(e-1)+a}}function K(e){var t=e._i,n=e._f;return"undefined"==typeof e._pf&&S(e),null===t?tt.invalid({nullInput:!0}):("string"==typeof t&&(e._i=t=C().preparse(t)),tt.isMoment(t)?(e=a({},t),e._d=new Date(+t._d)):n?c(n)?H(e):$(e):B(e),new o(e))}function Z(e,t){tt.fn[e]=tt.fn[e+"s"]=function(e){var n=this._isUTC?"UTC":"";return null!=e?(this._d["set"+n+t](e),tt.updateOffset(this),this):this._d["get"+n+t]()}}function X(e){tt.duration.fn[e]=function(){return this._data[e]}}function J(e,t){tt.duration.fn["as"+e]=function(){return+this/t}}function et(e){var t=!1,n=tt;"undefined"==typeof ender&&(this.moment=e?function(){return!t&&console&&console.warn&&(t=!0,console.warn("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.")),n.apply(null,arguments)}:tt)}for(var tt,nt,it="2.4.0",ot=Math.round,rt=0,at=1,st=2,lt=3,dt=4,ct=5,ut=6,ht={},ft="undefined"!=typeof module&&module.exports,pt=/^\/?Date\((\-?\d+)/i,mt=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,gt=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,vt=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,yt=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,wt=/\d\d?/,bt=/\d{1,3}/,St=/\d{3}/,_t=/\d{1,4}/,xt=/[+\-]?\d{1,6}/,Tt=/\d+/,kt=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Ct=/Z|[\+\-]\d\d:?\d\d/i,It=/T/i,Et=/[\+\-]?\d+(\.\d{1,3})?/,Ot=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d:?\d\d|Z)?)?$/,At="YYYY-MM-DDTHH:mm:ssZ",Mt=["YYYY-MM-DD","GGGG-[W]WW","GGGG-[W]WW-E","YYYY-DDD"],Nt=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Dt=/([\+\-]|\d\d)/gi,Lt="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),qt={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},Rt={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},$t={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},Pt={},jt="DDD w W M D d".split(" "),Ht="M D H h m s w W".split(" "),Ft={M:function(){return this.month()+1},MMM:function(e){return this.lang().monthsShort(this,e)},MMMM:function(e){return this.lang().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.lang().weekdaysMin(this,e)},ddd:function(e){return this.lang().weekdaysShort(this,e)},dddd:function(e){return this.lang().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return l(this.year()%100,2)},YYYY:function(){return l(this.year(),4)},YYYYY:function(){return l(this.year(),5)},gg:function(){return l(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return l(this.weekYear(),5)},GG:function(){return l(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return l(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return g(this.milliseconds()/100)},SS:function(){return l(g(this.milliseconds()/10),2)},SSS:function(){return l(this.milliseconds(),3)},SSSS:function(){return l(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+l(g(e/60),2)+":"+l(g(e)%60,2)},ZZ:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+l(g(10*e/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}},Bt=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];jt.length;)nt=jt.pop(),Ft[nt+"o"]=n(Ft[nt],nt);for(;Ht.length;)nt=Ht.pop(),Ft[nt+nt]=t(Ft[nt],2);for(Ft.DDDD=t(Ft.DDD,3),a(i.prototype,{set:function(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e){var t,n,i;for(this._monthsParse||(this._monthsParse=[]),t=0;12>t;t++)if(this._monthsParse[t]||(n=tt.utc([2e3,t]),i="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[t]=new RegExp(i.replace(".",""),"i")),this._monthsParse[t].test(e))return t},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(n=tt([2e3,1]).day(t),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t){var n=this._calendar[e];return"function"==typeof n?n.apply(t):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,i){var o=this._relativeTime[n];return"function"==typeof o?o(e,t,n,i):o.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",preparse:function(e){return e},postformat:function(e){return e},week:function(e){return W(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),tt=function(t,n,i,o){return"boolean"==typeof i&&(o=i,i=e),K({_i:t,_f:n,_l:i,_strict:o,_isUTC:!1})
},tt.utc=function(t,n,i,o){var r;return"boolean"==typeof i&&(o=i,i=e),r=K({_useUTC:!0,_isUTC:!0,_l:i,_i:t,_f:n,_strict:o}).utc()},tt.unix=function(e){return tt(1e3*e)},tt.duration=function(e,t){var n,i,o,a=tt.isDuration(e),s="number"==typeof e,l=a?e._input:s?{}:e,d=null;return s?t?l[t]=e:l.milliseconds=e:(d=mt.exec(e))?(n="-"===d[1]?-1:1,l={y:0,d:g(d[st])*n,h:g(d[lt])*n,m:g(d[dt])*n,s:g(d[ct])*n,ms:g(d[ut])*n}):(d=gt.exec(e))&&(n="-"===d[1]?-1:1,o=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*n},l={y:o(d[2]),M:o(d[3]),d:o(d[4]),h:o(d[5]),m:o(d[6]),s:o(d[7]),w:o(d[8])}),i=new r(l),a&&e.hasOwnProperty("_lang")&&(i._lang=e._lang),i},tt.version=it,tt.defaultFormat=At,tt.updateOffset=function(){},tt.lang=function(e,t){var n;return e?(t?T(x(e),t):null===t?(k(e),e="en"):ht[e]||C(e),n=tt.duration.fn._lang=tt.fn._lang=C(e),n._abbr):tt.fn._lang._abbr},tt.langData=function(e){return e&&e._lang&&e._lang._abbr&&(e=e._lang._abbr),C(e)},tt.isMoment=function(e){return e instanceof o},tt.isDuration=function(e){return e instanceof r},nt=Bt.length-1;nt>=0;--nt)m(Bt[nt]);for(tt.normalizeUnits=function(e){return f(e)},tt.invalid=function(e){var t=tt.utc(0/0);return null!=e?a(t._pf,e):t._pf.userInvalidated=!0,t},tt.parseZone=function(e){return tt(e).parseZone()},a(tt.fn=o.prototype,{clone:function(){return tt(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return O(tt(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return _(this)},isDSTShifted:function(){return this._a?this.isValid()&&h(this._a,(this._isUTC?tt.utc(this._a):tt(this._a)).toArray())>0:!1},parsingFlags:function(){return a({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(e){var t=O(this,e||tt.defaultFormat);return this.lang().postformat(t)},add:function(e,t){var n;return n="string"==typeof e?tt.duration(+t,e):tt.duration(e,t),d(this,n,1),this},subtract:function(e,t){var n;return n="string"==typeof e?tt.duration(+t,e):tt.duration(e,t),d(this,n,-1),this},diff:function(e,t,n){var i,o,r=this._isUTC?tt(e).zone(this._offset||0):tt(e).local(),a=6e4*(this.zone()-r.zone());return t=f(t),"year"===t||"month"===t?(i=432e5*(this.daysInMonth()+r.daysInMonth()),o=12*(this.year()-r.year())+(this.month()-r.month()),o+=(this-tt(this).startOf("month")-(r-tt(r).startOf("month")))/i,o-=6e4*(this.zone()-tt(this).startOf("month").zone()-(r.zone()-tt(r).startOf("month").zone()))/i,"year"===t&&(o/=12)):(i=this-r,o="second"===t?i/1e3:"minute"===t?i/6e4:"hour"===t?i/36e5:"day"===t?(i-a)/864e5:"week"===t?(i-a)/6048e5:i),n?o:s(o)},from:function(e,t){return tt.duration(this.diff(e)).lang(this.lang()._abbr).humanize(!t)},fromNow:function(e){return this.from(tt(),e)},calendar:function(){var e=this.diff(tt().zone(this.zone()).startOf("day"),"days",!0),t=-6>e?"sameElse":-1>e?"lastWeek":0>e?"lastDay":1>e?"sameDay":2>e?"nextDay":7>e?"nextWeek":"sameElse";return this.format(this.lang().calendar(t,this))},isLeapYear:function(){return w(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=z(e,this.lang()),this.add({d:e-t})):t},month:function(e){var t,n=this._isUTC?"UTC":"";return null!=e?"string"==typeof e&&(e=this.lang().monthsParse(e),"number"!=typeof e)?this:(t=this.date(),this.date(1),this._d["set"+n+"Month"](e),this.date(Math.min(t,this.daysInMonth())),tt.updateOffset(this),this):this._d["get"+n+"Month"]()},startOf:function(e){switch(e=f(e)){case"year":this.month(0);case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),this},endOf:function(e){return e=f(e),this.startOf(e).add("isoWeek"===e?"week":e,1).subtract("ms",1)},isAfter:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)>+tt(e).startOf(t)},isBefore:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)<+tt(e).startOf(t)},isSame:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)===+tt(e).startOf(t)},min:function(e){return e=tt.apply(null,arguments),this>e?this:e},max:function(e){return e=tt.apply(null,arguments),e>this?this:e},zone:function(e){var t=this._offset||0;return null==e?this._isUTC?t:this._d.getTimezoneOffset():("string"==typeof e&&(e=N(e)),Math.abs(e)<16&&(e=60*e),this._offset=e,this._isUTC=!0,t!==e&&d(this,tt.duration(t-e,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(e){return e=e?tt(e).zone():0,0===(this.zone()-e)%60},daysInMonth:function(){return v(this.year(),this.month())},dayOfYear:function(e){var t=ot((tt(this).startOf("day")-tt(this).startOf("year"))/864e5)+1;return null==e?t:this.add("d",e-t)},weekYear:function(e){var t=W(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==e?t:this.add("y",e-t)},isoWeekYear:function(e){var t=W(this,1,4).year;return null==e?t:this.add("y",e-t)},week:function(e){var t=this.lang().week(this);return null==e?t:this.add("d",7*(e-t))},isoWeek:function(e){var t=W(this,1,4).week;return null==e?t:this.add("d",7*(e-t))},weekday:function(e){var t=(this.day()+7-this.lang()._week.dow)%7;return null==e?t:this.add("d",e-t)},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},get:function(e){return e=f(e),this[e]()},set:function(e,t){return e=f(e),"function"==typeof this[e]&&this[e](t),this},lang:function(t){return t===e?this._lang:(this._lang=C(t),this)}}),nt=0;nt<Lt.length;nt++)Z(Lt[nt].toLowerCase().replace(/s$/,""),Lt[nt]);Z("year","FullYear"),tt.fn.days=tt.fn.day,tt.fn.months=tt.fn.month,tt.fn.weeks=tt.fn.week,tt.fn.isoWeeks=tt.fn.isoWeek,tt.fn.toJSON=tt.fn.toISOString,a(tt.duration.fn=r.prototype,{_bubble:function(){var e,t,n,i,o=this._milliseconds,r=this._days,a=this._months,l=this._data;l.milliseconds=o%1e3,e=s(o/1e3),l.seconds=e%60,t=s(e/60),l.minutes=t%60,n=s(t/60),l.hours=n%24,r+=s(n/24),l.days=r%30,a+=s(r/30),l.months=a%12,i=s(a/12),l.years=i},weeks:function(){return s(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+2592e6*(this._months%12)+31536e6*g(this._months/12)},humanize:function(e){var t=+this,n=U(t,!e,this.lang());return e&&(n=this.lang().pastFuture(t,n)),this.lang().postformat(n)},add:function(e,t){var n=tt.duration(e,t);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(e,t){var n=tt.duration(e,t);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(e){return e=f(e),this[e.toLowerCase()+"s"]()},as:function(e){return e=f(e),this["as"+e.charAt(0).toUpperCase()+e.slice(1)+"s"]()},lang:tt.fn.lang,toIsoString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),n=Math.abs(this.days()),i=Math.abs(this.hours()),o=Math.abs(this.minutes()),r=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(i||o||r?"T":"")+(i?i+"H":"")+(o?o+"M":"")+(r?r+"S":""):"P0D"}});for(nt in qt)qt.hasOwnProperty(nt)&&(J(nt,qt[nt]),X(nt.toLowerCase()));J("Weeks",6048e5),tt.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},tt.lang("en",{ordinal:function(e){var t=e%10,n=1===g(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),ft?(module.exports=tt,et(!0)):"function"==typeof define&&define.amd?define("moment",["require","exports","module"],function(t,n,i){return i.config().noGlobal!==!0&&et(i.config().noGlobal===e),tt}):et()}.call(this),define("r29/r29.stats",["jquery"],function(e){function t(e){var t=document.createElement("img");t.src=a+"/?q="+escape(JSON.stringify(e))+"&_="+(new Date).getTime(),document.getElementsByTagName("body")[0].appendChild(t)}function n(n){try{n instanceof Array||(n=[n]),n=e.map(n,function(e){return[e.event,e.fields]}),t([n])}catch(i){}}function i(e){try{e instanceof Array||(e=[e]);for(var t in e)e[t].event&&e[t].fields&&r.push(e[t])}catch(n){}}function o(){n(r),r=[]}var r=[],a=function(){return"//"+window.location.hostname.replace(/^(www|m|admin|welcome)\./i,"stat.")}();return{send:n,queue:i,commit:o}}),define("r29/r29.tracking",["jquery","moment","r29/r29.cookie","r29/r29.events","r29/r29.stats"],function(e,t,n,i,o){function r(e){if(e?window._gaq.push(["_trackPageview",e]):window._gaq.push(["_trackPageview"]),COMSCORE.beacon({c1:2,c2:"7395029",c3:"www.refinery29.com",c4:currentUrl,c5:"",c6:"",c15:val}),_qoptions={qacct:"p-fesXMHo90Ka_A"},_qpixelsent=new Array,quantserve(),"undefined"!=typeof pSUPERFLY&&pSUPERFLY.virtualPage(e),"undefined"!=typeof environment.internalStats&&environment.internalStats&&o.send({event:"user_page_view",fields:environment.internalStats.fields}),window.PARSELY&&PARSELY.beacon){var t=location.protocol+"//"+location.host,n=e?e:location.href;0==n.indexOf("/")&&(n=t+n),PARSELY.beacon.trackPageView({url:n,urlref:t+location.pathname,js:1,action_name:"R29.tracking.refresh"})}}function a(){e("a").each(function(){var t=e(this),n=t.attr("href");if("undefined"!=typeof n){if(!n.match(/http[s]?:/)||n.match(/^http[s]?:\/\/(www|welcome)\.(([a-z]+\.(dev|local)\.(refinery29|rf29)\.net)|refinery29\.com)/))return;if(t.parents(".ad").length||n.match(/ad.doubleclick.net/))return;"undefined"==typeof t.attr("target")?t.on("click",function(e){return e.preventDefault(),replaced=t.attr("replaced-href"),_gaq.push(["_trackEvent","Outbound Link",escape(n),"",null,!0]),"undefined"==typeof replaced&&(mugicPopWin(e),setTimeout(function(){window.location.href=n},800)),!1}):t.on("click",function(){_gaq.push(["_trackEvent","Outbound Link",escape(n),"",null,!0])})}})}function s(e){if(n.get("article_basenames")){var t=n.get("article_basenames"),i=t.split("|"),o=i.indexOf(e);if(-1!=o)return;i.push(e),i=i.join("|"),n.set("article_basenames",i,0);var r=1+parseInt(n.get("articles_read"),10);n.set("articles_read",r,0),r=r.toString(10),window._gaq.push(["_trackEvent","Articles Read in Session",r,void 0,void 0,!0])}else n.set("article_basenames",e,0),n.set("articles_read",1,0),window._gaq.push(["_trackEvent","Articles Read in Session","1",void 0,void 0,!0])}function l(){n.set("social_shared","1",63072e3)}function d(){var e=Array.prototype.slice.call(arguments,1);return window._gaq.push(["_set","hitCallback",function(){window._gaq.push(["_set","hitCallback",null])}]),window._gaq.push.apply(_gaq,e),!1}function c(e,t,n){window._gaq.push(["_trackEvent",e,t,n,void 0,!0])}function u(){window.trackOutboundEvent=d;var t={"Homepage Hero":"#hero-stories .tiles","Homepage R29 Now":"#jump-to-now article","Homepage World":"#jump-to-must-reads article","Homepage Trending":"#jump-to-trending article","Homepage Shopping":"#jump-to-shop","Homepage Featured":"#jump-to-eds-picks article"};for(var n in t){var i=t[n];e(i).find(".entry_mainlink").each(function(t,n){e(n).on("click",function(t){d(t.currentTarget,["_trackEvent",e(t.currentTarget).attr("data-category"),e(t.currentTarget).attr("data-action"),e(t.currentTarget).attr("data-label"),void 0,!1])})}),e(i).find(".entry_title").each(function(t,n){e(n).on("click",function(t){d(t.currentTarget,["_trackEvent",e(t.currentTarget).attr("data-category"),e(t.currentTarget).attr("data-action"),e(t.currentTarget).attr("data-label"),void 0,!1])})}),e(i).find(".entry_readmore").each(function(t,n){e(n).on("click",function(t){d(t.currentTarget,["_trackEvent",e(t.currentTarget).attr("data-category"),e(t.currentTarget).attr("data-action"),e(t.currentTarget).attr("data-label"),void 0,!1])})})}var o={"Article Feed Module":"#jump-to-explore article","Slideshow Feed Module":"#jump-to-explore .slideshow-discoverability-module article"};for(var n in o){var i=o[n];"Article Feed Module"==n?e(i).find(".entry_mainlink, .entry_title, .entry_readmore").on("click",function(t){d(t.currentTarget,["_trackEvent","Article Feed Module",e(t.currentTarget).attr("data-label"),void 0,void 0,!1])}):e(i).find(".entry_mainlink, .entry_title, .entry_readmore").on("click",function(t){d(t.currentTarget,["_trackEvent","Slideshow Feed Module",e(t.currentTarget).attr("href"),void 0,void 0,!1])})}window.trackMoreBtn=function(e,t,n){var i="",o=e.text.toLowerCase();o.indexOf("more")>-1?i="More Button Click":o.indexOf("archives")>-1&&(i="Archive Button Click"),_gaq.push(["_trackEvent",t,i,n,void 0,!0])},e(".show-more-container").each(function(){if(e(this).attr("data-ga-event-label")){var t=e(this).attr("data-ga-event-category");if(t||"undefined"!=typeof environment.categoryPath&&(unformatted_cat=environment.categoryPath,t=unformatted_cat.charAt(0).toUpperCase()+unformatted_cat.slice(1)),t){var n=e(this).attr("data-ga-event-label"),i="trackMoreBtn(this, '"+t+"', '"+n+"');";e(this).find("a").attr("onClick",i)}}})}function h(n){if("undefined"!=typeof SPR){var i=e.extend({},__reach_config,n);i.date=t(i.date).format("YYYY-MM-DD HH:mm:ss ZZ"),i.date="Invalid date"===i.date?t("Jan 1, 2000 12:00 AM").format("YYYY-MM-DD HH:mm:ss ZZ"):i.date,log("Simple Reach",i),SPR.Reach.collect(i)}else log("typeof SPR is undefined")}function f(){a(),u()}return log("tracking args",arguments),{init:f,refresh:r,outboundLinks:a,articlePerSession:s,social:l,link:d,trackEvent:c,simpleReachCollect:h}}),define("r29/r29.video",["jquery","r29/r29.events","brightcove","r29/r29.tracking"],function(e,t,n,i){function o(i){t.subscribe("CAROUSEL_NAV_CLICK",a),d=i,e(d).each(function(t,i){c["player_"+t]=new n(e(i).get(0)),e(".preview-playhead-large").on("click mouseover mouseout",{instance:c["player_"+t]},l).next().on("click mouseover mouseout",{instance:c["player_"+t]},s)}),e("#videos-carousel").children().on("click",r).find(".preview-playhead-small").on("mouseover mouseout",l).next().on("mouseover mouseout",s)}function r(t){var n=e(t.currentTarget).attr("data-videoid"),i=e(t.currentTarget).attr("data-entryid"),o=e(t.currentTarget).attr("data-excerpt"),r=e(t.currentTarget).attr("data-imageurl"),i=e(t.currentTarget).attr("data-url"),a=e(t.currentTarget).attr("data-title");e(d).each(function(t){e(c["player_"+t].element).find(".preview-playhead-large").next().attr("src",r).end().end().removeClass("engaged ready").find("h2").attr("data-videoid",n).find("a").attr("href",i).html(a).end().end().find("p").html(o+' <a href="'+i+'" class="icon-read-more" title=" read more about: '+a.replace(/(<([^>]+)>)/gi,"").replace(/"/g,"&quot;")+'">read</a>'),"undefined"==typeof c["player_"+t].player&&c["player_"+t].isLoaded()||c["player_"+t].cue(n)})}function a(t){if("undefined"==typeof e(t.carousel.selected).attr("data-videoid"))return!1;var n=e(t.carousel.selected).attr("data-videoid"),i=e(t.carousel.selected).attr("data-entryid"),o=e(t.carousel.selected).attr("data-excerpt"),r=e(t.carousel.selected).attr("data-imageurl"),i=e(t.carousel.selected).attr("data-url"),a=e(t.carousel.selected).attr("data-title");e(d).each(function(t){e(c["player_"+t].element).find(".preview-playhead-large").next().attr("src",r).end().end().removeClass("engaged ready").find("h2").attr("data-videoid",n).find("a").attr("href",i).html(a).end().end().find("p").html(o+' <a href="'+i+'" class="icon-read-more" title=" read more about: '+a.replace(/(<([^>]+)>)/gi,"").replace(/"/g,"&quot;")+'">read</a>'),"undefined"!=typeof c["player_"+t].player?c["player_"+t].cue(n):c["player_"+t].isLoaded()||(c["player_"+t].load(),c["player_"+t].cue(n))})}function s(t){switch(t.type){case"click":t.data.instance.isLoaded()?(e(t.currentTarget).parent().parent().addClass("engaged ready"),t.data.instance.play()):(e(t.currentTarget).parent().parent().addClass("engaged"),t.data.instance.load());break;case"mouseover":e(t.currentTarget).prev().addClass("isHovered");break;case"mouseout":e(t.currentTarget).prev().removeClass("isHovered")}}function l(t){switch(t.type){case"click":t.data.instance.isLoaded()?(e(t.currentTarget).parent().parent().addClass("engaged ready"),t.data.instance.play()):(e(t.currentTarget).parent().parent().addClass("engaged"),t.data.instance.load()),i.trackEvent("Homepage Videos","Video Play",t.data.instance.id);break;case"mouseover":e(t.currentTarget).addClass("isHovered");break;case"mouseout":e(t.currentTarget).removeClass("isHovered")}}var d,c={};return{init:o}}),define("dotdotdot",["jquery"],function(e){function t(e,t,n){var i=e.children(),r=!1;e.empty();for(var a=0,s=i.length;s>a;a++){var l=i.eq(a);if(e.append(l),n&&e.append(n),o(e,t)){l.remove(),r=!0;break}n&&n.remove()}return r}function n(t,r,a,s,l){var d=t.contents(),c=!1;t.empty();for(var u="table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, select, optgroup, option, textarea, script, style",h=0,f=d.length;f>h&&!c;h++){var p=d[h],m=e(p);void 0!==p&&(t.append(m),l&&t[t.is(u)?"after":"append"](l),3==p.nodeType?o(a,s)&&(c=i(m,r,a,s,l)):c=n(m,r,a,s,l),c||l&&l.remove())}return c}function i(e,t,n,a,d){var c=!1,u=e[0];if(void 0===u)return!1;for(var h="letter"==a.wrap?"":" ",f=l(u).split(h),p=-1,m=-1,g=0,v=f.length-1;v>=g;){var y=Math.floor((g+v)/2);if(y==m)break;m=y,s(u,f.slice(0,m+1).join(h)+a.ellipsis),o(n,a)?v=m:(p=m,g=m)}if(-1==p||1==f.length&&0==f[0].length){var w=e.parent();e.remove();var b=d?d.length:0;if(w.contents().size()>b){var S=w.contents().eq(-1-b);c=i(S,t,n,a,d)}else{var _=w.prev(),u=_.contents().eq(-1)[0];if(void 0!==u){var x=r(l(u),a);s(u,x),d&&_.append(d),w.remove(),c=!0}}}else{var x=r(f.slice(0,p+1).join(h),a);c=!0,s(u,x)}return c}function o(e,t){return e.innerHeight()>t.maxHeight}function r(t,n){for(;e.inArray(t.slice(-1),n.lastCharacter.remove)>-1;)t=t.slice(0,-1);return 0>e.inArray(t.slice(-1),n.lastCharacter.noEllipsis)&&(t+=n.ellipsis),t}function a(e){return{width:e.innerWidth(),height:e.innerHeight()}}function s(e,t){e.innerText?e.innerText=t:e.nodeValue?e.nodeValue=t:e.textContent&&(e.textContent=t)}function l(e){return e.innerText?e.innerText:e.nodeValue?e.nodeValue:e.textContent?e.textContent:""}function d(t,n){return void 0===t?!1:t?"string"==typeof t?(t=e(t,n),t.length?t:!1):"object"==typeof t?void 0===t.jquery?!1:t:!1:!1}function c(e){for(var t=e.innerHeight(),n=["paddingTop","paddingBottom"],i=0,o=n.length;o>i;i++){var r=parseInt(e.css(n[i]),10);isNaN(r)&&(r=0),t-=r}return t}function u(e,t){return e?(t="string"==typeof t?"dotdotdot: "+t:["dotdotdot:",t],void 0!==window.console&&void 0!==window.console.log&&window.console.log(t),!1):!1}if(!e.fn.dotdotdot){e.fn.dotdotdot=function(i){if(0==this.length)return i&&i.debug===!1||u(!0,'No element found for "'+this.selector+'".'),this;if(this.length>1)return this.each(function(){e(this).dotdotdot(i)});var r=this;r.data("dotdotdot")&&r.trigger("destroy.dot"),r.data("dotdotdot-style",r.attr("style")),r.css("word-wrap","break-word"),r.bind_events=function(){return r.bind("update.dot",function(i,a){i.preventDefault(),i.stopPropagation(),l.maxHeight="number"==typeof l.height?l.height:c(r),l.maxHeight+=l.tolerance,void 0!==a&&(("string"==typeof a||a instanceof HTMLElement)&&(a=e("<div />").append(a).contents()),a instanceof e&&(s=a)),g=r.wrapInner('<div class="dotdotdot" />').children(),g.empty().append(s.clone(!0)).css({height:"auto",width:"auto",border:"none",padding:0,margin:0});var d=!1,u=!1;return f.afterElement&&(d=f.afterElement.clone(!0),f.afterElement.remove()),o(g,l)&&(u="children"==l.wrap?t(g,l,d):n(g,r,g,l,d)),g.replaceWith(g.contents()),g=null,e.isFunction(l.callback)&&l.callback.call(r[0],u,s),f.isTruncated=u,u}).bind("isTruncated.dot",function(e,t){return e.preventDefault(),e.stopPropagation(),"function"==typeof t&&t.call(r[0],f.isTruncated),f.isTruncated}).bind("originalContent.dot",function(e,t){return e.preventDefault(),e.stopPropagation(),"function"==typeof t&&t.call(r[0],s),s}).bind("destroy.dot",function(e){e.preventDefault(),e.stopPropagation(),r.unwatch().unbind_events().empty().append(s).attr("style",r.data("dotdotdot-style")).data("dotdotdot",!1)}),r},r.unbind_events=function(){return r.unbind(".dot"),r},r.watch=function(){if(r.unwatch(),"window"==l.watch){var t=e(window),n=t.width(),i=t.height();t.bind("resize.dot"+f.dotId,function(){n==t.width()&&i==t.height()&&l.windowResizeFix||(n=t.width(),i=t.height(),m&&clearInterval(m),m=setTimeout(function(){r.trigger("update.dot")},10))})}else p=a(r),m=setInterval(function(){var e=a(r);(p.width!=e.width||p.height!=e.height)&&(r.trigger("update.dot"),p=a(r))},100);return r},r.unwatch=function(){return e(window).unbind("resize.dot"+f.dotId),m&&clearInterval(m),r};var s=r.contents(),l=e.extend(!0,{},e.fn.dotdotdot.defaults,i),f={},p={},m=null,g=null;return f.afterElement=d(l.after,r),f.isTruncated=!1,f.dotId=h++,r.data("dotdotdot",!0).bind_events().trigger("update.dot"),l.watch&&r.watch(),r},e.fn.dotdotdot.defaults={ellipsis:"... ",wrap:"word",lastCharacter:{remove:[" ",",",";",".","!","?"],noEllipsis:[]},tolerance:0,callback:null,after:null,height:null,watch:!1,windowResizeFix:!0,debug:!1};var h=1,f=e.fn.html;e.fn.html=function(e){return void 0!==e?this.data("dotdotdot")&&"function"!=typeof e?this.trigger("update",[e]):f.call(this,e):f.call(this)};var p=e.fn.text;e.fn.text=function(t){if(void 0!==t){if(this.data("dotdotdot")){var n=e("<div />");return n.text(t),t=n.html(),n.remove(),this.trigger("update",[t])}return p.call(this,t)}return p.call(this)}}}),define("r29/r29.ellipsis",["jquery","dotdotdot"],function(e){function t(t){if("undefined"!=typeof t.targets&&null!==t.targets){a=t.targets;for(var n in t.targets)"undefined"==typeof t.targets[n].callback&&(t.targets[n].callback=i),e(n).dotdotdot(t.targets[n])}else e(r).dotdotdot(o)}function n(t){e(t).dotdotdot(a[t])}function i(t,n){e(n.context).removeClass("multiline-ellipsis block-ellipsis")}var o={ellipsis:"... ",wrap:"word",watch:!0,height:30,callback:i},r=".multiline-ellipsis",a={};return{init:t,update:n}}),define("r29/r29.analytics",["jquery","r29/r29.events","r29/r29.tracking","r29/r29.cookie"],function(e,t,n){function i(n){"undefined"!=typeof n&&""!==n?(window._gaq=window._gaq||[],log(l+"::init",n),t.subscribe("GOOGLE_TRACK_EVENT",o),log("trackable elements found ",e("body").on({click:r},".ga-trackable")),t.subscribe("CAROUSEL_NAV_CLICK",s)):log("Analytics disabled")}function o(e){log("onGoogleTrackEvent",e,window._gaq),e.hasOwnProperty("length")?e[1].hasOwnProperty("value")?window._gaq.push(["_trackEvent",e[1].category,e[1].action,e[1].label,e[1].value,"undefined"!=typeof e[1].noninteraction?e[1].noninteraction:!1]):window._gaq.push(["_trackEvent",e[1].category,e[1].action,e[1].label]):e.hasOwnProperty("value")?window._gaq.push(["_trackEvent",e.category,e.action,e.label,e.value,"undefined"!=typeof e.noninteraction?e.noninteraction:!1]):window._gaq.push(["_trackEvent","undefined"!=typeof e.category?e.category:"","undefined"!=typeof e.action?e.action:"","undefined"!=typeof e.label?e.label:""])}function r(t){log(l+"::onSelectorEvents",t,window._gaq);var n=e(t.currentTarget),i=n.attr("data-category"),o=n.attr("data-action"),r=n.attr("data-label"),a=n.attr("data-value");e(this).attr("data-track-secondary")&&(tracking_vars=e(this).attr("data-track-secondary").split(","),window._gaq.push(["_trackEvent",tracking_vars[0],tracking_vars[1],tracking_vars[2]])),window._gaq.push(["_trackEvent","undefined"!=typeof i?i:"","undefined"!=typeof o?o:"","undefined"!=typeof r?r:"","undefined"!=typeof a?a:void 0])}function a(e,t,i,o,r){n.articlePerSession(r)}function s(e){e.carousel.element.dataset.carousel&&window._gaq.push(["_trackEvent",e.carousel.element.dataset.carousel,"Arrow",e.direction])}var l="ANALYTICS";return{init:i,entryTracking:a}}),function(){function e(e,s){e=e||"",s=s||{};for(var l in t)t.hasOwnProperty(l)&&(s.autoFix&&(s["fix_"+l]=!0),s.fix=s.fix||s["fix_"+l]);var d=[],c=function(t){e+=t},u=function(t){e=t+e},h={comment:/^<!--/,endTag:/^<\//,atomicTag:/^<\s*(script|style|noscript|iframe|textarea)[\s>]/i,startTag:/^</,chars:/^[^<]/},f={comment:function(){var t=e.indexOf("-->");return t>=0?{content:e.substr(4,t),length:t+3}:void 0},endTag:function(){var t=e.match(i);return t?{tagName:t[1],length:t[0].length}:void 0},atomicTag:function(){var t=f.startTag();if(t){var n=e.slice(t.length);if(n.match(new RegExp("</\\s*"+t.tagName+"\\s*>","i"))){var i=n.match(new RegExp("([\\s\\S]*?)</\\s*"+t.tagName+"\\s*>","i"));if(i)return{tagName:t.tagName,attrs:t.attrs,content:i[1],length:i[0].length+t.length}}}},startTag:function(){var t=e.match(n);if(t){var i={};return t[2].replace(o,function(e,t){var n=arguments[2]||arguments[3]||arguments[4]||r.test(t)&&t||null;i[t]=n}),{tagName:t[1],attrs:i,unary:!!t[3],length:t[0].length}}},chars:function(){var t=e.indexOf("<");return{length:t>=0?t:e.length}}},p=function(){for(var t in h)if(h[t].test(e)){a&&console.log("suspected "+t);var n=f[t]();return n?(a&&console.log("parsed "+t,n),n.type=n.type||t,n.text=e.substr(0,n.length),e=e.slice(n.length),n):null}},m=function(e){for(var t;t=p();)if(e[t.type]&&e[t.type](t)===!1)return},g=function(){var t=e;return e="",t},v=function(){return e};return s.fix&&function(){var t=/^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i,n=/^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i,i=[];i.last=function(){return this[this.length-1]},i.lastTagNameEq=function(e){var t=this.last();return t&&t.tagName&&t.tagName.toUpperCase()===e.toUpperCase()},i.containsTagName=function(e){for(var t,n=0;t=this[n];n++)if(t.tagName===e)return!0;return!1};var o=function(e){return e&&"startTag"===e.type&&(e.unary=t.test(e.tagName)||e.unary),e},r=p,a=function(){var t=e,n=o(r());return e=t,n},l=function(){var e=i.pop();u("</"+e.tagName+">")},d={startTag:function(e){var t=e.tagName;"TR"===t.toUpperCase()&&i.lastTagNameEq("TABLE")?(u("<TBODY>"),h()):s.fix_selfClose&&n.test(t)&&i.containsTagName(t)?i.lastTagNameEq(t)?l():(u("</"+e.tagName+">"),h()):e.unary||i.push(e)},endTag:function(e){var t=i.last();t?s.fix_tagSoup&&!i.lastTagNameEq(e.tagName)?l():i.pop():s.fix_tagSoup&&c()}},c=function(){r(),h()},h=function(){var e=a();e&&d[e.type]&&d[e.type](e)};p=function(){return h(),o(r())}}(),{append:c,readToken:p,readTokens:m,clear:g,rest:v,stack:d}}var t=function(){var e,t={},n=this.document.createElement("div");return e="<P><I></P></I>",n.innerHTML=e,t.tagSoup=n.innerHTML!==e,n.innerHTML="<P><i><P></P></i></P>",t.selfClose=2===n.childNodes.length,t}(),n=/^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,i=/^<\/([\-A-Za-z0-9_]+)[^>]*>/,o=/([\-A-Za-z0-9_]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,r=/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i,a=!1;e.supports=t,e.tokenToString=function(e){var t={comment:function(e){return"<--"+e.content+"-->"},endTag:function(e){return"</"+e.tagName+">"},atomicTag:function(e){return console.log(e),t.startTag(e)+e.content+t.endTag(e)},startTag:function(e){var t="<"+e.tagName;for(var n in e.attrs){var i=e.attrs[n];t+=" "+n+'="'+(i?i.replace(/(^|[^\\])"/g,'$1\\"'):"")+'"'}return t+(e.unary?"/>":">")},chars:function(e){return e.text}};return t[e.type](e)},e.escapeAttributes=function(e){var t={};for(var n in e){var i=e[n];t[n]=i&&i.replace(/(^|[^\\])"/g,'$1\\"')}return t};for(var s in t)e.browserHasFlaw=e.browserHasFlaw||!t[s]&&s;this.htmlParser=e}(),define("lib/htmlParser",function(){}),function(){function e(e,s){e=e||"",s=s||{};for(var l in t)t.hasOwnProperty(l)&&(s.autoFix&&(s["fix_"+l]=!0),s.fix=s.fix||s["fix_"+l]);var d=[],c=function(t){e+=t},u=function(t){e=t+e},h={comment:/^<!--/,endTag:/^<\//,atomicTag:/^<\s*(script|style|noscript|iframe|textarea)[\s>]/i,startTag:/^</,chars:/^[^<]/},f={comment:function(){var t=e.indexOf("-->");return t>=0?{content:e.substr(4,t),length:t+3}:void 0},endTag:function(){var t=e.match(i);return t?{tagName:t[1],length:t[0].length}:void 0},atomicTag:function(){var t=f.startTag();if(t){var n=e.slice(t.length);if(n.match(new RegExp("</\\s*"+t.tagName+"\\s*>","i"))){var i=n.match(new RegExp("([\\s\\S]*?)</\\s*"+t.tagName+"\\s*>","i"));if(i)return{tagName:t.tagName,attrs:t.attrs,content:i[1],length:i[0].length+t.length}}}},startTag:function(){var t=e.match(n);if(t){var i={};return t[2].replace(o,function(e,t){var n=arguments[2]||arguments[3]||arguments[4]||r.test(t)&&t||null;i[t]=n}),{tagName:t[1],attrs:i,unary:!!t[3],length:t[0].length}}},chars:function(){var t=e.indexOf("<");return{length:t>=0?t:e.length}}},p=function(){for(var t in h)if(h[t].test(e)){a&&console.log("suspected "+t);var n=f[t]();return n?(a&&console.log("parsed "+t,n),n.type=n.type||t,n.text=e.substr(0,n.length),e=e.slice(n.length),n):null}},m=function(e){for(var t;t=p();)if(e[t.type]&&e[t.type](t)===!1)return},g=function(){var t=e;return e="",t},v=function(){return e};return s.fix&&function(){var t=/^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i,n=/^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i,i=[];i.last=function(){return this[this.length-1]},i.lastTagNameEq=function(e){var t=this.last();return t&&t.tagName&&t.tagName.toUpperCase()===e.toUpperCase()},i.containsTagName=function(e){for(var t,n=0;t=this[n];n++)if(t.tagName===e)return!0;return!1};var o=function(e){return e&&"startTag"===e.type&&(e.unary=t.test(e.tagName)||e.unary),e},r=p,a=function(){var t=e,n=o(r());return e=t,n},l=function(){var e=i.pop();u("</"+e.tagName+">")},d={startTag:function(e){var t=e.tagName;"TR"===t.toUpperCase()&&i.lastTagNameEq("TABLE")?(u("<TBODY>"),h()):s.fix_selfClose&&n.test(t)&&i.containsTagName(t)?i.lastTagNameEq(t)?l():(u("</"+e.tagName+">"),h()):e.unary||i.push(e)},endTag:function(e){var t=i.last();t?s.fix_tagSoup&&!i.lastTagNameEq(e.tagName)?l():i.pop():s.fix_tagSoup&&c()}},c=function(){r(),h()},h=function(){var e=a();e&&d[e.type]&&d[e.type](e)};p=function(){return h(),o(r())}}(),{append:c,readToken:p,readTokens:m,clear:g,rest:v,stack:d}}var t=function(){var e,t={},n=this.document.createElement("div");return e="<P><I></P></I>",n.innerHTML=e,t.tagSoup=n.innerHTML!==e,n.innerHTML="<P><i><P></P></i></P>",t.selfClose=2===n.childNodes.length,t}(),n=/^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,i=/^<\/([\-A-Za-z0-9_]+)[^>]*>/,o=/([\-A-Za-z0-9_]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,r=/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i,a=!1;e.supports=t,e.tokenToString=function(e){var t={comment:function(e){return"<--"+e.content+"-->"},endTag:function(e){return"</"+e.tagName+">"},atomicTag:function(e){return console.log(e),t.startTag(e)+e.content+t.endTag(e)},startTag:function(e){var t="<"+e.tagName;for(var n in e.attrs){var i=e.attrs[n];t+=" "+n+'="'+(i?i.replace(/(^|[^\\])"/g,'$1\\"'):"")+'"'}return t+(e.unary?"/>":">")},chars:function(e){return e.text}};return t[e.type](e)},e.escapeAttributes=function(e){var t={};for(var n in e){var i=e[n];t[n]=i&&i.replace(/(^|[^\\])"/g,'$1\\"')}return t};for(var s in t)e.browserHasFlaw=e.browserHasFlaw||!t[s]&&s;this.htmlParser=e}(),function(){function e(){}function t(e){return"function"==typeof e}function n(e,t,n){var i,o=e&&e.length||0;for(i=0;o>i;i++)t.call(n,e[i],i)}function i(e,t,n){var i;for(i in e)e.hasOwnProperty(i)&&t.call(n,i,e[i])}function o(e,t){return i(t,function(t,n){e[t]=n}),e}function r(e,t){return e=e||{},i(t,function(t,n){null==e[t]&&(e[t]=n)
}),e}function a(e){try{return c.call(e)}catch(t){var i=[];return n(e,function(e){i.push(e)}),i}}function s(e){return/^script$/i.test(e.tagName)}var l=this;if(!l.postscribe){var d=!1,c=Array.prototype.slice,u=function(){function e(e,t,n){var i=c+t;if(2===arguments.length){var o=e.getAttribute(i);return null==o?o:String(o)}null!=n&&""!==n?e.setAttribute(i,n):e.removeAttribute(i)}function r(t,n){var i=t.ownerDocument;o(this,{root:t,options:n,win:i.defaultView||i.parentWindow,doc:i,parser:l.htmlParser("",{autoFix:!0}),actuals:[t],proxyHistory:"",proxyRoot:i.createElement(t.nodeName),scriptStack:[],writeQueue:[]}),e(this.proxyRoot,"proxyof",0)}var c="data-ps-";return r.prototype.write=function(){[].push.apply(this.writeQueue,arguments);for(var e;!this.deferredRemote&&this.writeQueue.length;)e=this.writeQueue.shift(),t(e)?this.callFunction(e):this.writeImpl(e)},r.prototype.callFunction=function(e){var t={type:"function",value:e.name||e.toString()};this.onScriptStart(t),e.call(this.win,this.doc),this.onScriptDone(t)},r.prototype.writeImpl=function(e){this.parser.append(e);for(var t,n=[];(t=this.parser.readToken())&&!s(t);)n.push(t);this.writeStaticTokens(n),t&&this.handleScriptToken(t)},r.prototype.writeStaticTokens=function(e){var t=this.buildChunk(e);if(t.actual)return t.html=this.proxyHistory+t.actual,this.proxyHistory+=t.proxy,this.proxyRoot.innerHTML=t.html,d&&(t.proxyInnerHTML=this.proxyRoot.innerHTML),this.walkChunk(),d&&(t.actualInnerHTML=this.root.innerHTML),t},r.prototype.buildChunk=function(e){var t=this.actuals.length,i=[],o=[],r=[];return n(e,function(e){if(i.push(e.text),e.attrs){if(!/^noscript$/i.test(e.tagName)){var n=t++;o.push(e.text.replace(/(\/?>)/," "+c+"id="+n+" $1")),"ps-script"!==e.attrs.id&&r.push("atomicTag"===e.type?"":"<"+e.tagName+" "+c+"proxyof="+n+(e.unary?"/>":">"))}}else o.push(e.text),r.push("endTag"===e.type?e.text:"")}),{tokens:e,raw:i.join(""),actual:o.join(""),proxy:r.join("")}},r.prototype.walkChunk=function(){for(var t,n=[this.proxyRoot];null!=(t=n.shift());){var i=1===t.nodeType,o=i&&e(t,"proxyof");if(!o){i&&(this.actuals[e(t,"id")]=t,e(t,"id",null));var r=t.parentNode&&e(t.parentNode,"proxyof");r&&this.actuals[r].appendChild(t)}n.unshift.apply(n,a(t.childNodes))}},r.prototype.handleScriptToken=function(e){var t=this.parser.clear();t&&this.writeQueue.unshift(t),e.src=e.attrs.src||e.attrs.SRC,e.src&&this.scriptStack.length?this.deferredRemote=e:this.onScriptStart(e);var n=this;this.writeScriptToken(e,function(){n.onScriptDone(e)})},r.prototype.onScriptStart=function(e){e.outerWrites=this.writeQueue,this.writeQueue=[],this.scriptStack.unshift(e)},r.prototype.onScriptDone=function(e){return e!==this.scriptStack[0]?(this.options.error({message:"Bad script nesting or script finished twice"}),void 0):(this.scriptStack.shift(),this.write.apply(this,e.outerWrites),!this.scriptStack.length&&this.deferredRemote&&(this.onScriptStart(this.deferredRemote),this.deferredRemote=null),void 0)},r.prototype.writeScriptToken=function(e,t){var n=this.buildScript(e);e.src&&(n.src=e.src,this.scriptLoadHandler(n,t));try{this.insertScript(n),e.src||t()}catch(i){this.options.error(i),t()}},r.prototype.buildScript=function(e){var t=this.doc.createElement(e.tagName);return i(e.attrs,function(e,n){t.setAttribute(e,n)}),e.content&&(t.text=e.content),t},r.prototype.insertScript=function(e){this.writeImpl('<span id="ps-script"/>');var t=this.doc.getElementById("ps-script");t.parentNode.replaceChild(e,t)},r.prototype.scriptLoadHandler=function(e,t){function n(){e=e.onload=e.onreadystatechange=e.onerror=null,t()}var i=this.options.error;o(e,{onload:function(){n()},onreadystatechange:function(){/^(loaded|complete)$/.test(e.readyState)&&n()},onerror:function(){i({message:"remote script failed "+e.src}),n()}})},r}(),h=function(){function n(){var e=d.shift();e&&(e.stream=i.apply(null,e))}function i(t,i,r){function l(e){e=r.beforeWrite(e),c.write(e),r.afterWrite(e)}c=new u(t,r),c.id=s++,c.name=r.name||c.id,a.streams[c.name]=c;var d=t.ownerDocument,h={write:d.write,writeln:d.writeln};o(d,{write:l,writeln:function(e){l(e+"\n")}});var f=c.win.onerror||e;return c.win.onerror=function(e,t,n){r.error({msg:e+" - "+t+":"+n}),f.apply(c.win,arguments)},c.write(i,function(){o(d,h),c.win.onerror=f,r.done(),c=null,n()}),c}function a(i,o,a){t(a)&&(a={done:a}),a=r(a,{done:e,error:function(e){throw e},beforeWrite:function(e){return e},afterWrite:e}),i=/^#/.test(i)?l.document.getElementById(i.substr(1)):i.jquery?i[0]:i;var s=[i,o,a];return i.postscribe={cancel:function(){s.stream?s.stream.abort():s[1]=e}},d.push(s),c||n(),i.postscribe}var s=0,d=[],c=null;return o(a,{streams:{},queue:d,WriteStream:u})}();l.postscribe=h}}(),define("lib/postscribe.min",function(){}),define("r29/r29.ads",["jquery","r29/r29.events","lib/htmlParser","lib/postscribe.min"],function(e,t){function n(t){"undefined"!=typeof environment.postscribeEnable&&environment.postscribeEnable&&("undefined"==typeof t&&(t=".ad"),_dc_ts=s(!0),e(t).each(function(t,n){if("undefined"!=typeof e(n).attr("data-src")){var o=e(n).attr("data-src")+_dc_ts;e(n).attr("data-src",o).empty(),postscribe("#"+e(n).attr("id"),'<script src="'+o+'"></script>',{done:i})}}))}function i(){t.publish("POSTSCRIBE_SCRIPT_WRITTEN")}function o(t){"undefined"==typeof t&&(t=".ad"),_dc_ts=s(!0),e(t).each(function(t,n){if(!e(n).hasClass("disabled")){var i=e(n).attr("data-sponsor"),o=e(n).attr("iframe-code"),r=e(n).attr("iframe-size");if(("undefined"==typeof i||null===i)&&(i=""),o=o.replace(/sponsorship=(\w[a-zA-Z0-9]*)/,"sponsorship="+i),"undefined"!=typeof o&&"undefined"!=typeof r){var a=r.split(","),s=t_h=w=h=0;for(var t in a)"string"==typeof a[t]&&(s=parseInt(a[t].split("x",2)[0]),t_h=parseInt(a[t].split("x",2)[1]),s>w&&(w=s),t_h>h&&(h=t_h));var l=e("<iframe/>").attr("scrolling","no").attr("src",o+"ord="+_dc_ts+"?").attr("noresize","noresize").attr("frameBorder",0).attr("border",0).attr("cellspacing",0).attr("marginwidth",0).attr("marginheight",0);h>0&&l.css("height",h+"px"),w>0&&l.css("width",w+"px"),e(n).children().remove().end().height(h).width(w).append(l)}}}),e("embed").each(function(){"undefined"!=typeof el&&(e(el).attr("src").match(/(unicast|doubleclick)/)?e(el).parent().remove():"")})}function r(e,t,n,i,o,r,l,d,c,u){("undefined"==typeof c||""===c)&&(c="ad-"+Math.floor(9899999*Math.random()+1e5));var h=r.substring(4,7),f=r.substring(0,3),p="ord="+s()+"?",m=a("adi",e,t,i,o,r,l,u),g=a("adj",e,t,i,o,r,l,u),v='<div id="'+c+'" class="ad '+d+' iframe-ad" data-src="'+g+'" '+'iframe-code="'+m+'" iframe-size="'+r+'">'+'<iframe src="'+m+p+'" '+'width="'+f+'" '+'height="'+h+'" scrolling="no" frameborder="0"></iframe>'+"</div>";return v}function a(e,t,n,i,o,r,a,s){var l="r29.oao",d=t+"/"+n,s=s?s:"";return test=tags=page_type="","http://ad.doubleclick.net/N8904/"+e+"/"+l+"/"+d+";s1="+t+";s2="+n+";sponsorship="+i+";pagetype="+page_type+";test="+test+";pageid="+o+";tags="+tags+";adminid="+environment.entry_id+";pos="+s+";tile="+a+";dcopt=ist"+";sz="+r+";"}function s(t){var n=(new Date).getTime();return"undefined"!=typeof t&&t?n:(e(".ad").length>0&&(n=_dc_ts),n)}function l(e){"undefined"!=typeof e?d(e.wait,e.tag):"undefined"!=typeof environment&&"undefined"!=typeof environment.interstitial?d(environment.interstitial.wait,environment.interstitial.tag):"undefined"!=typeof environment&&"undefined"!=typeof environment.quote&&("undefined"!=typeof environment.quote.selector?c(environment.quote.version,environment.quote.wait,environment.quote.tag,environment.quote.selector):c(environment.quote.version,environment.quote.wait,environment.quote.tag))}function d(t,n){m||e("#modal-ad-interstitial").length>0||(e("body").append('<div id="modal-ad-interstitial" class="modal-ad-interstitial"><div id="modal-lightbox" class="lightbox"></div><div id="modal-ad-content" class="content ad-interstitial-quote"></div></div>'),"undefined"!=typeof environment.postscribeEnable&&environment.postscribeEnable?postscribe("#modal-ad-content",n,{done:p}):(e("#modal-ad-content").append(n),p()),e("#modal-ad-interstitial").css({width:e(window).width(),height:e(window).height()}).click(function(){u()}),e("#modal-lightbox, #modal-ad-interstitial-close").click(function(){u()}),setTimeout(u,1e3*t),m=!0)}function c(t,n,i,o){if(!m){var r={};e("body").append('<div id="modal-ad-interstitial" class="modal-ad-interstitial"><div id="modal-lightbox" class="lightbox"></div><div id="modal-ad-content" class="content ad-interstitial-quote"><div class="inner" id="modal-ad-content-inner"></div></div></div>'),"undefined"!=typeof environment.postscribeEnable&&environment.postscribeEnable?postscribe("#modal-ad-content-inner",i):e("#modal-ad-content-inner").append(i),e("#modal-ad-interstitial").css({width:e(window).width(),height:e(window).height()}),e("#modal-ad-content").css({left:Math.round((e(window).width()-e("#modal-ad-content").width())/2)+"px",top:"0px"}),1==t?f(t,n):f(t,n),e("#modal-lightbox, #modal-ad-interstitial-close").click(function(){u()}),o&&(r.selector=o),e.ajax({url:"/api/ad/quote",data:r,dataType:"json",success:function(t){"undefined"!=typeof t.result&&"undefined"!=typeof t.result.quote&&e("#quote-container").append('<p class="quote">"'+t.result.quote+'" - '+t.result.speaker+"</p>")},error:function(e,t,n){log("error",e,t,n)}})}}function u(){e("#modal-ad-interstitial").remove(),m=!1}function f(t,n){1===t?(e("#modal-ad-content .inner").addClass("version-"+t).append('<div id="quote-container" class="quote-container"></div>').prepend('<div class="logo"></div><div id="modal-ad-interstitial-close" class="close"></div>'),e(".close-text").click(u),setTimeout(u,1e3*n)):(e("#modal-ad-content .inner").append('<div id="quote-container" class="quote-container version-'+t+'">'+"</div>").prepend('<div class="logo"></div><div id="modal-ad-interstitial-close" class="close"></div><p class="message">A little message from a brand we love...and hopefully you do, too.</p>'),e(".close-text").click(u),setTimeout(u,1e3*n)),m=!0}function p(){e("#modal-ad-content").css({left:Math.round((e(window).width()-e("#modal-ad-content").width())/2)+"px",top:Math.round((e(window).height()-e("#modal-ad-content").height())/2)+"px"})}var m=!1;return t.subscribe("SHOW_INTERSTITIAL_AD",l),{refresh:n,iframe_refresh:o,get_tag:r,welcome_show:d,welcome_quote_show:c,welcome_close:u}}),define("autopin",["jquery"],function(e){function t(t){if("undefined"!=typeof environment.gaEntryVars&&environment.gaEntryVars)var n={page_url:environment.page_url,alt_tags:!1,alt_title:environment.title,entry_type:environment.gaEntryVars.type,entry_category:environment.gaEntryVars.category,entry_basename:environment.gaEntryVars.basename,entry_id:environment.gaEntryVars.id};else var n={page_url:environment.page_url,alt_tags:!1,alt_title:environment.title};e(t).autoPin(n)}return function(e){e.fn.autoPin=function(t){var n={page_url:"http://tyler.tc/",alt_tags:!1,alt_title:""},t=e.extend(n,t),i=e(this),o="";return"absolute"!=e(this).css("position")&&"relative"!=e(this).css("position")?(i.each(function(){var t=e(this);if(t.attr("src"),!(t.height()<=20&&t.width()<=40)){t.parent().is("a")&&t.unwrap(),t.hasClass("left")?(o=" left",t.removeClass("left")):t.hasClass("right")&&(o=" right",t.removeClass("right")),t.wrap('<div class="autopin-wrapper'+o+'"/>');var i=e(this).height||this.offsetHeight||parseInt(this.getAttribute("height"))||0,r=e(this).width||this.offsetWidth||parseInt(this.getAttribute("width"))||0,a=encodeURI(t.attr("src")),s=encodeURI(t.attr("alt")),l=encodeURI(n.page_url),d="";d=n.entry_type?' data-category="Pinterest Share Location" data-action="Desktop '+n.entry_type+'" data-label="On-Image Button"'+'data-track-secondary="Pinterest Content by Category,'+n.entry_category+","+n.entry_basename+" - "+n.entry_id+'"':' data-category="Pinterest Share Location" data-action="On-Image Button (uncategorized)"',0==n.alt_tags&&(s=""),""!==n.alt_title&&(s=n.alt_title),-1===a.indexOf("http:")&&(a="http:"+a),s=encodeURIComponent(e("<div></div>").html(s).text()),s+=encodeURIComponent(" #Refinery29"),t.parent().css({width:r+"px",height:i+"px"}),t.hasClass("center")&&(console.log("center"),t.parent().css({margin:"0 auto"})),t.parent().append('<div class="ga-trackable" style="position:absolute; bottom: 10px; right: 10px; width: 40px; height: 20px;"'+d+'><a href="//pinterest.com/pin/create/button/?url='+l+"&media="+a+"&description="+s+'" data-pin-do="buttonPin" data-pin-config="none" target="_blank"><img src="//assets.pinterest.com/images/pidgets/pin_it_button.png" /></a></div>');var c=e(".autopin-wrapper");c.children("div").css({display:"block"}),c.stop().children("img").animate({opacity:"0.95"},200,null,function(){c.children("div").css({"z-index":"999"})})}}),!0):void 0}}(jQuery),{init:t}}),define("lib/spin",[],function(){!function(e,t,n){function i(e,n){var i,o=t.createElement(e||"div");for(i in n)o[i]=n[i];return o}function o(e){for(var t=1,n=arguments.length;n>t;t++)e.appendChild(arguments[t]);return e}function r(e,t,n,i){var o=["opacity",t,~~(100*e),n,i].join("-"),r=.01+100*(n/i),a=Math.max(1-(1-e)/t*(100-r),e),s=c.substring(0,c.indexOf("Animation")).toLowerCase(),l=s&&"-"+s+"-"||"";return h[o]||(f.insertRule("@"+l+"keyframes "+o+"{"+"0%{opacity:"+a+"}"+r+"%{opacity:"+e+"}"+(r+.01)+"%{opacity:1}"+(r+t)%100+"%{opacity:"+e+"}"+"100%{opacity:"+a+"}"+"}",0),h[o]=1),o}function a(e,t){var i,o,r=e.style;if(r[t]!==n)return t;for(t=t.charAt(0).toUpperCase()+t.slice(1),o=0;o<u.length;o++)if(i=u[o]+t,r[i]!==n)return i}function s(e,t){for(var n in t)e.style[a(e,n)||n]=t[n];return e}function l(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)e[o]===n&&(e[o]=i[o])}return e}function d(e){for(var t={x:e.offsetLeft,y:e.offsetTop};e=e.offsetParent;)t.x+=e.offsetLeft,t.y+=e.offsetTop;return t}var c,u=["webkit","Moz","ms","O"],h={},f=function(){var e=i("style");return o(t.getElementsByTagName("head")[0],e),e.sheet||e.styleSheet}(),p={lines:12,length:7,width:5,radius:10,rotate:0,color:"#000",speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto"},m=function g(e){return this.spin?(this.opts=l(e||{},g.defaults,p),void 0):new g(e)};m.defaults={},l(m.prototype,{spin:function(e){this.stop();var t,n,o=this,r=o.opts,a=o.el=s(i(0,{className:r.className}),{position:"relative",zIndex:r.zIndex}),l=r.radius+r.length+r.width;if(e&&(e.insertBefore(a,e.firstChild||null),n=d(e),t=d(a),s(a,{left:("auto"==r.left?n.x-t.x+(e.offsetWidth>>1):r.left+l)+"px",top:("auto"==r.top?n.y-t.y+(e.offsetHeight>>1):r.top+l)+"px"})),a.setAttribute("aria-role","progressbar"),o.lines(a,o.opts),!c){var u=0,h=r.fps,f=h/r.speed,p=(1-r.opacity)/(f*r.trail/100),m=f/r.lines;!function g(){u++;for(var e=r.lines;e;e--){var t=Math.max(1-(u+e*m)%f*p,r.opacity);o.opacity(a,r.lines-e,t,r)}o.timeout=o.el&&setTimeout(g,~~(1e3/h))}()}return o},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=n),this},lines:function(e,t){function n(e,n){return s(i(),{position:"absolute",width:t.length+t.width+"px",height:t.width+"px",background:e,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/t.lines*l+t.rotate)+"deg) translate("+t.radius+"px"+",0)",borderRadius:(t.width>>1)+"px"})}for(var a,l=0;l<t.lines;l++)a=s(i(),{position:"absolute",top:1+~(t.width/2)+"px",transform:t.hwaccel?"translate3d(0,0,0)":"",opacity:t.opacity,animation:c&&r(t.opacity,t.trail,l,t.lines)+" "+1/t.speed+"s linear infinite"}),t.shadow&&o(a,s(n("#000","0 0 4px #000"),{top:"2px"})),o(e,o(a,n(t.color,"0 0 1px rgba(0,0,0,.1)")));return e},opacity:function(e,t,n){t<e.childNodes.length&&(e.childNodes[t].style.opacity=n)}}),!function(){function e(e,t){return i("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',t)}var t=s(i("group"),{behavior:"url(#default#VML)"});!a(t,"transform")&&t.adj?(f.addRule(".spin-vml","behavior:url(#default#VML)"),m.prototype.lines=function(t,n){function i(){return s(e("group",{coordsize:d+" "+d,coordorigin:-l+" "+-l}),{width:d,height:d})}function r(t,r,a){o(u,o(s(i(),{rotation:360/n.lines*t+"deg",left:~~r}),o(s(e("roundrect",{arcsize:1}),{width:l,height:n.width,left:n.radius,top:-n.width>>1,filter:a}),e("fill",{color:n.color,opacity:n.opacity}),e("stroke",{opacity:0}))))}var a,l=n.length+n.width,d=2*l,c=2*-(n.width+n.length)+"px",u=s(i(),{position:"absolute",top:c,left:c});if(n.shadow)for(a=1;a<=n.lines;a++)r(a,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(a=1;a<=n.lines;a++)r(a);return o(t,u)},m.prototype.opacity=function(e,t,n,i){var o=e.firstChild;i=i.shadow&&i.lines||0,o&&t+i<o.childNodes.length&&(o=o.childNodes[t+i],o=o&&o.firstChild,o=o&&o.firstChild,o&&(o.opacity=n))}):c=a(t,"animation")}(),e.Spinner=m}(window,document),$.fn.spin=function(e){return this.each(function(){var t=$(this),n=t.data();n.spinner&&(n.spinner.stop(),delete n.spinner),e!==!1&&(n.spinner=new Spinner($.extend({color:t.css("color")},e)).spin(this))}),this}}),define("r29/r29.modal",["jquery","lib/spin"],function(e){function t(t,n,i){a();var n=n||{},i=i||{};if(t){s(n)||(n={from:"from="+encodeURIComponent(window.location.href)});{void 0!==typeof i.cb_err?i.cb_err:function(){},"function"==typeof i.cb_succ?i.cb_succ:function(){}}o(t,i),e.ajax({url:"/api/modal",type:"GET",data:{page:t,data:n},dataType:"json",success:function(e,t,o){r(e.result.html,i),log("success",n,t,o)},error:function(e,t,n){log("error",e,t,n)}})}}function n(e,t){a();var t=t||{};e&&(void 0!==typeof t.cb_err?t.cb_err:function(){},t.is_inline=!0,o(e,t))}function i(e,t){a();var t=t||{};e&&(void 0!==typeof t.cb_err?t.cb_err:function(){},t.is_iframe=!0,o(e,t))}function o(t,n){var i,o,r,s,d,c,u,h,f,p,m,g,v,y,w,b,S,_,x;i="undefined"!=typeof n.bg_mask_bool?!1:!0,o="undefined"!=typeof n.bg_mask_color?n.bg_mask_color:"#fff",r="undefined"!=typeof n.bg_mask_opacity?n.bg_mask_opacity:"0.6",s="undefined"!=typeof n.class_name?n.class_name:"",d="undefined"!=typeof n.height?n.height:"auto",h="undefined"!=typeof n.width?n.width:"auto",c="undefined"!=typeof n.offset_x?n.offset_x:0,u="undefined"!=typeof n.offset_y?n.offset_y:0,S="undefined"!=typeof n.overflow_x?n.overflow_x:"auto",_="undefined"!=typeof n.overflow_y?n.overflow_y:"auto",n.is_inline?(w=t.split("#")[1],b=e(t).html(),g=w):n.is_iframe?(w="iframe",b="<iframe src='"+t+"' style='border: none; height:"+d+"; width:"+h+";  overflow-x:"+S+";  overflow-y:"+_+";'></iframe>",g=w):(g=l(t),x=new Spinner({lines:9,length:3,width:3,radius:5,rotate:0,color:"#000",speed:1,trail:60,shadow:!1,hwaccel:!1,className:"spinner",zIndex:2e9,top:"50%",left:"50%"}).spin(),b=""),f=e(document).height(),p=e(window).height(),m=e(window).width(),e("body").append('<div id="modal-'+w+'" class="modal visible '+g+" "+s+'">'+'<div class="lightbox"></div>'+'<div class="content">'+'<div class="inner">'+'<div class="close">Close</div>'+b+"</div>"+"</div>"+"</div>"),!n.is_inline&&x&&e(".modal .inner").append(x.el),v=function(){var t=p/3-e(".modal .content").height()/3+e(document).scrollTop()+parseInt(u,10);return t>0?t:0}(),y=function(){var t;return t=2*parseInt(e(".modal .content").css("border-left-width"),10),isNaN(t)&&(t=0),extraWidth=t+2*parseInt(e(".modal .content").css("padding-left"),10),"100%"===h?0:m/2-e(".modal .content").width()/2-extraWidth+parseInt(c,10)}(),e(".modal .content").css({top:v,left:y,width:h,height:d}),e(".modal .lightbox").css({height:f,width:m,"background-color":o,opacity:r}).click(function(){a()}),e(".modal .close").click(function(){"undefined"!=typeof spnner&&x.stop(),a()})}function r(t,n){var i,o,r,a,s,l,d,c,u;e(".spinner").remove(),e("div.modal div.content .inner").append(t),i="undefined"!=typeof n.height?n.height:"auto",o="undefined"!=typeof n.offset_x?n.offset_x:0,r="undefined"!=typeof n.offset_y?n.offset_y:0,a="undefined"!=typeof n.width?n.width:"auto",s=e(document).height(),l=e(window).height(),d=e(window).width(),c=function(){var t=l/3-e(".modal .content").height()/3+e(document).scrollTop()+parseInt(r,10);return t>0?t:0}(),u=function(){var t,n;return t=2*parseInt(e(".modal .content").css("border-left-width"),10),isNaN(t)&&(t=0),n=t+2*parseInt(e(".modal .content").css("padding-left"),10),d/2-e(".modal .content").width()/2-n+parseInt(o,10)}(),e(".modal .content").css({top:c,left:u,width:a,height:i})}function a(){e(".modal").empty().remove()}function s(e){var t;for(var t in e)if(e.hasOwnProperty(t))return!0;return!1}function l(e){var t=e.split("/"),t=t[t.length-1];return t}function d(){}return{init:d,ajaxModal:t,inlineModal:n,modalRender:o,modalRemove:a,iframeModal:i,ajaxContent:r}}),define("r29/r29.optimizely",["jquery","r29/r29.events"],function(e,t){function n(e){var t=window.optimizely.data.state.variationMap;return e in t}function i(){t.publish("optimizely_loaded")}function o(){"undefined"!=typeof environment.enableOptimizely&&environment.enableOptimizely&&e.getScript("//cdn.optimizely.com/js/159817189.js",i)}return{init:o,isExperimentActive:n}}),define("r29/r29.overlay",["jquery","r29/r29.modal","r29/r29.cookie","r29/r29.events","r29/r29.analytics","r29/r29.facebook","r29/r29.optimizely"],function(e,t,n,i,o,r,a){function s(t){if("undefined"==typeof environment.overlays)return!1;for(var n=e("#modal-ad-interstitial").length>0,i={email:{cookie:"email_overlay_displayed",otherCookie:{trk_utm_source:"email"},excludeUrl:["utm_source=email"],showOverlayFunction:m,login:0,ga:{category:"Email Acquisition",action:"email overlay",view_label:"saw-overlay",signup_label:"signup"}},aggr_email:{cookie:"email_overlay_displayed",otherCookie:{trk_utm_source:"email"},excludeUrl:["utm_source=email"],showOverlayFunction:m,login:0,ga:{category:"Email Acquisition",action:"email aggressive overlay",view_label:"saw-overlay",signup_label:"signup"}},"email-loyal":{cookie:"email_overlay_displayed",otherCookie:{trk_utm_source:"email"},excludeUrl:["utm_source=email"],showOverlayFunction:m,login:0,ga:{category:"Email Acquisition",action:"email loyal overlay",view_label:"saw-overlay",signup_label:"signup"}},facebook:{cookie:"facebook_overlay_displayed",showOverlayFunction:g,abTest:1,abExperimentID:292317680,abvar:"_facebook_overlay_enabled",ga:{category:"Facebook Acquisition",action:"Main",label:"Source Saw Overlay",fbRef:"facebook-overlay"}},"facebook-loyal":{cookie:"fb_loyal_overlay_displayed",showOverlayFunction:g,ga:{category:"Facebook Acquisition",action:"Main",label:"Loyal Saw Overlay",fbRef:"fb-loyal-overlay"}},"facebook-beauty":{cookie:"fb_beauty_overlay_displayed",showOverlayFunction:v,ga:{category:"Facebook Acquisition",action:"Beauty Facebook Page",label:"Source Saw Overlay",fbRef:"fb-beauty-overlay"}},"facebook-fashion":{cookie:"fb_fashion_overlay_displayed",showOverlayFunction:y,ga:{category:"Facebook Acquisition",action:"Fashion Facebook Page",label:"Source Saw Overlay",fbRef:"fb-fashion-overlay"}}},o=0;o<environment.overlays.length&&!n;o++){var r=environment.overlays[o];try{var s=i[r.type];n=f(r,s,t)}catch(l){console.log(l)}}if("undefined"==typeof t&&(console.debug("page load now, init Optimizely"),a.init()),!n){var d=location.search;d.indexOf("test=email-overlay")>-1?m(i.email.ga):d.indexOf("test=facebook-overlay")>-1?b(i.facebook.ga):d.indexOf("test=fb-loyal-overlay")>-1?b(i["facebook-loyal"].ga):d.indexOf("test=fb-beauty-overlay")>-1?S(i["facebook-beauty"].ga):d.indexOf("test=fb-fashion-overlay")>-1&&_(i["facebook-fashion"].ga)}}function l(t){return"undefined"!=typeof environment.entry_id&&e.inArray(environment.entry_id+"",t.exclude_entries)>-1?!1:!0}function d(t){return"undefined"!=typeof environment.collection_id&&e.inArray(environment.collection_id+"",t.exclude_collections)>-1?!1:!0}function c(t){return"undefined"!=typeof environment.hub_id&&e.inArray(environment.hub_id+"",t.exclude_hubs)>-1?!1:!0}function u(t){return"undefined"!=typeof environment.topCategoryId&&e.inArray(environment.topCategoryId+"",t.categories)>-1?!0:!1}function h(e,t,i){n.set(t,"1",31536e4),console.debug("[",e.type,"] will never show,",i,", cookie set")}function f(e,t,o){if("undefined"!=typeof t.excludeUrl&&location.href.indexOf(t.excludeUrl)>-1)return h(e,t.cookie,"matches exclude url"),!1;if(!(u(e)&&d(e)&&c(e)&&l(e)))return console.debug(e.type,"not display in this category!"),!1;if("1"==n.get(t.cookie))return console.debug(e.type,"already displayed (cookie set)"),!1;if("undefined"!=typeof t.otherCookie)for(var r in t.otherCookie){var s=t.otherCookie[r];if(n.get(r)==s)return console.debug(e.type,"has cookie",r,": ",s),h(e,t.cookie,"click from email"),!1}var f=document.referrer.toLowerCase();console.debug(e.type,"source is ",f);var p;if("inclusion"==e.op){p=!1;for(var m=0;m<e.sources.length;m++)if(f.indexOf(e.sources[m].toLowerCase())>-1){p=!0,console.debug(e.type,"include source matches:",f);break}}else{p=!0;for(var m=0;m<e.sources.length;m++)if(f.indexOf(e.sources[m].toLowerCase())>-1){p=!1,h(e,t.cookie,"exclude source matches: "+f);break}}if(p)if("second article"!=e.trigger_type||n.get(t.cookie+"_articles_read")){if("6_pageviews"==e.trigger_type){var g=n.get(t.cookie+"_pageviews");g?parseInt(g)+1<6&&(n.set(t.cookie+"_pageviews",parseInt(g)+1,0),p=!1):(n.set(t.cookie+"_pageviews",1,0),p=!1)}}else{var v=n.get("articles_read");v||(v=0),n.set(t.cookie+"_articles_read",v,0),p=!1}if("second article"==e.trigger_type){var y=n.get(t.cookie+"_articles_read");if(y){var v=n.get("articles_read");p=v&&v-y>=1}else p=!1}if(!p)return console.debug(e.type,"not showing."),!1;if("undefined"!=typeof t.login){if(0==t.login&&null!=n.get("R29_UID"))return console.debug(e.type,"require not login, but user login"),!1;if(1==t.login&&null==n.get("R29_UID"))return console.debug(e.type,"require login, but user not login"),!1}return environment.enableOptimizely&&"undefined"!=typeof t.abTest?(window[t.abvar]=!0,console.debug(e.type,"in ab test"),i.subscribe("optimizely_loaded",function(){a.isExperimentActive(t.abExperimentID)?console.debug(e.type,"ab test active, will trigger in optimizely"):(t.showOverlayFunction(t.ga,o),console.debug(e.type,"ab test inactive, just show it"))})):(t.showOverlayFunction(t.ga,o),console.debug(e.type,"not in ab test, show it.")),n.set(t.cookie,"1",60*60*24*e.frequency),console.debug(e.type,"shown, cookie set"),!0}function p(){e(".modal .lightbox").css("position","fixed");var t=e(".modal .content").position().top-parseInt(e(document).scrollTop());e(".modal .content").css("position","fixed").css("top",t+"px")}function m(n){var o='<div  id="email_overlay_hopup">      <div class="hopupBg">        <div class="SubLine"></div>          <div class="closeBtn" ></div>          <div class="singup">          <hgroup>            <h2>Sign Up</br> For The GOOD Stuff</h2>            <h3>The best of us, just for you!</h3>          </hgroup>          <div class="errormessage hide"><p>Oops! That\'s not a real email address.</p></div>          <input name="email" type="text" value="Enter Your E-mail Address"/>          <div class="searchBtn">DONE!</div>          <div class="mailicon" ></div>          </div>          <div class="success">          <h2>AWESOME!</h2>          <h3>See you soon...</h3>          </div>        </div>      </div>';e("body").append(o),e("document").ready(function(){t.inlineModal("#email_overlay_hopup",{bg_mask_color:"#000000",bg_mask_opacity:"0.6"}),p(),i.publish("GOOGLE_TRACK_EVENT",{category:n.category,action:n.action,label:n.view_label,value:void 0,noninteraction:!0}),e(".modal .close").remove(),e(".modal .content .inner").css("background","none").css("box-shadow","none"),e(".hopupBg").find("input").focus(function(){"Enter Your E-mail Address"==e(this).val()&&(e(this).css("color","#333"),e(this).val(""))}),e(".hopupBg").find("input").blur(function(){e(".modal .errormessage").hide(),""==e(this).val()&&(e(this).css("color","#f86362"),e(this).val("Enter Your E-mail Address"))}),e(".modal .closeBtn").click(function(){t.modalRemove()}),e(".modal .searchBtn").click(function(){e(".modal .errormessage").hide();var o=e(".modal input[name='email']").val();if(!new RegExp(/^[+a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/i).test(o))return e(".modal .errormessage").show(),!1;var r={email:o,"email_lists[]":"main_everywhere",welcome:"welcome_organic",source:"Site Overlay",category_id:environment.topCategoryId};e.post("/api/mailinglist/subscribe",r,function(){i.publish("GOOGLE_TRACK_EVENT",{category:n.category,action:n.action,label:n.signup_label,value:void 0,noninteraction:!0}),e(".modal .singup").hide(),e(".modal .success").show(),setTimeout(t.modalRemove,3e3)})})})}function g(e,t){w(b,e,t)}function v(e,t){w(S,e,t)}function y(e,t){w(_,e,t)}function w(e,t,n){return"undefined"==typeof environment.facebookAppID?!1:(i.subscribe("FB_LOGIN_RESPONSE",function(){console.debug("FB init complete, show overlay"),e(t)}),n&&(console.debug("Async call, init FB SDK now"),r.getLoginStatus()),void 0)}function b(e){var t="<div id='facebook_overlay_hopup'>          <div class='facebookHopupBg'>            <div class='closeBtn'></div>            <div class='textContent'>For an endless source of distraction, follow us on Facebook.</div>            <div class='fblike'>              <fb:like href='https://www.facebook.com/refinery29' width='90' ref='"+e.fbRef+"' layout='button_count' show_faces='false' send='false'></fb:like>            </div>          </div>        </div>";x(t,"facebook_overlay_hopup",e)}function S(e){var t="<div id='fb_beauty_overlay_hopup'>          <div class='facebookHopupBg beautyFacebookHopupBg'>            <div class='closeBtn'></div>            <div class='beautyTextContent'>For an endless source of distraction, follow <b>R29 Beauty</b>.</div>            <div class='fblike'>              <fb:like href='https://www.facebook.com/R29Beauty' width='90' ref='"+e.fbRef+"' layout='button_count' show_faces='false' send='false'></fb:like>            </div>          </div>        </div>";x(t,"fb_beauty_overlay_hopup",e)}function _(e){var t="<div id='fb_fashion_overlay_hopup'>          <div class='facebookHopupBg fashionFacebookHopupBg'>            <div class='closeBtn'></div>            <div class='fashionTextContent'>For an endless source of distraction, follow <b>R29 Fashion</b>.</div>            <div class='fblike'>              <fb:like href='https://www.facebook.com/R29Fashion' width='90' ref='"+e.fbRef+"' layout='button_count' show_faces='false' send='false'></fb:like>            </div>          </div>        </div>";x(t,"fb_fashion_overlay_hopup",e)}function x(n,o,r){e("body").append(n),"undefined"!=typeof FB&&FB.XFBML.parse(),i.subscribe("FB_EDGE_CREATED",function(){e(".modal .facebookHopupBg .textContent").html("Thank you!"),e(".modal").fadeOut(2e3,function(){t.modalRemove()})}),t.inlineModal("#"+o,{bg_mask_color:"#000000",bg_mask_opacity:"0.6"}),p(),i.publish("GOOGLE_TRACK_EVENT",{category:r.category,action:r.action,label:r.label,value:void 0,noninteraction:!0}),e(".modal .close").remove(),e(".modal .content .inner").css("background","none").css("box-shadow","none"),e(".modal .closeBtn").click(function(){t.modalRemove()})}return{init:s,showFacebookOverlay:g}}),define("r29/r29.lazyloader",["jquery","r29/r29.events"],function(e,t){function n(t,i,a){var s=e(r[t]);if(null!==s.data("src")){var l='<img src="'+s.data("src");s.data("img-width")&&(l+='" width="'+s.data("img-width")),s.data("img-height")&&(l+='" height="'+s.data("img-height")),l+='" class="slide-img">',e(l).insertBefore(s),s.find("img.slide-img").on("load",o).data("timeout-id",setTimeout(function(){o(null,s)},1e3)),s.remove(),t++,i>=t+1&&n(t,i,a)}}function i(t,i,o,a){switch(r="undefined"!=typeof o&&null!==o?o:e(a),bareSelector=a.replace(/.|#/,""),t){case"IMG":n(0,i,a);break;case"BGIMG":}}function o(n,i){var o,r;"undefined"!=typeof n&&null!==n?(r=e(n.currentTarget),o=r.data("timeout-id")):(r=e(i),o=r.find(".slide-img").data("timeout-id")),clearTimeout(o),t.publish("IMAGE_LAZY_LOADED",r)}var r;return{load:i}}),define("rf29.animatedPagination",["jquery"],function(e){function t(t,o){this.element=t,this.options=e.extend({},i,o),this.options,this._defaults=i,this._name=n,this.init()}var n="createAnimatedPagination",i={mainContentWrapperSelector:".article-content",commonParentSelector:".module-article-full",divExpandAnimation:{easing:"easeOutCirc",duration:700},divFadeInAnimation:{easing:"easeOutQuad",duration:1100}},o=Modernizr.cssanimations&&Modernizr.borderradius;
new Array,t.prototype={init:function(){this.options;var t=this.element.getAttribute("data-number-of-additional-pages")||"",n=this.element.getAttribute("data-additional-content-link")||"",i=1;e(this.element).data("currentPageNumber",i).data("numberOfAdditionalPages",t).data("additionalContentLink",n),this.element.innerHTML=o?this.pagingControlsFactory(this.element,this.options):this.pagingControlsFactory(this.element,this.options)},addPagingControlEventHandlers:function(t,n){var i=e(t),o=this;i.find(".show-more-link").off().on("mouseenter",function(){i.hasClass("is-active")&&!i.hasClass("has-glowed")&&i.addClass("has-glowed"),i.addClass("is-hovering")}).on("mouseleave",function(){i.removeClass("is-hovering")}).on("click",function(){o.loadMoreContent(i,n)})},loadMoreContent:function(t,n){var i=t.data("appendContentSelector"),o=t.data("appendedContentSelector"),r=t.data("currentPageNumber"),a=t.data("numberOfAdditionalPages"),s=t.data("additionalContentLink");t.data("endOfMoreArchiveLink");var l=e(i),d={start_h:l.outerHeight(),new_h:0};r=parseInt(r,10)+1,r>a?alert("end of content available to load"):(t.data("currentPageNumber",r),s=s.replace("{page}",r),console.log(s),l.css({overflow:"hidden",height:d.start_h}),e.ajax({url:s,cache:!1}).done(function(e){var t;l.append(e),t=l.find(o+":last"),d.new_h=t.outerHeight(),t.css({opacity:0}),l.animate({height:d.new_h+d.start_h},{duration:n.divExpandAnimation.duration,easing:n.divExpandAnimation.easing,done:function(){t.animate({opacity:1},{duration:n.divFadeInAnimation.duration,easing:n.divFadeInAnimation.easing}),l.attr({overflow:"auto"}),console.log(d.start_h+" | "+d.new_h)}})}))},pagingControlsFactory:function(){var e="";return e+='<a href="#" class="button button-prev-next-large is-removed">',e+='<span class="icon icon-arrow-left"></span>',e+='<span class="is-hidden">previous</span></a>',e+='<span class="paging-current-page">1</span>',e+='<span class="paging-of-text">OF</span>',e+='<span class="paging-total-pages">2</span>',e+='<a href="#" class="button button-prev-next-large">',e+='<span class="icon icon-arrow-right"></span>',e+='<span class="is-hidden">next</span></a>'}},e.fn[n]=function(i){return this.each(function(){e.data(this,"plugin_"+n)||e.data(this,"plugin_"+n,new t(this,i))})}});var r29Slideshows=function(e,t){function n(){$(x).on("RUN_LAZY_LOAD",k.onLazyLoad).on("CHECK_LOAD_STATE",k.onCheckLazyLoad),$("#ad-header").css("min-height","90px"),g(),a(),f(x.currSlideshowIndex);var e=l(x.totalSlides);e>=3&&$(x).trigger("RUN_LAZY_LOAD",[e]),u(),d(),x.currSlideshowTitle=m(x.currSlideshowIndex),C.children().children(k.slideshowTitleSelector).html(x.currSlideshowTitle),x.currSponsoredHeadline=$(".sponsored-headline").html(),I.children(k.slideshowSelector+":eq("+x.currSlideshowIndex+")").show(0).find(k.slideSelector+":eq("+(e-1)+")").animate({opacity:1},400,function(){x.toggleShoppableSlideButton(x.isShoppableSlide($(this))),$(".ie8").length>=1&&$(this).css("display","inline-block")}),O.css({height:p(0)}),$(window).on("load",function(){O.css({height:p(x.currSlideIndex)})}),$("html").hasClass("touch")&&($(".slides").hammer().on("swipeleft",".slide",function(){$("#btnNextSlide").trigger("click")}),$(".slides").hammer().on("swiperight",".slide",function(){$("#btnPrevSlide").is(":visible")&&$("#btnPrevSlide").trigger("click")})),setTimeout(function(){C.children().css({opacity:1}),u()},500),x.transitionBackToSlideshow(e,!0),I.children(k.slideshowSelector+":eq("+x.currSlideshowIndex+")").find(k.slideSelector+":eq("+x.currSlideIndex+")").css({"pointer-events":"auto"}),s(),$("#shop-it-scrim .close").on("click",b),$("#shop-it-scrim .next, #shop-it-scrim .previous").on("click",function(e){var t=$(e.currentTarget).siblings("ul").find(".active");$(e.currentTarget).hasClass("next")?t.next().length>0&&(t.removeClass("active").next().addClass("active"),o(t),require(["r29/r29.events"],function(e){e.publish("GOOGLE_TRACK_EVENT",{category:"Slideshow Shopping",action:"Scroll",label:"Right Arrow",value:void 0})})):t.prev().length>0&&(t.removeClass("active").prev().addClass("active"),o(t),require(["r29/r29.events"],function(e){e.publish("GOOGLE_TRACK_EVENT",{category:"Slideshow Shopping",action:"Scroll",label:"Left Arrow",value:void 0})}))}),v(),$(window).trigger("resize")}function o(e){e.siblings(".active").next().length<=0&&$(".shop-it-container .menu-button").hide().siblings(".previous").show(),e.siblings(".active").prev().length<=0&&$(".shop-it-container .menu-button").hide().siblings(".next").show(),e.siblings(".active").next().length>0&&e.siblings(".active").prev().length>0&&$(".shop-it-container .menu-button").show()}function r(e){require(["r29/r29.events"],function(t){var n=$(e.currentTarget).attr("href");"undefined"!=typeof n?t.publish("GOOGLE_TRACK_EVENT",{category:"Slideshow Shopping",action:"Product Clicks",label:n,value:void 0}):log("Error -> SlideshowConstructor::onProductLinkMouseEvents product does not have a url")})}function a(){var e="/api/blog/entries/popular?category_id="+$(k.slideshowSelector).attr("data-category")+"&type=SLIDESHOW_NEXT";$.getJSON(e,function(e){var t=[],n=R29.cookie.get("article_basenames").split("|");for(var i in e.result.entries){var o=e.result.entries[i].basename;-1===$.inArray(o,n)?t.push(o):console.log("bounce it: %s",o)}x.apiGetSlideshowId=t})}function s(){_.templateSettings.variable="sObj";var e=_.template($("script.bottomPagination").html()),t=e();$("#"+x.slideshowsContainerId+" .slide-caption-container").each(function(){var e=$(this).find(".slideshow-controls-right.bottom").length;e||$(this).prepend(t)}),M=$("#"+x.slideshowsContainerId).find(k.indicatorCurrSlideSelector),N=$("#"+x.slideshowsContainerId).find(k.indicatorTotalSlidesSelector),$("a.button.button-prev-next-large.prev").off().on("click",_.throttle(function(e){e.preventDefault(),$(x).trigger("CHECK_LOAD_STATE",["BACK",$("#"+x.slideshowsContainerId+" .slideshow:eq("+x.currSlideshowIndex+")").find(".slide:eq("+x.currSlideIndex+")")]),x.removeShoppableScrim(),x.moveToPrevSlide()},environment.throttleDelay)),$("a.button.button-prev-next-large.next").off().on("click",_.throttle(function(e){e.preventDefault(),$(x).trigger("CHECK_LOAD_STATE",["FORWARD",$("#"+x.slideshowsContainerId+" .slideshow:eq("+x.currSlideshowIndex+")").find(".slide:eq("+x.currSlideIndex+")")]),x.removeShoppableScrim(),x.moveToNextSlide()},environment.throttleDelay)),$("a.button.button-prev-next-large.next").on("mouseenter",function(){if(x.isLastSlideInShow){if($("#nextSlideShowMouseNote").length<1){var e=$("<div />").appendTo("body");e.attr("id","nextSlideShowMouseNote").html("NEXT SLIDESHOW").css({top:L.offset().top+30,left:L.offset().left+30}).show()}else $("#nextSlideShowMouseNote").show();$("a.button.button-prev-next-large.next").on("mousemove",function(e){x.mouseX=e.pageX,x.mouseY=e.pageY,$("#nextSlideShowMouseNote").css({top:x.mouseY,left:x.mouseX})})}}).on("mouseleave",function(){x.isLastSlideInShow&&$("#nextSlideShowMouseNote").hide()}),u()}function l(e){var t,n,i;if(t=window.location.hash.replace("#slide-",""),n=location.search.replace("?","").split("&"),""===t||null==t)for(var o in n)n.hasOwnProperty(o)&&("slide"===n[o].split("=")[0]?(t=n[o].split("=")[1],i=window.location.pathname+"#slide-"+n[o].split("=")[1],history.replaceState(null,null,i)):"page"===n[o].split("=")[0]&&(t=n[o].split("=")[1],i=window.location.pathname+"#slide-"+n[o].split("=")[1],history.replaceState(null,null,i)));return pIdNumber=parseInt(t,10),(isNaN(pIdNumber)||0==pIdNumber)&&(t="1"),t>e&&(t=e),t=t.length?parseInt(t,10):1}function d(){var e=$("#"+x.slideshowsContainerId+" "+k.slidesSelector+":eq("+x.currSlideshowIndex+") img.slide-img:lt(2)").map(function(){return $(this).context.src}).get();c(e[0],e[1])}function c(){var e=new Array;for(i=0;i<c.arguments.length;i++)"undefined"!=typeof c.arguments[i]&&(e[i]=new Image,e[i].src=c.arguments[i])}function u(){M.html(x.currSlideIndex+1),N.html(x.totalSlides),x.nextSlideshowIsLoaded||(w(),x.nextSlideshowIsLoaded=!0),x.currSlideIndex===x.totalSlides-1&&x.currSlideshowIndex!==x.totalSlideshows-1&&(x.isLastSlideInShow=!0,L.trigger("mouseenter")),x.prevSlideIndex===x.totalSlides-1&&x.currSlideshowIndex!==x.totalSlideshows-1&&(x.isLastSlideInShow=!1,L.off("mousemove")),window.location.hash="slide-"+(x.currSlideIndex+1),$("#"+x.slideshowsContainerId+" .slideshow:eq("+x.currSlideshowIndex+") a.button.button-prev-next-large.prev:visible, .slideshow-top-nav a.button.button-prev-next-large.prev:visible").css({visibility:"hidden","pointer-events":"none"}),x.currSlideIndex>0&&null!==x.prevSlideIndex&&$("#"+x.slideshowsContainerId+" .slideshow:eq("+x.currSlideshowIndex+") a.button.button-prev-next-large.prev, .slideshow-top-nav a.button.button-prev-next-large.prev").css({visibility:"visible","pointer-events":"auto"}),x.prevSlideIndex<=x.totalSlides-1&&x.currSlideshowIndex<=x.totalSlideshows-1&&$("#"+x.slideshowsContainerId+" .slideshow:eq("+x.currSlideshowIndex+") a.button.button-prev-next-large.next, .slideshow-top-nav  a.button.button-prev-next-large.next").css({visibility:"visible","pointer-events":"auto"}),(0===x.currSlideIndex||null===x.prevSlideIndex)&&$("#"+x.slideshowsContainerId+" .slideshow:eq("+x.currSlideshowIndex+") a.button.button-prev-next-large.prev:visible, .slideshow-top-nav a.button.button-prev-next-large.prev:visible").css({visibility:"hidden","pointer-events":"none"}),x.currSlideIndex===x.totalSlides-1&&x.currSlideshowIndex===x.totalSlideshows-1&&$("#"+x.slideshowsContainerId+" .slideshow:eq("+x.currSlideshowIndex+") a.button.button-prev-next-large.next:visible, .slideshow-top-nav a.button.button-prev-next-large.next:visible").css({visibility:"hidden","pointer-events":"none"})}function h(e){return I.children(k.slideshowSelector+":eq("+x.currSlideshowIndex+")").find(k.slideSelector+":eq("+e+")")}function f(e){x.totalSlideshows=I.children(k.slideshowSelector).length,x.totalSlides=I.children(k.slideshowSelector+":eq("+e+")").children(k.slidesSelector).children(k.slideSelector).length}function p(e){var t=$("#"+x.slideshowsContainerId+" .slideshow:eq("+x.currSlideshowIndex+") "+k.slidesSelector+":eq("+0+") "+k.slideSelector+":eq("+e+")"),n=t.is(":visible"),i=0;return n?i=t.height():(i=t.css({display:"block"}).height(),t.css({display:"none"})),i}function m(e){return I.children(k.slideshowSelector+":eq("+e+")").attr("data-slideshow-title")}function g(){E=I.find(".slideshow").eq(x.currSlideshowIndex),O=E.find(k.slidesSelector+":eq("+0+")"),A=E.find(k.seeAllGridSelector)}function v(){q.off().on("click",function(e){e.preventDefault(),Y(),x.removeShoppableScrim(),x.toggleShoppableSlideButton(x.isShoppableSlide($(this))),x.transitionToSeeAllGrid()}),R.off().on("click",function(e){e.preventDefault();var t=$("#"+x.slideshowsContainerId+" .slideshow:eq("+x.currSlideshowIndex+")").find("ul.slides").children("li").eq(x.currSlideIndex);if(t.find(".slide-products").length>0){var n=t.find(".slide-products li").map(function(e,t){var n=$(t).data();return'<li class="shop-product-slide"><div class="shop-scroll"><img src="'+n.image+'"></div><h4>'+n.brand+"</h4><strong>"+n.name+"</strong><strong>$"+n.price+'</strong><a href="'+n.url+'" target="_blank" class="button">BUY <span class=icon-read-more ellipsis entry_readmore"></span></a><h5>AT '+n.retailer+"</h5></li>"});$(".menu-button").show(),n.length<2?$(".menu-button").hide():$(".menu-button.previous").hide(),$("#shop-it-scrim").width(t.find(".slide-img").width()).height(t.find(".slide-img").height()).css({top:t.find(".slide-image").position().top,left:t.find(".slide-image").position().left}).find(".shop-it-product").children().remove().end().append($.makeArray(n)).find(".shop-product-slide a.button").on("click",r).end().end().fadeIn("fast"),$(".shop-product-slide:eq(0)").addClass("active")}}),P.off().on("click",function(e){e.preventDefault(),log("$btnGoBackSlideshow"),x.removeShoppableScrim(),x.transitionBackToSlideshow()}),j.off().on("click",function(e){e.preventDefault(),log("$btnReplayLastSlideshow"),x.removeShoppableScrim(),x.replayLastSlideshow(x.prevSlideshowIndex),require(["r29/r29.events"],function(e){e.publish("GOOGLE_TRACK_EVENT",{category:"Slideshow",action:"Web",label:"Back to Previous Slideshow Click",value:void 0})})}),D.off().on("click",_.throttle(function(e){e.preventDefault(),$(x).trigger("CHECK_LOAD_STATE",["BACK",$("#"+x.slideshowsContainerId+" .slideshow:eq("+x.currSlideshowIndex+")").find(".slide:eq("+x.currSlideIndex+")")]),x.removeShoppableScrim(),x.moveToPrevSlide()},environment.throttleDelay)),L.off().on("click",_.throttle(function(e){e.preventDefault(),$(x).trigger("CHECK_LOAD_STATE",["FORWARD",$("#"+x.slideshowsContainerId+" .slideshow:eq("+x.currSlideshowIndex+")").find(".slide:eq("+x.currSlideIndex+")")]),x.removeShoppableScrim(),x.moveToNextSlide()},environment.throttleDelay)),B.on("click",_.throttle(function(e){e.preventDefault(),$(x).trigger("CHECK_LOAD_STATE",["FORWARD",$("#"+x.slideshowsContainerId+" .slideshow:eq("+x.currSlideshowIndex+")").find(".slide:eq("+x.currSlideIndex+")")]),x.removeShoppableScrim(),x.moveToNextSlide()},environment.throttleDelay)),L.on("mouseenter",function(){if(x.isLastSlideInShow){if($("#nextSlideShowMouseNote").length<1){var e=$("<div />").appendTo("body");e.attr("id","nextSlideShowMouseNote").html("NEXT SLIDESHOW").css({top:L.offset().top+30,left:L.offset().left+30}).show()}else $("#nextSlideShowMouseNote").show();L.on("mousemove",function(e){x.mouseX=e.pageX,x.mouseY=e.pageY,$("#nextSlideShowMouseNote").css({top:x.mouseY,left:x.mouseX})})}}).on("mouseleave",function(){x.isLastSlideInShow&&$("#nextSlideShowMouseNote").hide()}),$(window).on("resize",function(){g()}),$(".more-slideshows-link").on("click",function(e){e.preventDefault();var t=$("#jump-to-more-slideshows").offset(),n=t.top;$("html, body").animate({scrollTop:n},1800)})}function y(){var e=$("#"+x.slideshowsContainerId+" .slideshow:eq("+x.currSlideshowIndex+") .slide:eq(0) .module-slideshow-opener-article"),t="",n=new Array;n=$("#"+x.slideshowsContainerId+" .slideshow:eq("+x.currSlideshowIndex+") > .slides .slide-img").map(function(){return $(this).is("img")?$(this).attr("src"):$(this).data("src")}).get();var i=new Array;if(i=$("#"+x.slideshowsContainerId+" .slideshow:eq("+x.currSlideshowIndex+") div.slide-pinit-button > a").map(function(){return $(this).context.outerHTML}).get(),e.length){var o=e.width()/e.height(),r=x.seeAllGridWidth/x.seeAllGridHeight,a=o>r?x.seeAllGridWidth:o*x.seeAllGridWidth,s=o>r?x.seeAllGridWidth/o:x.seeAllGridHeight,l=o>r?x.seeAllGridHeight-s:0,d=o>r?0:x.seeAllGridWidth-a;t+='<li><a href="#slide-1" class="goto-slide-link"><div class="see-all-grid-item-overlay">',t+='<button type="button" class="button button-cta"><span class="icon icon-arrow-left">',t+="</span> GO TO SLIDE 1</button></div>",t+='<div class="opener-slide-preview" style="width: '+a+"px; height: "+s+"px; display: block; margin-left: "+d+"px; margin-top: "+l/2+'px;">',t+=e.clone().html(),t+="</div>",t+="</a></li>"}for(var c=0;c<n.length;c++)t+='<li><a href="#slide-'+(c+2)+'" class="goto-slide-link"><div class="see-all-grid-item-overlay">',t+='<button type="button" class="button button-cta"><span class="icon icon-arrow-left">',t+="</span> GO TO SLIDE "+(c+2)+"</button>",t+='</div><img src="'+n[c]+'"></a>',"undefined"!=typeof i&&(t+='<div class="slide-see-all-pinit-button ga-trackable" data-category="Pinterest Share Location" data-action="Desktop SLIDESHOW" data-label="All Slides Page">',t+=i[c],t+="</div>"),t+="</li>";$("#"+x.slideshowsContainerId+" .slideshow:eq("+x.currSlideshowIndex+")").find(k.seeAllGridListSelector).html(t),$(k.seeAllGalleryLinkSelector).off().on("click",function(){var e=$(this).attr("href").replace("#slide-","");e=parseInt(e,10),$(x).trigger("RUN_LAZY_LOAD",[e]),x.transitionBackToSlideshow(e)})}function w(){function e(e){$.ajax({url:x.apiGetNextSlideshowId,cache:!1}).done(function(t){"function"==typeof e&&e(t)})}function t(e){return e.hasOwnProperty("name")?e.name:void 0}function n(){$.ajax({url:x.apiGetSlideshowObjById+"?basename="+x.apiGetSlideshowId.shift(),cache:!1}).done(function(e){var n=e;if(x.nextSlideshowSponsor="undefined"!=typeof n.result.ad_info.sponsor&&null!==n.result.ad_info.sponsor?n.result.ad_info.sponsor:"",null!==e.result.url){if(i(n),f(x.currSlideshowIndex),x.nextBasename=n.result.url,x.nextTitle=n.result.title,x.prevTitle=document.title,x.simpleReachData={},n){var o="";for(obj in n.result.tags)$.isArray(n.result.tags.obj)&&(o=n.result.tags.obj[0].slug);o+=""!=o?","+n.result.type.toString():n.result.type.toString(),x.simpleReachData={url:n.result.canonical,authors:n.result.author_names,date:n.result.published_formatted||"Jan 1, 2000 12:00 AM",title:n.result.title,tags:o,channels:$.map(n.result.primary_category.parent,t).concat(n.result.primary_category.name)}}log("getSlideshowObjById",n,x,x.simpleReachData),x.nextSponsoredHeadline=n.result.meta.sponsored_headline?n.result.meta.sponsored_headline:null,u()}})}function i(e){var t=o(e),n="",i="";n+=r(t),$(".slideshows").append(n),i+=a(t)}function o(e){var t=e.result,n=["facebook_comment_count","facebook_like_count","facebook_share_count","facebook_total_count","twitter_count","pinterest_count","disqus_posts","disqus_likes"];return t.social_scores&&"number"==typeof t.social_scores.length?t.social_scores={facebook_comment_count:"0",facebook_like_count:"0",facebook_share_count:"0",facebook_total_count:"0",twitter_count:"0",pinterest_count:"0",disqus_posts:"0",disqus_likes:"0"}:t.social_scores&&_.each(n,function(e){"undefined"==typeof t.social_scores[e]&&(t.social_scores[e]="0")}),e}function r(e){_.templateSettings.variable="sObj";var t=_.template($("script.nextSlideshow").html()),n=e.result;return t(n)}function a(e){_.templateSettings.variable="sObj";var t=_.template($("script.socialScore").html()),n=e.result;return t(n)}e(n)}function b(e){return $(e.currentTarget).parent().fadeOut("slow"),!1}var S=!0,x=this;this.slideshowsContainerId=e||"jump-to-read",this.nextSlideshowIsLoaded=!1,this.apiGetSlideshowId=[],this.apiGetSlideshowObjById="/api/blog/entries",this.totalSlideshows=0,this.currSlideshowIndex=0,this.prevSlideshowIndex=null,this.currBasename=window.location.pathname,this.nextBasename=null,this.seeAllGridHeight=197,this.seeAllGridWidth=164,this.totalSlides=0,this.currSlideIndex=0,this.prevSlideIndex=null,this.currSponsoredHeadline="",this.nextSponsoredHeadline="",this.currSlideshowTitle=document.title,this.nextTitle="",this.prevTitle="",this.isLastSlideInShow=!1,this.isShowingNextSlideshowOpener=!1,this.mouseX=null,this.mouseY=null,this.opts={slideshowsSelector:".slideshows",slideshowSelector:".slideshow",slidesSelector:".slides",slideSelector:".slide",seeAllGridSelector:".see-all-grid-container",seeAllGridListSelector:"ul.see-all-grid-list",slideshowTitleSelector:"h1.slideshow-heading",titlePaddingBottom:14,sponsoredHeadline:".sponsored-headline",sponsorLeftOffset:20,seeAllGalleryLinkSelector:"a.goto-slide-link",indicatorCurrSlideSelector:".slideshow-current-slide-number",indicatorTotalSlidesSelector:".slideshow-total-slide-count",rightControlsSelector:".slideshow-controls-right",leftControlsSelector:".slideshow-controls-left",seeAllButtonId:"btnSeeAllGrid",goBackToSlideshowButtonId:"btnBackToSlideshow",shopItButtonId:"btnShopIt",slideTransitionSpeed:600,slideshowHandoffSpeed:3600,scrollIntoViewSpeed:1300};var T=!1;jQuery.extend(x.opts,t);var k=x.opts,C=$("#"+x.slideshowsContainerId),I=$("#"+x.slideshowsContainerId).find(k.slideshowsSelector),E=null,O=null,A=null,M=$("#"+x.slideshowsContainerId).find(k.indicatorCurrSlideSelector),N=$("#"+x.slideshowsContainerId).find(k.indicatorTotalSlidesSelector),D=$("a.button.button-prev-next-large.prev"),L=$("a.button.button-prev-next-large.next"),q=$("#"+x.slideshowsContainerId).find("#"+k.seeAllButtonId),R=$("#"+x.slideshowsContainerId).find("#"+k.shopItButtonId),P=$("#"+x.slideshowsContainerId).find("#"+k.goBackToSlideshowButtonId),j=$("#"+x.slideshowsContainerId).find("#btnReplayLastSlideshow"),H=$("#"+x.slideshowsContainerId).find(k.rightControlsSelector),F=$("#"+x.slideshowsContainerId).find(k.leftControlsSelector),B=$(".button-start-slideshow"),Y=_.once(y);this.transitionToSeeAllGrid=function(){require(["r29/r29.analytics"],function(){window._gaq.push(["_trackEvent","Slideshow","Web","See All Click"])});var e="#"+x.slideshowsContainerId+" .slideshow:eq("+x.currSlideshowIndex+") ";$blocks=$(e).find(".see-all-grid-container").find("ul.see-all-grid-list > li"),$blocks.length,$(e+k.slidesSelector+":eq("+0+")").fadeOut(),$(e+".slideshow-comments-container").fadeOut(),$(e+"aside").fadeOut(),$(e+".see-all-grid-container").css({opacity:1,display:"block","pointer-events":"auto"}),$(e).css({height:$(e+k.seeAllGridSelector+"").outerHeight()}),$(".see-all-grid-list li img").removeAttr("width").removeAttr("height"),$(".button-slideshow.see-all").fadeOut(400,function(){$(".button-slideshow.go-back").fadeIn(600)}),H.fadeOut(400),$blocks.stop().each(function(e){$(this).stop().delay(180+90*e).animate({opacity:1},1e3)}),x.nextSlideshowIsLoaded||(w(),x.nextSlideshowIsLoaded=!0)},this.doNextSlideshowHandoff=function(e,t){if(history.replaceState(null,null,x.nextBasename),document.title=x.nextTitle,$(".ad").attr("data-sponsor",x.nextSlideshowSponsor),require(["r29/r29.ads","r29/r29.tracking","r29/r29.overlay","r29/r29.events"],function(e,t,n,i){e.iframe_refresh(),t.refresh(document.location.pathname+document.location.hash),t.simpleReachCollect({title:x.simpleReachData.title,url:x.simpleReachData.url,date:x.simpleReachData.date,authors:x.simpleReachData.authors.split(","),channels:x.simpleReachData.channels,tags:x.simpleReachData.tags}),n.init(!0),i.publish("GOOGLE_TRACK_EVENT",{category:"Slideshow",action:"Web",label:"Next Slideshow Click",value:void 0})}),$(k.sponsoredHeadline).length){var n={top:$(k.sponsoredHeadline).position().top,left:$(k.sponsoredHeadline).offset().left+k.sponsorLeftOffset,width:$(k.sponsoredHeadline).width(),height:$(k.sponsoredHeadline).height()};$(k.sponsoredHeadline).clone().prependTo("#"+x.slideshowsContainerId).addClass("sponsor-clone").css({background:"none",position:"absolute",left:n.left,top:n.top,height:n.height,width:n.width}).css("opacity","1").delay(800).animate({opacity:0,left:-$(document).width()},k.slideshowHandoffSpeed/2),$(k.sponsoredHeadline).not(".sponsor-clone, .slide-in-sponsor").html("&nbsp;").css("height",n.height);var i=$("<div/>").html(x.nextSponsoredHeadline).text();$(k.sponsoredHeadline).not(".sponsor-clone").clone().prependTo("#"+x.slideshowsContainerId).html(i).addClass("slide-in-sponsor").css({background:"none",opacity:0,position:"absolute",left:$(document).width(),top:n.top,width:n.width,height:"auto"}).delay(1300).animate({opacity:1,left:n.left},k.slideshowHandoffSpeed/2,function(){$(k.sponsoredHeadline).not(".sponsor-clone").not(".slide-in-sponsor").animate({height:$(k.sponsoredHeadline+".slide-in-sponsor").height()},k.slideshowHandoffSpeed/4)})}var o=null===x.nextSponsoredHeadline?20:$(k.slideshowTitleSelector).position().top,r={top:$(k.slideshowTitleSelector).position().top,left:$(k.slideshowTitleSelector).offset().left,width:$(k.slideshowTitleSelector).width(),height:$(k.slideshowTitleSelector).height()},a=$("#"+x.slideshowsContainerId).find(k.slideshowsSelector).find(k.slideshowSelector+":eq("+x.prevSlideshowIndex+")").find(k.slideSelector+":last"),s=$("#"+x.slideshowsContainerId).find(k.slideshowsSelector).find(k.slideshowSelector+":eq("+x.prevSlideshowIndex+")").find(".slideshow-comments-container");$(k.slideshowTitleSelector).clone().prependTo("#"+x.slideshowsContainerId).addClass("clone").css({background:"none",position:"absolute",left:r.left,top:r.top,height:r.height,width:r.width}).delay(800).animate({opacity:0,left:-$(document).width()},k.slideshowHandoffSpeed/2),$(k.slideshowTitleSelector).not(".clone").html("&nbsp;").css("height",r.height),H.fadeOut(),F.fadeOut();var l=$(k.slideshowSelector).find("#ad-gutter-double").parents("aside").hide();$(k.slideshowSelector+".next-slideshow").prepend(l),require(["r29/r29.ads"],function(e){e.iframe_refresh()}),$(l).fadeIn();var d=$("#jump-to-comment");$(".slideshow-comments-container:last").append(d);var c='<span class="icon-bubble"></span> '+$(".slideshow-comments-container:last").attr("data-comment-count-from-server")+' COMMENTS <span class="icon icon-more-down"></span>',h=$(".slideshow-comments-container:last"),p=h.attr("data-disqus-url"),v=h.attr("data-disqus-meta-title").trim(),y=h.attr("data-disqus-entry-id");$("#comments-toggle").html(c),setTimeout(function(){DISQUS.reset({reload:!0,config:function(){this.page.identifier="refinery"+y,this.page.url=p,this.page.title=v}})},800),$("#"+x.slideshowsContainerId+" .slideshow-social-score.social-score.for-slideshow-"+(e+1)).fadeOut(),$(".slides").hammer().on("swipeleft",".slide",function(){$("#btnNextSlide").trigger("click")}),$(".slides").hammer().on("swiperight",".slide",function(){($("#btnPrevSlide").is(":visible")||$("#btnReplayLastSlideshow").is(":visible"))&&$("#btnPrevSlide").trigger("click")}),a.animate({opacity:0},k.slideshowHandoffSpeed/4).animate({"margin-left":-$(document).width()},k.slideshowHandoffSpeed),s.animate({opacity:0},k.slideshowHandoffSpeed/4).animate({height:0},k.slideshowHandoffSpeed/4).animate({"margin-left":-$(document).width()},k.slideshowHandoffSpeed),E=I.eq(x.currSlideshowIndex),O=E.find(k.slidesSelector+":eq("+0+")"),A=E.find(k.seeAllGridSelector),x.currSlideshowTitle=m(x.currSlideshowIndex),$(k.slideshowTitleSelector).not(".clone").clone().prependTo("#"+x.slideshowsContainerId).html(x.currSlideshowTitle).addClass("slide-in-clone").css({background:"none",opacity:0,position:"absolute",left:$(document).width(),top:r.top,width:r.width,height:"auto"}).delay(1300).animate({opacity:1,left:r.left,top:o},k.slideshowHandoffSpeed/2),$(k.slideshowTitleSelector).not(".clone").not(".slide-in-clone").delay(900).animate({height:$(k.slideshowTitleSelector+".slide-in-clone").height()},k.slideshowHandoffSpeed/4);var w=$(".slideshow:eq("+x.currSlideshowIndex+")").height();w=parseInt(w,10),$("#"+x.slideshowsContainerId+" "+k.slideshowsSelector+" "+k.slideshowSelector+":eq("+x.prevSlideshowIndex+")").delay(800).fadeOut(800,function(){$(this).children("ul.slides").animate({height:w},0),$("#"+x.slideshowsContainerId+" "+k.slideshowsSelector+" "+k.slideshowSelector+":eq("+x.currSlideshowIndex+")").show().children("ul.slides").animate({height:w},k.slideshowHandoffSpeed/2).children(".slide:eq(0)").css({display:"block","pointer-events":"auto",opacity:1}),f(t),x.isLastSlideInShow=!1,x.currSlideIndex=0,u(),$("#"+x.slideshowsContainerId+" .slideshow-social-score.social-score.for-slideshow-"+(t+1)).fadeIn(),x.setSocialScores(),$("html, body").animate({scrollTop:$(k.slideshowTitleSelector).offset().top},k.scrollIntoViewSpeed/2),$("#nextSlideShowMouseNote").remove()}),$(".button.see-all, .button.shop-it").hide(),$(".slideshow-controls-left, .button.replay-last-slideshow, .slideshow-controls-right").delay(1300).fadeIn(900,function(){$("#jump-to-explore").children().animate({opacity:1},k.slideshowHandoffSpeed/4),$("#"+x.slideshowsContainerId).find(k.slideshowsSelector).find(k.slideshowSelector+":eq("+x.currSlideshowIndex+")").find(".slideshow-comments-container").fadeIn()}),x.isShowingNextSlideshowOpener=!0,x.currSlideIndex=0,x.currSlideshowIndex=t,g(),u()},this.setSocialScores=function(){var e={};e="undefined"!=typeof environment&&"undefined"!=typeof environment.socialScoreChannels?environment.socialScoreChannels:{facebook:!0,twitter:!0,pinterest:!0,tumblr:!1,comment:!0},$(".social-score").not(".is-initialized").createSocialScores({pluginImagePath:"../../static/assets/images/plugins/",share:e})},this.replayLastSlideshow=function(e){history.replaceState(null,null,x.currBasename),document.title=x.prevTitle,require(["r29/r29.ads","r29/r29.tracking","r29/r29.overlay"],function(e,t,n){e.iframe_refresh(),t.refresh(document.location.pathname+document.location.hash),n.init(!0)});var t=$("#jump-to-comment");$(".slideshow-comments-container:first").append(t);var n='<span class="icon-bubble"></span> '+$(".slideshow-comments-container:first").attr("data-comment-count-from-server")+' COMMENTS <span class="icon icon-more-down"></span>',i=$(".slideshow-comments-container:first"),o=i.attr("data-disqus-url"),r=i.attr("data-disqus-meta-title").trim(),a=i.attr("data-disqus-entry-id");$("#comments-toggle").html(n),setTimeout(function(){DISQUS.reset({reload:!0,config:function(){this.page.identifier="refinery"+a,this.page.url=o,this.page.title=r}})},800);var s={left:$(k.slideshowTitleSelector).not(".clone").not(".slide-in-clone").offset().left},l={height:$(".clone").height()},d={height:$(".sponsor-clone").height()},c=$("#"+x.slideshowsContainerId).find(k.slideshowsSelector).find(k.slideshowSelector+":eq("+x.currSlideshowIndex+")");$("#"+x.slideshowsContainerId).find(k.slideshowsSelector).find(k.slideshowSelector+":eq("+x.currSlideshowIndex+")").find(k.slideSelector+":first"),$("#"+x.slideshowsContainerId).find(k.slideshowsSelector).find(k.slideshowSelector+":eq("+x.prevSlideshowIndex+")").find(k.slideSelector+":last");var g=$("#"+x.slideshowsContainerId).find(k.slideshowsSelector).find(k.slideshowSelector+":eq("+x.prevSlideshowIndex+")");$("#"+x.slideshowsContainerId).find(k.slideshowsSelector).find(k.slideshowSelector+":eq("+x.prevSlideshowIndex+")").find(k.slideSelector+":last");var v=$("#"+x.slideshowsContainerId).find(k.slideshowsSelector).find(k.slideshowSelector+":eq("+x.prevSlideshowIndex+")").find(k.slideSelector+":first");$("#"+x.slideshowsContainerId).find(k.slideshowsSelector).find(k.slideshowSelector+":eq("+x.prevSlideshowIndex+")").children(".slideshow-comments-container");var y=$(k.slideshowSelector).find("#ad-gutter-double").parents("aside").hide();$(".clone").animate({opacity:1,left:s.left},k.slideshowHandoffSpeed/2),$(k.slideshowTitleSelector).not(".clone, .slide-in-clone").delay(800).animate({height:l.height}),$(k.slideshowTitleSelector+".slide-in-clone").animate({left:$(window).width(),opacity:0},800),$(k.sponsoredHeadline).length&&($(".sponsor-clone").animate({opacity:1,left:s.left+k.sponsorLeftOffset},k.slideshowHandoffSpeed/2),$(k.sponsoredHeadline).not(".sponsor-clone, .slide-in-sponsor").delay(800).animate({height:d.height}),$(k.sponsoredHeadline+".slide-in-sponsor").animate({left:$(window).width(),opacity:0},800)),c.fadeOut(),H.fadeOut(),F.fadeOut().find("#btnReplayLastSlideshow").hide().parent().find("#btnSeeAllGrid, #btnShopIt").fadeIn(),$(k.slideshowSelector).not(".next-slideshow").prepend(y),$(y).fadeIn();var w="#"+x.slideshowsContainerId+" .slideshow-social-score.social-score.for-slideshow-"+(x.currSlideshowIndex+1),b="#"+x.slideshowsContainerId+" .slideshow-social-score.social-score.for-slideshow-"+(e+1);$(w).fadeOut(800,function(){$(b).fadeIn()}),g.css({"margin-left":0,display:"block"}).find(".slideshow-comments-container").attr("style","").stop().animate({"margin-left":0,opacity:0,height:"auto"},k.slideshowHandoffSpeed/10).delay(100).animate({opacity:1},k.slideshowHandoffSpeed/3),g.find(".slide:last").attr("style","").stop().css({"margin-left":0,opacity:0,display:"inline-block","pointer-events":"none"}),v.css({display:"inline-block"}).stop().animate({opacity:1,"margin-left":0},k.slide),$("#"+x.slideshowsContainerId).find(k.slideshowsSelector).find(k.slideshowSelector+":eq("+e+")").find(k.slideSelector+":first").css({"pointer-events":"auto"}),H.fadeIn(),F.fadeIn(),$("#"+x.slideshowsContainerId+" .slideshow:eq("+x.currSlideshowIndex+") "+k.slidesSelector+":eq("+0+")").css({height:p(x.currSlideIndex)}),x.isShowingNextSlideshowOpener=!1,x.prevSlideshowIndex=x.currSlideshowIndex,x.currSlideshowIndex-=1,f(x.currSlideshowIndex),x.currSlideshowTitle=m(x.currSlideshowIndex),u(),E=I.eq(x.currSlideshowIndex-1),O=E.find(k.slidesSelector+":eq("+0+")"),A=E.find(k.seeAllGridSelector),$("html, body").delay(100).animate({scrollTop:$(k.slideshowTitleSelector).offset().top},k.scrollIntoViewSpeed/2),x.toggleShoppableSlideButton(x.isShoppableSlide(h(x.currSlideIndex)))
},this.transitionBackToSlideshow=function(e,t){require(["r29/r29.ads","r29/r29.tracking","r29/r29.overlay"],function(n,i,o){("undefined"==typeof t||t===!1)&&i.refresh(document.location.pathname+document.location.hash),1!=e&&o.init(!0)});var n="#"+x.slideshowsContainerId+" .slideshow:eq("+x.currSlideshowIndex+")",i=$(n).find(".see-all-grid-container").find("ul.see-all-grid-list > li");i.length,$(".button-slideshow.go-back").fadeOut(400,function(){$(".button-slideshow.see-all").fadeIn(),H.fadeIn(),$(n+" "+k.slidesSelector+":eq("+0+")").fadeIn(800),$(n+" aside").fadeIn(800),$(n+" .slideshow-comments-container").fadeIn(800),$(n).attr("style",""),$(n+" .see-all-grid-container").css({opacity:0,display:"none","pointer-events":"none"}),"number"==typeof e?e-1!==x.currSlideIndex&&(x.prevSlideIndex=x.currSlideIndex,x.currSlideIndex=e-1,0===x.prevSlideIndex&&0!==x.currSlideshowIndex&&D.css({visibility:"visible","pointer-events":"auto"}),h(x.currSlideIndex).css({opacity:1,"pointer-events":"auto"},400,function(){$(".ie8").length>=1&&$(this).css("display","inline-block")}),h(x.prevSlideIndex).css({opacity:0,"pointer-events":"none"},400,function(){$(".ie8").length>=1&&$(this).css("display","none")}),$("#"+x.slideshowsContainerId+" .slideshow:eq("+x.currSlideshowIndex+") "+k.slidesSelector+":eq("+0+")").css({height:p(x.currSlideIndex)}),u(),$("#nextSlideShowMouseNote").hide(),$("html, body").animate({scrollTop:$(k.slideshowTitleSelector).offset().top},k.scrollIntoViewSpeed),x.toggleShoppableSlideButton(x.isShoppableSlide(h(x.currSlideIndex)))):log("optionalTransitionBackToSlideNumber",e)}),i.stop().animate({opacity:0},600),A.css({opacity:0,"pointer-events":"none"})},this.removeShoppableScrim=function(){$("#shop-it-scrim").is(":visible")&&$("#shop-it-scrim").find(".close").trigger("click")},this.toggleShoppableSlideButton=function(e){e?$("#btnShopIt").show():$("#btnShopIt").hide()},this.isShoppableSlide=function(e){return e.find(".slide-products").children().length>0?!0:!1},this.moveToNextSlide=function(){var e=!1;if(x.isShowingNextSlideshowOpener){x.isShowingNextSlideshowOpener=!1,E.find(".next-slideshow-container").fadeOut(400),$(".button.replay-last-slideshow").fadeOut(300,function(){$(".button-slideshow.see-all").fadeIn(300),y()}),$(k.slideshowSelector).not(".next-slideshow").remove(),$(k.slideshowSelector).removeClass("next-slideshow"),$(".social-score.for-slideshow-"+x.currSlideshowIndex).remove(),s();var t="for-slideshow-"+(x.currSlideshowIndex+1),n="for-slideshow-"+x.currSlideshowIndex;$(".social-score").removeClass(t).addClass(n),x.nextSlideshowIsLoaded=!1,x.totalSlideshows-=1,x.currSlideshowIndex-=1,x.currBasename=x.nextBasename,x.nextBasename=null,x.currSponsoredHeadline=x.nextSponsoredHeadline,x.nextSponsoredHeadline=null;var i=$("<div/>").html(x.currSponsoredHeadline).text();e=!0,$(".sponsor-clone, .slide-in-sponsor").length&&($(k.sponsoredHeadline).not(".sponsor-clone, .slide-in-sponsor").html(i).attr({style:""}),$(".sponsor-clone, .slide-in-sponsor").remove())}$(".clone, .slide-in-clone").length&&($(k.slideshowTitleSelector).not(".clone, .slide-in-clone").html(x.currSlideshowTitle).attr({style:""}),$("#"+x.slideshowsContainerId+" .clone, #"+x.slideshowsContainerId+" .slide-in-clone").remove()),$(".sponsor-clone, .slide-in-sponsor").length&&!e&&($(k.sponsoredHeadline).not(".sponsor-clone, .slide-in-sponsor").html(x.currSponsoredHeadline).attr({style:""}),$(".sponsor-clone, .slide-in-sponsor").remove()),x.currSlideIndex<this.totalSlides-1?(x.prevSlideIndex=x.currSlideIndex,x.currSlideIndex+=1,x.moveToSlideIndex(x.currSlideIndex,k.slideTransitionSpeed)):x.isLastSlideInShow&&(Modernizr.history||(window.location="/"+x.nextBasename),x.currSlideshowIndex<this.totalSlideshows-1&&(x.prevSlideshowIndex=x.currSlideshowIndex,x.currSlideshowIndex+=1,x.doNextSlideshowHandoff(x.prevSlideshowIndex,x.currSlideshowIndex)))},this.moveToPrevSlide=function(){x.currSlideIndex>0&&(x.prevSlideIndex=x.currSlideIndex,x.currSlideIndex-=1,x.moveToSlideIndex(x.currSlideIndex,k.slideTransitionSpeed))},this.moveToSlideIndex=function(e,t){if(require(["r29/r29.ads","r29/r29.tracking","r29/r29.overlay"],function(e,t,n){e.iframe_refresh(),t.refresh(document.location.pathname+document.location.hash),t.articlePerSession(document.location.pathname),t.simpleReachCollect({title:x.currSlideshowTitle,url:document.location.href.replace(document.location.hash,"").replace(document.location.search,"")}),n.init(!0)}),x.nextSlideshowIsLoaded||(w(),x.nextSlideshowIsLoaded=!0),!S)return!1;if(Modernizr.csstransitions&&!T){var n="#"+x.slideshowsContainerId+" "+k.slideshowsSelector+" "+k.slideshowSelector+":eq("+x.currSlideshowIndex+") .slides ";$(n+k.slideSelector+":eq("+x.currSlideIndex+")").find(".button").css({"pointer-events":"auto"}),$(n+k.slideSelector+":eq("+x.prevSlideIndex+")").find(".button").css({"pointer-events":"none"}),h(e).css({opacity:1,"pointer-events":"auto","margin-left":"0px"}),x.toggleShoppableSlideButton(x.isShoppableSlide(h(e))),h(x.prevSlideIndex).css({opacity:0,"pointer-events":"none"}),$("#"+x.slideshowsContainerId+" .slideshow:eq("+x.currSlideshowIndex+") "+k.slidesSelector+":eq("+0+")").css({height:p(x.currSlideIndex)})}else h(e).css({"pointer-events":"auto",opacity:1,display:"none"}).fadeIn(t),h(x.prevSlideIndex).fadeOut(t).css({"pointer-events":"none"}),O.animate({height:p(x.currSlideIndex)},t);u()},n()};define("plugins/r29.slideshows-constructor",function(){}),define("rf29.slideshow",["jquery","r29/r29.lazyloader","r29/r29.events","rf29.animatedPagination","plugins/r29.slideshows-constructor"],function(e,t){function n(){e(function(){"undefined"!=typeof environment&&"undefined"!=typeof environment.slideshowOptions&&(environment.slideshowOptions.slideSelectors.onLazyLoad=i,environment.slideshowOptions.slideSelectors.onCheckLazyLoad=o,s=new r29Slideshows(environment.slideshowOptions.target,environment.slideshowOptions.slideSelectors)),r(s.currSlideIndex)})}function i(n,i){if("undefined"!=typeof i){if(i-=1,t.load("IMG",1,e(".slide:eq("+i+")").find(".lazy"),".lazy"),e(".slide:eq("+i+")").next().find(".slide-img.lazy").length>0||e(".slide:eq("+i+")").prev().find(".slide-img.lazy").length>0){var o=e.merge(e(".slide:eq("+i+")").next().find(".slide-img.lazy"),e(".slide:eq("+i+")").prev().find(".slide-img.lazy"));t.load("IMG",o.length,o,".lazy")}}else log("loading lazily"),t.load("IMG",3,null,".lazy")}function o(e,n,i){var o,r;"FORWARD"===n?o=i.nextUntil(i.siblings().eq(i.index()+3)).has(".lazy").find(".slide-img.lazy"):"BACK"===n&&(o=i.prevUntil(i.siblings().eq(Math.max(0,i.index()-3))).has(".lazy").find(".slide-img.lazy")),r=Math.min(3,o.length),"undefined"!=typeof o&&o.length>0&&t.load("IMG",r,o.slice(0,r),".lazy")}function r(t){(e(".campaign-branding-sub-pages")||e(".campaign-branding-opener"))&&(a(t),e("a.button.button-prev-next-large.prev").on("click",_.throttle(function(){a(s.currSlideIndex)},environment.throttleDelay+100)),e("a.button.button-prev-next-large.next").on("click",_.throttle(function(){a(s.currSlideIndex)},environment.throttleDelay+100)),e("#btnSeeAllGrid").on("click",_.throttle(function(){l=s.currSlideIndex,a(-1)},environment.throttleDelay+100)),e("#btnBackToSlideshow").on("click",_.throttle(function(){a(l)},environment.throttleDelay+100)),e("div.see-all-grid-item-overlay").on("click",_.throttle(function(){a(l)},environment.throttleDelay+500)))}function a(t){switch(t){case 0:e(".campaign-branding-sub-pages").hide(),e(".campaign-branding-opener").show();break;case-1:e(".campaign-branding-sub-pages").hide(),e(".campaign-branding-opener").hide();break;default:e(".campaign-branding-opener").hide(),e(".campaign-branding-sub-pages").show()}}var s,l;return{init:n}}),define("r29/r29.twitter",["r29/r29.events"],function(e){function t(){twttr.events.bind("tweet",n)}function n(t){var n=$(t.target).parent();if("undefined"!==n.attr("data-category")&&""!==n.attr("data-category")){var i=n.attr("data-category"),o=n.attr("data-action"),r=n.attr("data-label");e.publish("GOOGLE_TRACK_EVENT",{category:i,action:o,label:r,value:void 0,noninteraction:!0})}}return{init:t}}),define("r29/r29.uservoice",[],function(){function e(){UserVoice=window.UserVoice||[],function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//widget.uservoice.com/K1FSHfIV87qu4Ja4AhOLg.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}(),UserVoice.push(["set",{accent_color:"#808283",trigger_color:"white",trigger_background_color:"rgba(46, 49, 51, 0.6)",position:"top"}])}return{init:e}}),define("rf29.stickySidebar",["jquery"],function(e){var t=!1,n={speed:0,topConstraint:0,bottomConstraint:0,initZIndex:1,isFixed:!0,scrollAnimationDuration:1600,scrollAnimationEasing:"easeOutCubic",delay:0,mainContentWidth:980,isCompact:!1,display:{},selectOffsetTop:160,alwaysShowPosition:!0,anchorPositions:[],collapseSpeed:{duration:330,easing:"easeOutQuart"},expandSpeed:{duration:330,easing:"easeOutQuart"},easing:"easeOutCirc",padding:10,constrain:!1,indexModuleWidth:121,topConstraintSelector:"",topConstraintOffset:30,bottomConstraintSelector:"",bottomConstraintOffset:30,invertColorWhenOverlapping:"#slideshowsContainer, #jump-to-explore"},o=e(window),r=(e(document),[]),a={init:function(t){return/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)?!1:(n=e.extend(n,t),this.each(function(){var t=e(this);f(t,n),d(t,n),v(t,n),y(t),p(t,n),r[r.length]=t,e(window).trigger("scroll"),t.height(39*(t.find("ul > li").length+1)+1),s(),n.isCompact&&(t.addClass("compact"),h(t,n)),t.css({display:"none"}).delay(400).fadeIn("fast")}))},collapse:function(){return this.each(function(){var t=this;e.each(r,function(e,i){return i.get(0)===t?(h(t,n),!1):void 0})})},refreshSelectedRow:function(){return this.each(function(){var t=this;e.each(r,function(e,i){if(i.get(0)===t){var r=i,a=r.data("stickySB");if(a){var s=o.scrollTop()-a.offs.top,l=(r.offset(),a.orig.offset.top-a.offs.top),d=l;s>l&&(d=s+n.padding>a.offs.bottom?a.offs.bottom:s+n.padding),u(i,n,d)}return!1}})})},expand:function(){return this.each(function(){var t=this;e.each(r,function(e,i){return i.get(0)===t?(m(t,n),!1):void 0})})},updateAnchorPositions:function(){return this.each(function(){var t=this;e.each(r,function(e,i){return i.get(0)===t?(f(t,n),!1):void 0})})},remove:function(){return this.each(function(){var t=this;e.each(r,function(e,n){return n.get(0)===t?(w(null,n),r.splice(e,1),!1):void 0})})},destroy:function(){return e.each(r,function(e,t){w(null,t)}),r=[],o.unbind("scroll",function(){window.setTimeOut(s,n.delay)}),o.unbind("resize",w),this},reposition:function(){f(e(this),n),d(e(this),n),"fixed"!==e(this).css("position")&&(y(e(this)),s())}},s=function(){e.each(r,function(t,i){var r=i,a=r.data("stickySB");if(a){var s=o.scrollTop()-a.offs.top,l=r.offset(),d=e(document).height(),h=r.height(),f="absolute"==r.css("position"),p="fixed"==r.css("position"),m=d-(o.scrollTop()+h),g=(d-(l.top+h),a.orig.offset.top-a.offs.top),v=g;s>=n.topConstraint&&m>=n.bottomConstraint&&!p?r.css({position:"fixed",top:60+n.topConstraintOffset}):m<n.bottomConstraint&&!f?r.css({position:"absolute",top:d-h-n.bottomConstraint+60}):s<n.topConstraint&&!f&&r.css({position:"absolute",top:e(n.topConstraintSelector).position().top+e(n.topConstraintSelector).height()+.5*n.topConstraintOffset}),c(r,n),s>g&&(v=s+n.padding>a.offs.bottom?a.offs.bottom:s+n.padding),n.alwaysShowPosition&&u(i,n,v),n.isFixed?n.alwaysShowPosition||e(".nav-widget-link.active").removeClass("active"):r.stop().animate({top:v},n.speed,n.easing,function(){n.alwaysShowPosition||e(".nav-widget-link.active").removeClass("active")})}})},l=function(e,t){return e.offsetBottom=e.offset().top+e.height(),e.offsetRight=e.offset().left+e.width(),t.offsetBottom=t.offset().top+t.height(),t.offsetRight=t.offset().left+t.width(),!(e.offsetBottom<t.offset().top||e.offset().top>t.offsetBottom||e.offsetRight<t.offset().left||e.offset().left>t.offsetRight)},d=function(t,n){var i,o=0;if(n.topConstraintSelector.length>0){if(i=n.topConstraintSelector.split(","),i.length>1)for(var r=0;r<i.length;r++)e(i[r]).length&&e(i[r]).offset().top>=o&&(n.topConstraintSelector=i[r],o=e(i[r]).offset().top);n.topConstraint=e(n.topConstraintSelector).offset().top+e(n.topConstraintSelector).height()+n.topConstraintOffset-115}n.bottomConstraintSelector.length>0&&(n.bottomConstraint=e(document).height()-e(n.bottomConstraintSelector).offset().top-n.bottomConstraintOffset)},c=function(t,n){var i=!1;e(n.invertColorWhenOverlapping).each(function(){l(t,e(this))&&(i=!0)}),i&&!t.hasClass("inverse-color")?t.addClass("inverse-color"):!i&&t.hasClass("inverse-color")&&t.removeClass("inverse-color")},u=function(n,o,r){if(n&&!t){var a=n,s=!1,l=a.find(".nav-widget-link").length;for(i=0;l-1>i;i++)if(o.anchorPositions[i+1]>r){s=!0;break}s||o.anchorPositions[l-1]<r?(e(".nav-widget-link.active").removeClass("active"),a.find(".nav-widget-link:eq("+i+")").addClass("active")):e(".nav-widget-link.active").removeClass("active")}},h=function(t,n){if(t&&n.isCompact){var i=e(t);i.addClass("collapsed"),i.find(".nav-back-to-top").animate({width:40},n.collapseSpeed),i.find(".nav-to-text").animate({width:0,opacity:0},n.collapseSpeed),i.find(".nav-go-text").animate({paddingRight:0},n.collapseSpeed),i.find(".nav-icon-text").animate({width:0,paddingLeft:0},0*n.collapseSpeed)}},f=function(t,n){if(t){n.anchorPositions=[];for(var i in n.display)e("#jump-to-"+i.toLowerCase().split(" ").join("-").replace(/'/,"").replace(/'/,"")).length>0&&n.anchorPositions.push(e("#jump-to-"+i.toLowerCase().split(" ").join("-").replace(/'/,"")).position().top-n.selectOffsetTop)}},p=function(i){if(i){var r=i;r.find(".nav-widget-link, .nav-back-to-top").click(function(a){a.preventDefault();var s,l=e(this).find(".nav-icon-text").html().toLowerCase().split(" ").join("-").replace(/'/,""),d="jump-to-"+l,c=e(this);c.hasClass("nav-widget-link")&&(r.find(".nav-widget-link.active").removeClass("active"),c.addClass("active")),s="jump-to-back-to-top"==d?0:e('[id="'+d+'"]').position().top;try{var h="";"undefined"!=typeof environment.gaEntryVars&&"undefined"!=typeof environment.gaEntryVars.eventAction?h=environment.gaEntryVars.eventAction:"undefined"!=typeof environment.categoryPath&&("undefined"!=typeof environment.entry_id&&environment.entry_id||("refinery29"==environment.categoryPath?h="Homepage":environment.categoryPath&&(h=environment.categoryPath))),h&&_gaq.push(["_trackEvent","Index Module",h,l,void 0,!0])}catch(f){}t=c.hasClass("nav-back-to-top")?!1:!0,r.data("isAutoScrolling",!0),e("html, body").delay(50).stop().animate({scrollTop:s+-n.topConstraintOffset},{duration:n.scrollAnimationDuration,easing:n.scrollAnimationEasing,complete:function(){var e=r.data("stickySB");if(t=!1,r.data("isAutoScrolling",!1),e){var a=o.scrollTop()-e.offs.top,s=(r.offset(),e.orig.offset.top-e.offs.top),l=s;a>s&&(l=a+n.padding>e.offs.bottom?e.offs.bottom:a+n.padding),u(i,n,l)}}})})}},m=function(t,n){if(t){var i=e(t);i.hasClass("compact")||(i.removeClass("collapsed"),i.find(".nav-back-to-top").animate({width:119,"border-right":"none"},n.expandSpeed),i.find(".nav-to-text").animate({width:20,opacity:1},n.expandSpeed).css("display","inline"),i.find(".nav-go-text").animate({paddingRight:6},n.expandSpeed),i.find(".nav-icon-text").not(".nav-up-text").animate({width:67,paddingLeft:12},n.expandSpeed))}},g=function(t,n){if(t){var i=(e(window).width()-n.mainContentWidth)/2>140;i&&!n.isCompact||(n.isCompact||i?i&&n.isCompact&&(n.isCompact=!1,t.removeClass("compact"),m(t,n)):(n.isCompact=!0,t.addClass("compact"),h(t,n)))}},v=function(t,n){if(t){var i=t,o=0,r="";n.isFixed?i.css({top:n.topConstraint,zIndex:n.initZIndex}):i.css({zIndex:n.initZIndex}),e.isEmptyObject(n.display)||(r+='<div class="nav-title"><div class="expand-icon-container"><div></div><div></div><div></div></div>',r+='<div class="nav-go-text">SCROLL</div><div class="nav-to-text">TO</div></div>'),r+='<ul class="right-nav-list">';for(var a in n.display)e("#jump-to-"+a.toLowerCase().split(" ").join("-").replace(/'/,"")).length<1?(log("Warning: Could not find the anchor 'jump-to-"+a.toLowerCase().split(" ").join("-").replace(/'/,"")+"' on the page"),log('  --The warning has led to the exclusion of the "'+a+'" option from the right navigation sticky bar until an appropriate anchor is added to the page')):(o+=1,r+='<li style="top: '+39*o+'px; position: absolute;"><a class="nav-widget-link" href="#"><div class="left-nav-right-arrow"></div><div aria-hidden="true" class="nav-icon-square',r+=" "+n.display[a]+'"></div><div class="nav-icon-text">'+a+"</div></a></li>");r+=o>0?'<li style="top: '+(39*o-1)+'px;" class="back-to-top-item"><a href="#" class="nav-back-to-top"><div class="right-nav-left-arrow"></div>':'<li style="top: '+(39*o-1)+'px;" class="back-to-top-item"><a href="#" class="nav-back-to-top"><div class="right-nav-left-arrow"></div>',r+='<div aria-hidden="true" class="nav-icon-square icon-arrow-up"></div><div class="nav-icon-text">BACK TO TOP</div></a></li></ul>',i.append(r)}},y=function(t){if(t){var i=t,o=i.parent(),r=o.offset(),a=i.offset(),s=i.data("stickySB");for(s||(s={offs:{},orig:{top:i.css("top"),left:i.css("left"),position:i.css("position"),marginTop:0,offset:i.offset()}});r&&"top"in r&&"static"==o.css("position");)o=o.parent(),r=o.offset();if(r){var l=parseInt(o.css("paddingBottom"));l=isNaN(l)?0:l,s.offs=r,s.offs.bottom=n.constrain?Math.abs(o.innerHeight()-l-i.outerHeight()):e(document).height()}else s.offs={top:0,left:0,bottom:e(document).height()};n.isFixed?(i.css({top:e(n.topConstraintSelector).position().top+e(n.topConstraintSelector).height()+.5*n.topConstraintOffset,left:(e(window).width()-n.mainContentWidth)/2-n.indexModuleWidth+"px"}).data("stickySB",s),g(i,n)):i.css({position:"absolute",top:Math.floor(a.top-s.offs.top)+"px"}).data("stickySB",s)}},w=function(t,i){var o=r;i&&(o=[i]),e.each(o,function(e,t){var o=t.data("stickySB");"undefined"!=typeof o&&(t.css({position:o.orig.position,marginTop:0,left:o.orig.left,top:o.orig.top}),"undefined"==typeof i&&(y(t),s())),f(t,n),d(t,n)})};o.on("scroll",_.debounce(s)),o.on("resize",w),e.fn.stickySidebar=function(e){return a[e]?a[e].apply(this,Array.prototype.slice.call(arguments,1)):e&&"object"!=typeof e?void 0:a.init.apply(this,arguments)}}),define("easing",["jquery"],function(e){e.easing.jswing=e.easing.swing,e.extend(e.easing,{def:"easeOutQuad",swing:function(t,n,i,o,r){return e.easing[e.easing.def](t,n,i,o,r)},easeInQuad:function(e,t,n,i,o){return i*(t/=o)*t+n},easeOutQuad:function(e,t,n,i,o){return-i*(t/=o)*(t-2)+n},easeInOutQuad:function(e,t,n,i,o){return(t/=o/2)<1?i/2*t*t+n:-i/2*(--t*(t-2)-1)+n},easeInCubic:function(e,t,n,i,o){return i*(t/=o)*t*t+n},easeOutCubic:function(e,t,n,i,o){return i*((t=t/o-1)*t*t+1)+n},easeInOutCubic:function(e,t,n,i,o){return(t/=o/2)<1?i/2*t*t*t+n:i/2*((t-=2)*t*t+2)+n},easeInQuart:function(e,t,n,i,o){return i*(t/=o)*t*t*t+n},easeOutQuart:function(e,t,n,i,o){return-i*((t=t/o-1)*t*t*t-1)+n},easeInOutQuart:function(e,t,n,i,o){return(t/=o/2)<1?i/2*t*t*t*t+n:-i/2*((t-=2)*t*t*t-2)+n},easeInQuint:function(e,t,n,i,o){return i*(t/=o)*t*t*t*t+n},easeOutQuint:function(e,t,n,i,o){return i*((t=t/o-1)*t*t*t*t+1)+n},easeInOutQuint:function(e,t,n,i,o){return(t/=o/2)<1?i/2*t*t*t*t*t+n:i/2*((t-=2)*t*t*t*t+2)+n},easeInSine:function(e,t,n,i,o){return-i*Math.cos(t/o*(Math.PI/2))+i+n},easeOutSine:function(e,t,n,i,o){return i*Math.sin(t/o*(Math.PI/2))+n},easeInOutSine:function(e,t,n,i,o){return-i/2*(Math.cos(Math.PI*t/o)-1)+n},easeInExpo:function(e,t,n,i,o){return 0==t?n:i*Math.pow(2,10*(t/o-1))+n},easeOutExpo:function(e,t,n,i,o){return t==o?n+i:i*(-Math.pow(2,-10*t/o)+1)+n},easeInOutExpo:function(e,t,n,i,o){return 0==t?n:t==o?n+i:(t/=o/2)<1?i/2*Math.pow(2,10*(t-1))+n:i/2*(-Math.pow(2,-10*--t)+2)+n},easeInCirc:function(e,t,n,i,o){return-i*(Math.sqrt(1-(t/=o)*t)-1)+n},easeOutCirc:function(e,t,n,i,o){return i*Math.sqrt(1-(t=t/o-1)*t)+n},easeInOutCirc:function(e,t,n,i,o){return(t/=o/2)<1?-i/2*(Math.sqrt(1-t*t)-1)+n:i/2*(Math.sqrt(1-(t-=2)*t)+1)+n},easeInElastic:function(e,t,n,i,o){var r=1.70158,a=0,s=i;if(0==t)return n;if(1==(t/=o))return n+i;if(a||(a=.3*o),s<Math.abs(i)){s=i;var r=a/4}else var r=a/(2*Math.PI)*Math.asin(i/s);return-(s*Math.pow(2,10*(t-=1))*Math.sin((t*o-r)*2*Math.PI/a))+n},easeOutElastic:function(e,t,n,i,o){var r=1.70158,a=0,s=i;if(0==t)return n;if(1==(t/=o))return n+i;if(a||(a=.3*o),s<Math.abs(i)){s=i;var r=a/4}else var r=a/(2*Math.PI)*Math.asin(i/s);return s*Math.pow(2,-10*t)*Math.sin((t*o-r)*2*Math.PI/a)+i+n},easeInOutElastic:function(e,t,n,i,o){var r=1.70158,a=0,s=i;if(0==t)return n;if(2==(t/=o/2))return n+i;if(a||(a=o*.3*1.5),s<Math.abs(i)){s=i;var r=a/4}else var r=a/(2*Math.PI)*Math.asin(i/s);return 1>t?-.5*s*Math.pow(2,10*(t-=1))*Math.sin((t*o-r)*2*Math.PI/a)+n:.5*s*Math.pow(2,-10*(t-=1))*Math.sin((t*o-r)*2*Math.PI/a)+i+n},easeInBack:function(e,t,n,i,o,r){return void 0==r&&(r=1.70158),i*(t/=o)*t*((r+1)*t-r)+n},easeOutBack:function(e,t,n,i,o,r){return void 0==r&&(r=1.70158),i*((t=t/o-1)*t*((r+1)*t+r)+1)+n},easeInOutBack:function(e,t,n,i,o,r){return void 0==r&&(r=1.70158),(t/=o/2)<1?i/2*t*t*(((r*=1.525)+1)*t-r)+n:i/2*((t-=2)*t*(((r*=1.525)+1)*t+r)+2)+n},easeInBounce:function(t,n,i,o,r){return o-e.easing.easeOutBounce(t,r-n,0,o,r)+i},easeOutBounce:function(e,t,n,i,o){return(t/=o)<1/2.75?i*7.5625*t*t+n:2/2.75>t?i*(7.5625*(t-=1.5/2.75)*t+.75)+n:2.5/2.75>t?i*(7.5625*(t-=2.25/2.75)*t+.9375)+n:i*(7.5625*(t-=2.625/2.75)*t+.984375)+n},easeInOutBounce:function(t,n,i,o,r){return r/2>n?.5*e.easing.easeInBounce(t,2*n,0,o,r)+i:.5*e.easing.easeOutBounce(t,2*n-r,0,o,r)+.5*o+i}})}),define("rf29.socialScore",["jquery","easing"],function(e){function t(t,o){this.element=t,this.options=e.extend({},a,o),this.options,this._defaults=a,this._name=r,this.init(),e(".social-score").off().on("mouseenter",function(){currentEl=this,e(this).data("showChannelsOnHover")&&n(e(this))}).on("mouseleave",function(){e(this).data("showChannelsOnHover")&&i(e(this))}),e("html").click(function(){})}function n(e){o("on",e)}function i(e){o("off",e)}function o(t,n){var i=e(n.find(".count").get().reverse()),o=i.length,r=0,a=0,l=35,d="",c="",u="";"off"==t?(r=0,oldMargin=a,a=-l,d="easeInCubic",c="easeOutQuad",s=!1,u="none",n.find(".tooltip-content-shadow").addClass("social-score-timing").addClass("remove-shadow"),n.find(".social-options, .arrow, .shadow").stop().delay(0).animate({opacity:r},{easing:c,duration:300,done:function(){n.find(".channels-container").css("display","none").end().find(".social-score-container").css("display","none").end().find(".tooltip-content-shadow").stop().animate({opacity:r},{easing:"easeInQuad",duration:330,done:function(){n.find(".tooltip-content-shadow").removeClass("social-score-timing").removeClass("remove-shadow")}})}})):(n.find(".channels-container").css("display","inline-block").end().find(".social-score-container").css("display","block").end().find(".tooltip-content-shadow").removeClass("social-score-timing").removeClass("remove-shadow"),r=1,oldMargin=l,d="easeOutQuad",c="easeInQuad",a=0,s=!0,u="auto",n.find(".shadow, .social-options, .tooltip-content-shadow, .arrow").stop().delay(0).animate({opacity:r},{easing:c,duration:300})),i.stop().each(function(t){e(this).css({"margin-top":oldMargin}).stop().delay(90+50*t).animate({"margin-top":a,opacity:r},{easing:d,duration:200,complete:function(){0==--o&&n.find(".channels-container").css({"pointer-events":u})}})})}var r="createSocialScores",a={pluginImagePath:"../../assets/images/plugins/",socialScoreHTML:"",isVisible:!1,currentEl:null,share:{facebook:!0,pinterest:!0,twitter:!0,tumblr:!0,comment:!0},numbOfChannelsToShow:0,relatedPageUrl:"",relatedPageTitle:"",relatedBlogPostId:"",relatedBlogPostImage:"",retrievedDataScores:"",scoreIndicatorBarThresholds:[1,20,50,200,500]},s=!0;new Array;var l={facebook:function(e,t){window.open("http://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(e)+"&t="+encodeURIComponent(t),"","toolbar=0, status=0, width=900, height=360")},twitter:function(e,t){window.open("https://twitter.com/intent/tweet?text="+encodeURIComponent(t)+"&url="+encodeURIComponent(e)+"&via=refinery29","","toolbar=0, status=0, width=650, height=360")},pinterest:function(e,t,n,i){window.open("http://pinterest.com/pin/create/button/?url="+encodeURIComponent(e)+"&media="+i+"&description="+encodeURIComponent(t+" #refinery29"),"pinterest","toolbar=no,width=700,height=302")},tumblr:function(e,t){window.open("http://www.tumblr.com/share/link?url="+encodeURIComponent(e)+"&name="+t,"tumblr","toolbar=no,width=775,height=380")},comment:function(t){e(".comments").length?e("html, body").animate({scrollTop:e(".comments").offset().top},1e3):window.location.href=t+"#jump-to-comment"}};t.prototype={init:function(){this.element,this.options;var t=this.element.getAttribute("data-social-score-url")||this.options.relatedPageUrl,i=this.element.getAttribute("data-social-post-title")||this.options.relatedPageTitle,o=this.element.getAttribute("data-social-post-id")||this.options.relatedBlogPostId,r=this.element.getAttribute("data-social-post-image")||this.options.relatedBlogPostImage,a=this.element.getAttribute("data-show-channels-on-hover")||!0,s=this.element.getAttribute("data-server-retrieved-score")||this.options.retrievedDataScores;s=s.split(" ").join("").split(",");var l=this.element.getAttribute("data-disable-links")||!1;e(this.element).data("relatedPageUrl",t).data("relatedPageTitle",i).data("relatedBlogPostId",o).data("relatedBlogPostImage",r).data("retrievedDataScores",s).data("disableLinks",l).data("showChannelsOnHover","true"==a?!0:!1),e(this.element).addClass("is-initialized");for(var d=0;d<s.length;d++)s[d].split(":").length>0&&s[d].split(":")[0].length>0&&s[d].split(":")[1].length>0&&e(this.element).data(s[d].split(":")[0]+"-count",parseInt(s[d].split(":")[1],10));this.updateNumbOfActiveChannels(this.options),this.totalSocialScore(this.element,this.options),this.addScoreChart(this.element,this.options),e(this.element).data("showChannelsOnHover")?Modernizr.boxshadow&&Modernizr.csstransforms?this.addChannelsContainer_CSS3(this.element,this.options):this.addChannelsContainer(this.element,this.options):(this.addChannelsContainer_noHover(this.element,this.options),"undefined"!==e(this.element).attr("data-top-offset")?e(this.element).css("marginTop",e(this.element).attr("data-top-offset")):e(this.element).css("marginTop","2px"),this.element.style.width="58px"),this.element.innerHTML=this.options.socialScoreHTML,"undefined"!=typeof FB&&FB.XFBML.parse(this.element),this.updateSocialScoreTotalDisplayed(this.element,this.options),this.addOnClickHandlers(this.element,this.options),this.revealSocialScore(e(this.element)),e(this.element).data("showChannelsOnHover")||n(e(this.element))},addOnClickHandlers:function(t,n){for(var i in n.share)n.share.hasOwnProperty(i)&&n.share[i]&&(e(t).find(".social-button."+i).off().on("click",{socialNetwork:i,element:t},this.launchSocialNetworkWindow),this.gaTrackingSocialClicks(i,t))},gaTrackingSocialClicks:function(t,n){e(n).find(".social-button."+t).on("click",function(){var i=e(n).attr("data-entry-location"),o=e(n).attr("data-entry-category"),r=e(n).attr("data-smart-basename"),a=t.substr(0,1).toUpperCase()+t.substr(1);window._gaq.push(["_trackEvent",a+" Content by Category",o,r,void 0]),window._gaq.push(["_trackEvent",a+" Share Location","Desktop - "+i,"Social Scores Bar",void 0])})},launchSocialNetworkWindow:function(t){"true"==e(t.data.element).data("disableLinks")?alert("Disabled for Preview"):l[t.data.socialNetwork](e(t.data.element).data("relatedPageUrl"),e(t.data.element).data("relatedPageTitle"),e(t.data.element).data("relatedBlogPostId"),e(t.data.element).data("relatedBlogPostImage"))},revealSocialScore:function(e){e.stop().animate({opacity:1},{easing:"easeInQuint",duration:800})},updateNumbOfActiveChannels:function(e){var t=0;for(var n in e.share)e.share.hasOwnProperty(n)&&e.share[n]&&t++;e.numbOfChannelsToShow=t,environment.is_preview&&"slideshow"==environment.page_type&&(e.numbOfChannelsToShow+=1)},totalSocialScore:function(t,n){var i=0;for(var o in n.share)n.share.hasOwnProperty(o)&&n.share[o]&&(i+=parseInt(e(t).data(o+"-count"),10));e(t).data("total",i)},updateSocialScoreTotalDisplayed:function(t,n){var i=e(t).find(".score-chart"),o=e(t).find(".indicator-bars"),r=0;for(i.html(this.convertToShortNumbers(e(t).data("total"))),r=0;5>r&&!(n.scoreIndicatorBarThresholds[r]>e(t).data("total"));r++);o.find("li:lt("+r+")").css({background:"#5ae6db"})},convertToShortNumbers:function(e){return e>=1e6?e=(e/1e6).toFixed(2)+"M":e>=1e3&&(e=(e/1e3).toFixed(1)+"k"),e},addScoreChart:function(e,t){t.socialScoreHTML+='<span class="score-chart">--</span><ul class="indicator-bars"><li class="bar-1"></li><li class="bar-2"></li><li class="bar-3"></li><li class="bar-4"></li><li class="bar-5"></li></ul>'},addChannelsContainer_noHover:function(t,n){width="SLIDESHOW"!=e(t).data("entry-location")?72*parseInt(n.numbOfChannelsToShow,10):86.25*parseInt(n.numbOfChannelsToShow,10),n.socialScoreHTML+='<div class="channels-container" style="pointer-events: auto;"><div class="tooltip" style="opacity: 1; display: block; width: '+width+'px;">'+'<ul class="channels-list" style="width: '+width+'px;">',this.addChannels(t,n),n.socialScoreHTML+="</ul></div></div>"},addChannelsContainer_CSS3:function(e,t){t.socialScoreHTML+='<div class="channels-container"><div class="tooltip"><ul class="channels-list" style="width: '+72*parseInt(t.numbOfChannelsToShow,10)+'px;">',this.addChannels(e,t),t.socialScoreHTML+='</ul><div class="tooltip-content-shadow"></div><div class="arrow"></div><div class="shadow"></div></div></div>'},addChannelsContainer:function(e,t){t.socialScoreHTML+='<div class="channels-container"><div class="social-score-container" style="width: '+72*parseInt(t.numbOfChannelsToShow,10)+'px;">'+'<div class="shadow">'+'<div class="social-sprites shadow-left"></div>'+'<div class="social-sprites shadow-middle"></div>'+'<div class="social-sprites shadow-right"></div></div>'+'<ul class="channels-list" style="width: '+72*parseInt(t.numbOfChannelsToShow,10)+'px;">',this.addChannels(e,t),t.socialScoreHTML+="</ul></div></div>"},addChannels:function(e,t){var n=0;for(var i in t.share)t.share.hasOwnProperty(i)&&t.share[i]&&(n++,this.addChannel(e,t,i,t.numbOfChannelsToShow==n))},addChannel:function(t,n,i,o){var r=e(t).data("showChannelsOnHover")?"":" show",a=o?" last":"";n.socialScoreHTML+="facebook"!=i||""==r?'<li class="channel-block" style="border: none;"><div class="social-sprites count '+i+r+'">'+this.convertToShortNumbers(e(t).data(i+"-count"))+"</div>"+'<div class="social-options'+r+a+'">'+'<input type="button" class="social-button '+i+'"/>'+"</div></li>":"true"!=e(t).data("disableLinks")?'<li class="channel-block" style="border: none;"><div class="social-options show" style="opacity: 1;"><div class="fb-like fb-entry"data-href="'+e(t).data("social-score-url")+'"'+'data-send="false"'+'data-layout="box_count"'+'ref="social-score-bar"'+'data-width="130"'+'data-show-faces="false"></div>'+"</div>"+"</li>":'<li class="channel-block" style="border: none;"><div class="social-options show" style="opacity: 1;">FB Like <BR> Disabled <BR> for Preview</div></li>'}},e.fn[r]=function(n){return this.each(function(){e.data(this,"plugin_"+r)||e.data(this,"plugin_"+r,new t(this,n))})},Object.keys||(Object.keys=function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],i=n.length;return function(o){if("object"!=typeof o&&"function"!=typeof o||null===o)throw new TypeError("Object.keys called on non-object");var r=[];for(var a in o)e.call(o,a)&&r.push(a);if(t)for(var s=0;i>s;s++)e.call(o,n[s])&&r.push(n[s]);return r}}())}),define("rf29.infiniteContent",["jquery"],function(e){function t(t,n){this.element=t,this.options=e.extend({},l,n),this.options,this._defaults=l,this._name=o,this.init()}function n(){for(i=0;i<n.arguments.length;i++)c[i]=new Image,c[i].src=n.arguments[i]
}var o="moreInfiniteContent",r=300,a=!1,s=!1,l={doneLoadingContentCallback:null,pluginImagePath:"../../assets/images/plugins/",divExpandAnimation:{easing:"easeOutCirc",duration:700},divFadeInAnimation:{easing:"easeOutQuad",duration:1100}},d=Modernizr.boxshadow&&Modernizr.cssanimations&&Modernizr.borderradius,c=new Array,u=0;t.prototype={init:function(){this.options;var t=this.element.getAttribute("data-entry-ids")||"",i=this.element.getAttribute("data-content-link")||"",o=this.element.getAttribute("data-content-link-text")||"",r=this.element.getAttribute("data-end-of-content-link")||"",a=this.element.getAttribute("data-end-of-content-link-text")||"",l=this.element.getAttribute("data-append-content-selector")||"",c=this.element.getAttribute("data-appended-content-selector")||"",u=this.element.getAttribute("data-module-path")||"",h=this.element.getAttribute("data-content-load-qty")||"",f=this.element.getAttribute("data-source-type")||"index";e(this.element).data("entryIds",t.split(",")).data("contentLinkText",o).data("contentLink",i).data("endOfContentLinkText",a).data("endOfContentLink",r).data("appendContentSelector",l).data("appendedContentSelector",c).data("modulePath",u).data("contentLoadQty",parseInt(h,10)).data("currentEntryIndex",0).data("sourceType",f),"show-more-container"==e(this.element).attr("class")?(d?this.element.innerHTML=this.moreButtonCSS3Factory(e(this.element)):(n(this.options.pluginImagePath+"more-button-image-sprite.png"),this.element.innerHTML=this.moreButtonFactory(e(this.element))),this.addMoreButtonEventHandlers(this.element,this.options)):"infinite-scroll-container"==e(this.element).attr("class")&&(d?this.element.innerHTML=this.infiniteScrollCSS3Factory(e(this.element)):(n(this.options.pluginImagePath+"more-button-image-sprite.png"),this.element.innerHTML=this.infiniteScrollCSS3Factory(e(this.element))),s||this.addInfiniteScrollEventHandlers(this.element,this.options))},addInfiniteScrollEventHandlers:function(t,n){var i=d?this.startAnimatedLoadingSpinCSS3:this.startAnimatedLoadingSpinCSS3,o=d?this.loadMoreContent:this.loadMoreContent,a=d?this.endAnimatedLoadingSpinCSS3:this.endAnimatedLoadingSpinCSS3;e(window).on("scroll",_.debounce(function(){e('.infinite-scroll-container:not(".is-active"):inview').each(function(t,s){e(s).addClass("is-active"),i(s,n),setTimeout(function(){o(e(s),n,a)},r)})},300)),s=!0},addMoreButtonEventHandlers:function(t,n){var i=e(t).find("a"),o=this,r=null;i.off().on("click",function(){o.loadMoreContent(i.parent(),n);var e=i.find(".see-more-text-arrow-container");return e.css({color:"#f75352"}),!1}),a||(r=d?this.initialAnimationIntoViewCSS3:this.initialAnimationIntoView,e(window).on("scroll",function(){e('.show-more-container:not(".is-active"):inview').each(function(t,n){e(n).addClass("is-active"),r(n)})}),a=!0)},initialAnimationIntoViewCSS3:function(t){var n=e(t);n.find(".see-more-text-arrow-container").css({color:"#f75352"}).end().find(".widget-gutter").css({opacity:.4}).animate({top:0,opacity:1},{duration:1170,easing:"easeInOutBack",complete:function(){var e=n.find(".see-more-text-arrow-container");setTimeout(function(){e.attr({style:""})},1600)}})},initialAnimationIntoView:function(t){var n=e(t).find(".image-sprite.on"),i=e(t);i.find(".widget-gutter").css({opacity:.5}).animate({top:10,opacity:1},{duration:1170,easing:"easeInOutBack",complete:function(){n.animate({opacity:1},{duration:400,easing:"easeOutQuad",complete:function(){n.animate({opacity:0},{duration:1e3,easing:"easeInQuad",complete:function(){n.attr({style:""})}})}})}})},startAnimatedLoadingSpinCSS3:function(t){var n=e(t),i=n.find("div.r29-animated-loader");i.removeClass("continue").addClass("rotate-it").one("webkitAnimationEnd animationend",function(){console.log("animationEnd event called",this),e(this).removeClass("rotate-it").addClass("continue")})},endAnimatedLoadingSpinCSS3:function(t){function n(){o.removeClass("continue").animate({opacity:1},300),i.removeClass("is-active"),e(window).trigger("scroll")}var i=t,o=i.find("div.r29-animated-loader");o.css("opacity",.8).css({opacity:0}),setTimeout(n,1e3)},loadMoreContent:function(t,n,i){var o=t.data("appendContentSelector"),r=(t.data("appendedContentSelector"),t.data("currentEntryIndex")),a=(t.data("numberOfAdditionalPages"),t.data("modulePath")),s=t.data("contentLink"),l=t.data("contentLoadQty"),d=t.data("entryIds"),c=t.data("sourceType");$divToInjectInto=e(o),div={start_h:($divToInjectInto.children().outerHeight()||0)*$divToInjectInto.children().length,new_h:0},log($divToInjectInto,div),r>d.length?(log("end of content available to load"),t.hasClass("infinite-scroll-container")&&(t.find(".r29-animated-loader").removeClass("rotate-it r29-animated-loader").addClass("button button-cta go-to-archives"),e(".go-to-archives").html("GO TO ARCHIVES").wrap('<a class="ga-trackable" data-category="More Feed" data-action="Click" data-label="Archive Button" href="/archives"></a>'))):($divToInjectInto.css({"overflow-y":"hidden",height:div.start_h}),require(["r29/r29.events"],function(e){u+=1,e.publish("GOOGLE_TRACK_EVENT",{category:"More Feed",action:"Scroll",label:"Count of Scrolls "+u,value:void 0,noninteraction:!0})}),e.ajax({url:s,data:{ids:d.slice(r,r+l).toString(),template:a,source_type:c},cache:!1,dataType:"json",type:"GET",success:function(o){log("call success",o);var a;r=parseInt(r,10)+l,log("dataCurrentEntryIndex",r),t.data("currentEntryIndex",r),"function"==typeof i&&i(t),a=e(o.result).appendTo($divToInjectInto),"function"==typeof n.doneLoadingContentCallback&&n.doneLoadingContentCallback(),div.new_h=a.outerHeight(),a.css({opacity:0}),$divToInjectInto.animate({height:div.new_h+div.start_h},{duration:n.divExpandAnimation.duration,easing:n.divExpandAnimation.easing,done:function(){a.animate({opacity:1},{duration:n.divFadeInAnimation.duration,easing:n.divFadeInAnimation.easing,done:function(){"function"==typeof n.animationDoneCallback&&n.animationDoneCallback()}}),$divToInjectInto.attr({style:""}),t.hasClass("infinite-scroll-container")?t.find(".r29-animated-loader").removeClass("rotate-it"):setTimeout(function(){t.find(".see-more-text-arrow-container").attr({style:""})},1600),r+1>d.length&&(log("dataCurrentEntryIndex+1",r+1,d.length),t.off("click").find("a").off("click").attr("href",t.data("endOfContentLink")).text(t.data("endOfContentLinkText")))}}),e(".ad-js-load").length>0&&require(["r29/r29.ads"],function(t){var n=t.get_tag(environment.adInfo.zone1,environment.adInfo.zone2,"",environment.adInfo.sponsor,environment.adInfo.pageId,"300x250",e(".ad").length+1,"","","bottom");e(".ad-js-load").append(n).removeClass("ad-js-load")})},error:function(e,t,n){log("error",e,t,n)}}))},moreButtonFactory:function(e){var t=e.data("contentLinkText"),n=e.data("contentLink"),i="";return i+='<a href="'+n+'" class="button button-cta">'+t+'<span class="icon icon-more-down"></span></a>'},moreButtonCSS3Factory:function(e){var t=e.data("contentLinkText"),n=e.data("contentLink"),i="";return i+='<a href="'+n+'" class="button button-cta">'+t+'<span class="icon icon-more-down"></span></a>'},infiniteScrollCSS3Factory:function(e){var t=e.data("contentLinkText"),n=e.data("contentLink"),i="";return i+='<a href="'+n+'" class="button button-cta hidden">'+t+'<span class="icon icon-arrow-right"></span></a>',i+='<div class="widget-gutter">',i+='<div class="r29-animated-loader"></div></div>'}},e.fn[o]=function(n){return this.each(function(){e.data(this,"plugin_"+o)||e.data(this,"plugin_"+o,new t(this,n))})},e.expr.filters.inview=function(t){var n=-120,i=e(t);return e(window).scrollTop()+e(window).height()-n>i.offset().top}}),define("app",["jquery","require","underscore","plugins","r29/r29.cookie","r29/r29.events","r29/r29.header","r29/r29.carousels","r29/r29.video","r29/r29.ellipsis","r29/r29.analytics","r29/r29.tracking","r29/r29.ads","autopin","r29/r29.overlay","rf29.slideshow","r29/r29.facebook","r29/r29.twitter","r29/r29.uservoice","r29/r29.stats","rf29.stickySidebar","rf29.socialScore","rf29.infiniteContent"],function(e,t,n,i,o,r,a,s,l,d,c,u,h,f,p,m,g,v,y){function w(){"undefined"!=typeof environment&&"undefined"!=typeof environment.stickyNavDisplay&&e("#rightNavWidget").stickySidebar({mainContentWidth:980,topConstraint:610,bottomConstraint:100,initZIndex:2,alwaysShowPosition:!0,topConstraintSelector:"#hero-stories, #hero-category, #header",indexModuleWidth:132,topConstraintOffset:40,bottomConstraintSelector:"#footer",bottomConstraintOffset:30,invertColorWhenOverlapping:"#jump-to-explore.dark, #jump-to-video",display:environment.stickyNavDisplay})}function b(){var t={};t="undefined"!=typeof environment&&"undefined"!=typeof environment.socialScoreChannels?environment.socialScoreChannels:{facebook:!0,twitter:!0,pinterest:!0,tumblr:!1,comment:!0},e(".social-score").not(".is-initialized").createSocialScores({pluginImagePath:A,share:t})}function S(){e(".show-more-container, .infinite-scroll-container").moreInfiniteContent({divExpandAnimation:"undefined"!=typeof environment&&"undefined"!=typeof environment.moreInfiniteExpandAnimation?environment.moreInfiniteExpandAnimation:{easing:"easeOutCirc",duration:700},divFadeInAnimation:"undefined"!=typeof environment&&"undefined"!=typeof environment.moreInfiniteFadeInAnimation?environment.moreInfiniteFadeInAnimation:{easing:"easeOutQuad",duration:1100},doneLoadingContentCallback:function(){"undefined"!=typeof environment.ellipsisTargets&&d.init({targets:environment.ellipsisTargets})},animationDoneCallback:function(){e(".social-score").not(".is-initialized").createSocialScores({pluginImagePath:"../assets/images/plugins/",share:{facebook:!0,twitter:!0,pinterest:!0,tumblr:!1,comment:!0}}),e("#rightNavWidget").stickySidebar("updateAnchorPositions"),e(window).trigger("resize")}})}function _(){g.registerEvent("edge.create")}function x(t){e("html").hasClass("touch")||(e(t.event.currentTarget).parent().hasClass("next")?(e(t.carousel.previousItem).siblings().not(e(t.carousel.selected)).not(e(t.carousel.nextItem)).removeClass("collapsed"),e(t.carousel.nextItem).addClass("collapsed")):e(t.event.currentTarget).parent().hasClass("previous")&&e(t.carousel.previousItem).addClass("collapsed").siblings().not(e(t.carousel.selected)).not(e(t.carousel.nextItem)).removeClass("collapsed"))}function T(t){setTimeout(function(){e(t).each(function(t,n){var i=e(n).width();i>=350&&670>i&&(e(n).css({display:"block",margin:"0 auto","float":"none"}),e(n).removeClass("left"),e(n).removeClass("right"))})},2500)}function k(){"undefined"!=typeof environment.initVideoSlideshow&&m.init()}function C(){"undefined"!=typeof environment.facebookAppID&&g.load({appId:environment.facebookAppID,status:!0,cookie:!0,xfbml:!0,oauth:!0})}function I(){var t="",n=o.get("R29_DISPLAY_NAME")&&o.get("R29_UID");if(n){t=o.get("R29_DISPLAY_NAME"),t=t.replace("+"," "),n=!0;var i=e("[data-user-display-name]");i.length>0&&i.html(t);var r=e(".logged-out");r.length>0&&r.addClass("hidden");var a=e(".logged-in");a.length>0&&a.removeClass("hidden")}}function E(){e("#CM8_FORMAT_RM").length&&e("#ad-header").removeClass("ad")}function O(t){return window.open(e(t.currentTarget).attr("href"),"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=260,width=600"),!1}var A=t.toUrl("../images/plugins/");return{initialize:function(){if("undefined"!=typeof environment.postscribeEnable&&environment.postscribeEnable?(r.subscribe("POSTSCRIBE_SCRIPT_WRITTEN",E),h.refresh(".ad")):E(),I(),r.subscribe("FB_SDK_LOADED",_),w(),r.subscribe("CAROUSEL_NAV_CLICK",x),r.publish("SHOW_INTERSTITIAL_AD"),k(),b(),S(),T(e(".two-of-three .entry-body img")),"undefined"!=typeof environment.autopin&&environment.autopin&&e(window).bind("load",function(){autopin.init(e(".entry-body img:not(.slideshow-opener, .slideshow-nav, .no-pin)"))}),s.init(e(".carousel")),a.init("#header"),l.init(".video-player"),d.init({targets:"undefined"!=typeof environment.ellipsisTargets?environment.ellipsisTargets:null}),u.init(),v.init(),y.init(),"undefined"!=typeof environment.gaTracker&&"undefined"!=typeof environment.categoryPath&&c.init(environment.gaTracker,!0,environment.categoryPath),"undefined"!=typeof environment.gaEntryVars&&environment.gaEntryTrack===!0){var n=environment.gaEntryVars;c.entryTracking(n.pub_date,n.bylines,n.type,n.id,n.basename)}"undefined"!=typeof environment.modules&&environment.modules.length>0&&t(environment.modules,this.onLazyLoadedJS),p.init(),C(),e(".button-share-facebook").on("click",O)},onLazyLoadedJS:function(){if("undefined"!=typeof arguments)for(var e=0;e<arguments.length;e++)"undefined"!=typeof arguments[e]&&arguments[e].hasOwnProperty("init")&&arguments[e].init()}}}),require.config({paths:{jquery:"//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min","jquery-migrate":"lib/jquery-migrate-1.2.1",easing:"lib/jquery.easing-1.3.min",underscore:"//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.4.4/underscore-min",dotdotdot:"lib/jquery.dotdotdot-1.5.9.min","menu-aim":"lib/jquery.menu-aim","rf29.stickySidebar":"plugins/r29.right-nav-toolbar","rf29.socialScore":"plugins/r29.social-score","rf29.infiniteContent":"plugins/r29.more-infinite-content","rf29.animatedPagination":"plugins/r29.animated-pagination","rf29.comments":"plugins/r29.comments","rf29.slideshow":"r29/r29.slideshow","rf29.paginated":"r29/r29.paginated","rf29.find":"r29/r29.find","referrer.slideshow":"referrer/Source/Slideshow",R29:"referrer/Source/R29","rf29.script":"referrer/Source/Script",brightcove:"referrer/Source/Video",hammer:"referrer/Dependencies/Hammer","rf29.46071":"r29/maps/r29.46071","r29.39996":"r29/maps/r29.39996","r29.48733":"r29/maps/r29.48733","r29.41681":"r29/maps/r29.41681",carousel:"lib/carousel","rf29.maps":"r29/r29.maps",autopin:"lib/jquery.autopin","jquery.masonry":"plugins/jquery.masonry","jquery.imagesloaded":"plugins/jquery.imagesloaded","jquery.slides":"plugins/slides.min.jquery",moment:"lib/moment"},shim:{underscore:{exports:"_"},hammer:{exports:"Hammer",init:function(){return Hammer}},"referrer.slideshow":{deps:["hammer","R29","jquery"]},"rf29.nyc-best-margaritas":{deps:["jquery","require"]},"r29.holiday-drinks":{deps:["jquery","require"]},"r29.margaritas-san-francisco":{deps:["jquery","require"]},"r29.travel-destinations":{deps:["jquery"]},carousel:{deps:["jquery"]},"rf29.maps":{deps:["jquery","R29","carousel"]},"rf29.script":{deps:["R29","jquery-migrate"]},"rf29.socialScore":{deps:["jquery","easing"]},"rf29.stickySidebar":{deps:["jquery","underscore"]},"rf29.infiniteContent":{deps:["jquery","underscore"]},brightcove:{deps:["R29","rf29.script"],init:function(){return R29.onVideoLoad=R29.Video.onLoad,R29.Video}},"rf29.find":{deps:["jquery","jquery.masonry","jquery.imagesloaded","jquery.slides"]},dotdotdot:{deps:["jquery"]},easing:{deps:["jquery"]},"menu-aim":{deps:["jquery"]},autopin:{deps:["jquery"]},"jquery-migrate":{deps:["jquery"]}}}),require(["app"],function(e){e.initialize()}),define("main",function(){}),define("rf29.paginated",["jquery","r29/r29.tracking","r29/r29.ads","autopin","r29/r29.overlay"],function(e,t,n,i,o){function r(i){var r,s=e(u).not(".is-hidden").index()+1;if(r="next"===i?++s:"prev"===i?--s:parseInt(i,10),l(r),!(0===r||r>h)){var d=e("#jump-to-story").offset(),c=d.top;n.iframe_refresh(),e("html, body").animate({scrollTop:c},800),a(r,h),e(u).addClass("is-hidden"),e(u).eq(r-1).removeClass("is-hidden"),window.location.hash="page-"+r,t.refresh(window.location.pathname+window.location.hash),o.init(!0)}}function a(t,n){var i="#btnNextPageHeader, #btnNextPageFooter",o="#btnPrevPageHeader, #btnPrevPageFooter",r=".pagination-current-number",a=".pagination-control-right";1===t?(e(o).hide(),e(i).show()):t===n?(e(i).hide(),e(o).show()):(e(i).show(),e(o).show()),e(r).text(t),Modernizr.csstransitions?e(a).addClass("active"):e(a).animate({opacity:1},5e3)}function s(t){e(u+"[data-page-number!="+t+"]").addClass("is-hidden"),l(t)}function l(t){var n="three-of-three",i="two-of-three",o="full",r="ad-rt",a="ad-full-container";null!==t&&""!==t&&"object"==typeof environment&&(1==t?e("p.other_contributors").show():e("p.other_contributors").hide(),t>1?("1"==environment.fullIntro&&(e("main ."+a).length&&e("main ."+r).insertAfter(e("header.full h1")),e("main ."+n).addClass(i).removeClass(n),e("main header").removeClass(o)),e(".campaign-branding-primary").hide(),e(".campaign-branding-secondary").show()):("1"==environment.fullIntro&&(e("main ."+a).length&&e("main ."+a).append(e("main ."+r)).show(),e("main ."+i).addClass(n).removeClass(i),e("main header").addClass(o)),e(".campaign-branding-secondary").hide(),e(".campaign-branding-primary").show()))}function d(){var e,t,n;if(e=window.location.hash.replace("#page-",""),t=location.search.replace("?","").split("&"),""===e||null==e)for(var i in t)"string"==typeof t[i]&&"page"===t[i].split("=")[0]&&(e=t[i].split("=")[1],n=window.location.pathname+"#page-"+t[i].split("=")[1],history.replaceState(null,null,n));return isNaN(e)&&(e="1"),e=e.length?parseInt(e,10):1}function c(){e(function(){e(".social-score.paginated-article").find(".score-chart, .indicator-bars").hide();var t=d();e("a.button.button-prev-next-large.prev").off().on("click",function(e){e.preventDefault(),r("prev",e)}),e("a.button.button-prev-next-large.next").off().on("click",function(e){e.preventDefault(),r("next",e)}),e(".hashlink").each(function(){var t=e(this);t.off().on("click",function(e){if(-1!==t.attr("href").indexOf("?page=")){e.preventDefault();var n=t.attr("href").split("=")[1];r(n,e)}})}),e(".campaign-branding-primary").show(),i.init(e(".entry-body img:not(.slideshow-opener, .slideshow-nav, .no-pin)")),s(t),a(t,h)})}var u=".pb",h=e(u).length;return{init:c}}),define("rf29.comments",["jquery"],function(e){if(e("#comments-content").length>0){var t,n,i,o,r,a,s=e("#comments-content"),l=e("#comments-toggle"),d=parseInt(s.attr("data-comment-count-from-server")),c='<span class="icon-bubble"></span>',u=95;0===d?(s.addClass("is-collapsed").prepend('<div class="comments-hover" />'),u=e("#comments-content").height()):20>=d&&d>0?(s.addClass("is-collapsed").prepend('<div class="comments-hover" />'),u=e("#comments-content").height(),l.html(c+" "+d+' COMMENTS <span class="icon icon-more-down"></span>')):(s.addClass("is-expanded"),l.html(c+' CLOSE COMMENTS <span class="icon icon-more-up"></span>'));var h=function(r){r.preventDefault(),t=e(this),n=e("#comments-content"),i=n.height(),o=n.find("iframe:eq(1)").height(),s.hasClass("is-collapsed")?(s.find(".comments-hover").hide(),t.html(c+' CLOSE COMMENTS <span class="icon icon-more-up"></span>'),n.animate({height:e("#disqus_thread iframe").height()+"px"},600,"easeOutCubic",function(){n.removeClass("is-collapsed").addClass("is-expanded").removeAttr("style")})):(s.find(".comments-hover").show(),0===d?t.html(c+' COMMENTS <span class="icon icon-more-down"></span>'):t.html(c+" "+d+' COMMENTS <span class="icon icon-more-down"></span>'),n.removeClass("is-expanded").animate({height:u+"px"},600,"easeInCubic",function(){n.addClass("is-collapsed").removeAttr("style")}))};e(document).on("click","input.comment",h),l.on("click",h),s.find(".comments-hover").on("mouseenter, click",function(){a=e(this),r=setTimeout(function(){a.hide(),l.trigger("click")},350)}),s.find(".comments-hover").on("mouseleave",function(){clearTimeout(r)})}}),define("r29/r29.festivaltracker",["jquery"],function(e){var t={coverage_start_dates:{sxsw:"on March 1, 2013",coachella:"on March 19, 2013",bonnaroo:"on June 3, 2013",glastonbury:"on June 17, 2013",pitchfork:"on June 28, 2013",lollapolooza:"on July 25, 2013",osheaga:"on July 26, 2013",sudoeste:"later this year"},fetch_entries_by_tag:function(t,n){var i=t,o=e("#"+n),r=o.parent(),a=o.attr("data-tag-slug"),s=o.find("li").length,l=70,d=o.children().length;e.ajax({type:"GET",url:"/api/blog/entries",data:{tag_slug:a,offset:s,limit:6},success:function(t){t.result.length<6&&r.attr("data-depleted-results",1),t.result.length?(e(t.result).each(function(t){if(5!=t){var i="_gaq.push(['_trackEvent', 'Festival Tracker', 'Related Module', '/"+this.basename+"'])";if(this.main_image){var o=this.title;o.length>l&&(o=o.substring(0,l)+"..."),e("#"+n).append('<li><div class="asset"><a onclick="'+i+'" href="http://www.refinery29.com/'+this.basename+'">'+'<img src="http:'+this.main_image.sizes.x.src.replace("/x/","/65x80/")+'">'+"</a>"+"</div>"+'<div class="title serif"><a onclick="'+i+'" href="http://www.refinery29.com/'+this.basename+'">'+o+"</a></div>"+"</li>")}}}),o.width(o.find("li").length*o.find("li").outerWidth()),i.scroll_carousel(i,"next"),i.animate_nav_arrows(o)):s||d?t.result.length||r.attr("data-depleted-results",1):(r.find(".no-coverage").length||r.append('<div class="no-coverage"><p>Coverage will begin '+i.coverage_start_dates[a]+"."+"</p>"+"</div>"),r.find(".no-coverage").show())}})},scroll_carousel:function(t,n){var i=e("#ft-related-widget .tab-content-container > li:visible"),o=950,r="+=";e(this).hasClass("next")||"next"==n?r="+=":(e(this).hasClass("prev")||"previous"==n)&&(r="-="),i.animate({scrollLeft:r+o},500,function(){t.animate_nav_arrows(i.find(".slides"))})},animate_nav_arrows:function(t){var n=t.parent(),i=t.children().length,o=n.scrollLeft(),r=parseInt(n.attr("data-depleted-results")),a=e("#ft-related-widget .previous-next"),s=a.children();0==t.find("li").length&&1==n.find(".no-coverage").length||5>i?s.removeClass("visible").addClass("hidden"):0==n.scrollLeft()?(s.removeClass("visible hidden"),a.find(".prev").addClass("hidden")):r&&t.width()==950+o?(s.removeClass("visible hidden"),a.find(".next").addClass("hidden")):s.removeClass("hidden").addClass("visible")},expand_collapse:function(){var t=e("#ft-related-widget .bottom").is(":visible"),n=e("#ft-related-widget .bottom"),i=e("#ft-related-widget .tabs li"),o=e("#expansion-arrow");t?(i.find(".down-arrow").each(function(){e(this).fadeOut(250)}),n.slideToggle("slow"),o.addClass("collapsed").removeClass("expanded"),_gaq.push(["_trackEvent","Festival Tracker","Related Module","Close Toggle"])):(i.each(function(){e(this).hasClass("selected")&&e(this).find(".down-arrow").show()}),n.slideToggle("slow"),o.addClass("expanded").removeClass("collapsed"),_gaq.push(["_trackEvent","Festival Tracker","Related Module","Open Toggle"]))},show_bar:_.debounce(function(){var t=e("#ft-related-widget").outerHeight();if(null!==t){var n=e(".entry .footer").offset().top+e(".entry .footer").outerHeight(),i=e(window).scrollTop()+(e(window).height()-t),o=i-n,r=e("#ft-related-widget .bottom");o>0&&!r.is(":visible")&&(r.slideToggle("slow",function(){e(window).unbind("scroll.show_bar")}),e("#expansion-arrow").addClass("expanded").removeClass("collapsed"),e("#ft-related-widget .tabs > li.selected").find(".down-arrow").show())}},200),init:function(){var t=this,n=e("#ft-related-widget .tab-content-container").children();n.each(function(n,i){var o=e(i).find(".slides"),r=o.attr("id");t.fetch_entries_by_tag(t,r)}),n.hide();var i=e("#ft-related-widget li.selected").attr("data-slides-id"),o=e("#"+i);o.parent().show(),e(document).on("click",".tabs li",function(){e(this).each(function(n,i){var o=e(i).attr("data-slides-id"),r=e("#"+o),a=r.parent(),s=e("#ft-related-widget .bottom").is(":visible");e("#ft-related-widget .tab-content-container").children().hide(),a.show(),e(this).parent().children().removeClass("selected").find(".down-arrow").hide(),e(this).addClass("selected"),s?e(this).find(".down-arrow").show():t.expand_collapse(),t.animate_nav_arrows(r)})}),e(document).on("click","#ft-related-widget .previous-next .next",function(){var n=e(".tab-content-container > li:visible"),i=e(".tab-content-container ul:visible").attr("id"),o=e("#"+i),r=950,a=n.scrollLeft()+r;parseInt(n.attr("data-depleted-results"))||a!=o.outerWidth()?t.scroll_carousel(t,"next"):t.fetch_entries_by_tag(t,i)}),e(document).on("click",".previous-next .prev",function(){t.scroll_carousel.call(this,t,"")}),e(document).on("click","#expansion-arrow",this.expand_collapse),e(window).bind("scroll.show_bar",function(){t.show_bar()}),e("#ft-related-widget .tabs li").hover(function(){var t=e("#ft-related-widget .bottom").is(":visible");t?e(this).find(".down-arrow").show():e(this).find(".down-arrow").hide()},function(){var t=e("#ft-related-widget .bottom").is(":visible");t&&e(this).hasClass("selected")?e(this).find(".down-arrow").show():e(this).find(".down-arrow").hide()})}};t.init()}),define("r29/r29.trendingSocial",["jquery","r29/r29.events"],function(e){function t(){e(function(){e(".social-custom-buttons a.button").on("click",n)})}function n(t){return e(t.currentTarget).parents("ul").find("a").removeClass("expanded").end().end().addClass("expanded"),e(".tab-content").attr("hidden",!0).parent().find(e(t.currentTarget).attr("href")).attr("hidden",!1),e(t.currentTarget).parents("header").find(".three-of-five div.h1").html('<span class="icon-signal"></span> Trending on '+e(t.currentTarget).attr("href").replace("#tab-","")),!1}return{init:t}});
//# sourceMappingURL=main.js.map